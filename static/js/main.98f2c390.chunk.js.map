{"version":3,"sources":["theme.ts","components/InteractiveStack.tsx","hooks/useQuery.tsx","components/RoutedAnchor.tsx","pages/modals/About.tsx","pages/modals/Privacy.tsx","pages/modals/Credits.tsx","store/store.ts","pages/modals/ModalSelector.tsx","Routes.ts","components/NavMenu.tsx","components/PageContainer.tsx","components/CameraIndicator.tsx","components/FullWidthStack.tsx","pages/chapters/useIsActive.tsx","components/Timeline.tsx","720p.mp4","pages/chapters/ChapterX.tsx","pages/chapters/Chapter.tsx","pages/covers/Cover1.tsx","pages/covers/Cover.tsx","pages/plain/EndPage.tsx","pages/plain/Error.tsx","pages/plain/CustomButton.tsx","components/Frames.tsx","pages/plain/Links.tsx","pages/plain/Home.tsx","pages/plain/HomeCoil.tsx","pages/plain/Permission.tsx","App.tsx","index.tsx"],"names":["colorTheme","black","white","offWhite","red","redLight","grayLight","charcoal","blue","green","yellow","yellowOpaque","yellowAlternative","background","light","dark","text","customTheme","tip","content","color","global","colors","font","family","borderSize","medium","small","breakpoints","value","large","xlarge","heading","responsiveBreakpoint","undefined","level","size","height","weight","paragraph","maxWidth","xsmall","button","border","radius","width","padding","horizontal","vertical","layer","overlay","opacity","StyledStackLayer","styled","div","props","guiding","fillContainer","interactive","InteractiveStack","anchor","children","fill","guidingChild","rest","prunedChildren","Children","toArray","filter","c","guidingIndex","child","index","length","toChildIndex","styledChildren","map","buildStyledChildren","StyledStack","useQuery","location","useLocation","search","useMemo","URLSearchParams","RoutedAnchor","to","href","Anchor","as","RoutedButton","Button","QueryButton","query","history","useHistory","onClick","operation","delete","key","set","push","toString","About","useContext","ResponsiveContext","Text","Privacy","Credits","initialState","webcamStream","nextVideoToPlay","chapter","store","create","get","setWithLog","partial","replace","console","log","table","setWebcamStream","setNextVideoToPlay","useStore","createStoreHook","ModalSelector","close","useCallback","onClose","frameColor","textColor","Modal","backgroundColor","state","Layer","full","responsive","animate","position","onEsc","animation","Box","style","ModalContainer","margin","top","bottom","gap","Frame","ScrollableFrame","ScrollableFrameLarge","overflow","className","outlineOffset","outline","useState","showBorder","setShowBorder","isSmall","ScrollableBox","CustomScrollbarBox","flex","Heading","onScroll","event","target","scrollTop","right","pad","ScrollingHeadingBlock","bottomBorderStyle","borderBottom","direction","justify","plain","label","ModalContent","left","max","align","plainPageRoutes","chapterRoutes","chapterRouteNames","plainPageRouteNames","NavMenu","isUsingWebcam","modal","DropButton","alignSelf","dropContent","Nav","url","CheckBox","toggle","checked","onChange","getState","MediaStream","Accordion","AccordionPanel","includes","Menu","PageContainer","Grommet","theme","CameraIndicator","margins","CameraIndicatorBox","ChapterCameraIndicator","WebcamNotification","zIndex","CameraIcon","viewBox","xmlns","fill-rule","clip-rule","d","cx","cy","r","styleMap","center","FullWidthStack","interactiveChild","interactiveIndex","useIsActive","isActive","setIsActive","useEffect","timeout","onActivity","clearTimeout","setTimeout","window","addEventListener","removeEventListener","Timeline","showScrubber","Stack","getClickCoordinates","type","startsWith","isTouchEvent","x","changedTouches","clientX","y","clientY","ClickableBox","LeftInsetOutline","ChapterIndicator","chapterNumber","ref","useRef","thisIsTheCurrentChapter","current","nativeEvent","rect","getBoundingClientRect","relativeX","Math","min","setProgress","pointerEvents","ChapterIndicators","Grid","columns","count","PlayPauseButton","Icon","intention","Play","Pause","getIsPlaying","pause","play","icon","RewindButton","seekTimeDelta","Rewind","FadeColorText","ModalOpenButtons","StoreScrubber","isDragging","setIsDragging","progress","oldState","newState","wasPlaying","onScrubberDragStart","onScrubberDragEnd","onScrubberDrag","onDrag","onDragStart","onDragEnd","Scrubber","buttonRef","containerRef","container","element","relativePosition","containerDimensions","dragInitial","dragCurrent","startPosition","setTransform","clippedX","transform","onDragStartInner","preventDefault","onDragInner","onDragEndInner","passive","useDraggableElement","round","ChapterX","rewind","currentTime","paused","ended","readyState","getProgress","duration","delta","clippedTarget","updateStore","setState","video","useChapter","boxSizing","src","videoSrc","Chapter","ChapterContainer","AspectRatioBox","ChapterContainerSmallMedium","areas","name","start","end","rows","gridArea","ChapterContainerLargeXLarge","ChapterContent","marginTop","marginHorizontal","marginBottom","FadingOutline","outlineColor","ChapterFrameStack","StackLayerGuiding","StackLayerNotGuiding","minHeight","ChapterFrame","OpacityFade","isShown","ChapterHeadingBlock","isSmallOrMedium","Cover1","canvasRef","contextRef","canvas","maybeContext","getContext","paint","pointerX","pointerY","context","requestAnimationFrame","fillStyle","sin","Date","now","beginPath","ellipse","PI","onMouseMove","screenX","screenY","clip","clippedY","relativeY","getRelativeClickPosition","onTouchMove","getRelativeTouchPosition","onWindowResize","innerWidth","innerHeight","Cover","CoverContainer","CoverContainerSmallMedium","CoverContainerLargeXLarge","CoverContent","CoverFrame","CoverHeadingBlock","userSelect","EndPage","Paragraph","Error","CustomRoutedButton","textContent","PageFrame","Links","LinksSmall","LinksFloating","LinkFrame","LinksHeading","Home","HomeContainer","HomeContent","HomeCoil","Permission","PermissionContainer","PermissionContent","textDecoration","routeToComponent","component","App","basename","exact","path","WebFont","custom","families","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yPAEaA,EAAa,CACxBC,MAAO,UACPC,MAAO,UACPC,SAAU,UACVC,IAAK,UACLC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,KAAM,UACNC,MAAO,UACPC,OAAQ,UACRC,aAAc,wBACdC,kBAAmB,UACnBC,WAAY,CAAEC,MAAO,UAAWC,KAAM,WACtCC,KAAM,CAAEF,MAAO,YAGJG,EAAyB,CACpCC,IAAK,CACHC,QAAS,CACPN,WAAY,CACVO,MAAO,WAIbC,OAAQ,CACNC,OAAO,eACFtB,GAELuB,KAAM,CACJC,OAAQ,sBAEVC,WAAY,CACVC,OAAQ,MACRC,MAAO,OAGTC,YAAa,CACXD,MAAO,CACLE,MAAO,KAETH,OAAQ,CACNG,MAAO,MAETC,MAAO,CACLD,MAAO,MAETE,OAAQ,KAGZC,QAAS,CACPC,0BAAsBC,EACtBC,MAAO,CACL,EAAK,CACHR,MAAO,CACLS,KAAM,OACNC,OAAQ,QAEVX,OAAQ,CACNU,KAAM,OACNC,OAAQ,YAGZ,EAAK,CACHV,MAAO,CACLS,KAAM,OACNC,OAAQ,UAIdC,OAAQ,KAEVC,UAAW,CACTZ,MAAO,CACLS,KAAM,OACNC,OAAQ,OACRG,cAAUN,GAEZR,OAAQ,CACNU,KAAM,OACNC,OAAQ,OACRG,cAAUN,IAGdlB,KAAM,CACJyB,OAAQ,CACNL,KAAM,OACNC,OAAQ,OACRG,cAAUN,GAEZP,MAAO,CACLS,KAAM,OACNC,OAAQ,OACRG,cAAUN,GAEZR,OAAQ,CACNU,KAAM,OACNC,OAAQ,OACRG,cAAUN,GAEZ,OAAQ,GACR,OAAQ,GACR,OAAQ,GACR,OAAQ,GACR,OAAQ,IAEVQ,OAAQ,CACNC,OAAQ,CACNC,OAAQ,IACRC,MAAO,OAETC,QAAS,CACPC,WAAY,OACZC,SAAU,QAEZZ,KAAM,CACJT,MAAO,CACLgB,OAAQ,CACNC,OAAQ,QAKhBK,MAAO,CACLC,QAAS,CACPrC,WAAY,CACVsC,QAAS,M,4IC1HjB,IAAMC,EAAmBC,UAAOC,IAAV,KAKR,SAACC,GAAD,OAAYA,EAAMC,QAAU,WAAa,cACnD,SAACD,GAAD,OAAWA,EAAMC,SAAW,qBAC5B,SAACD,GAAD,OACCA,EAAMC,SAAP,4CAMA,SAACD,GAAD,OACAA,EAAME,eAAN,+CAKA,SAACF,GAAD,OAAYA,EAAMG,aAAP,2BAsBFC,EAAmB,SAAC,GAM+B,IAL9DC,EAK6D,EAL7DA,OACAC,EAI6D,EAJ7DA,SACAC,EAG6D,EAH7DA,KACAC,EAE6D,EAF7DA,aACGC,EAC0D,2DACvDC,EAAiBC,WAASC,QAAQN,GAAUO,QAAO,SAACC,GAAD,OAAOA,KAQ1DC,EAPe,SAACC,GACpB,IAAIC,EAAQD,EAGZ,MAFc,UAAVC,GAAsBA,EACP,SAAVA,IAAkBA,EAAQP,EAAeQ,OAAS,GAD1BD,EAAQ,EAElCA,EAGYE,CAAaX,GAE5BY,EAAiBV,EAAeW,KAAI,SAACL,EAAOC,GAChD,OArCwB,SAAC,GAAD,EAC1BZ,OAD0B,IAE1BE,EAF0B,EAE1BA,KACAQ,EAH0B,EAG1BA,aAH0B,OAQtB,SAACC,EAAYC,GACjB,IACMjB,EADiBiB,IAAUF,EACF,CAAEd,SAAS,EAAMC,cAAeK,GAAS,GAExE,OACE,cAACV,EAAD,yBAA8BM,aAAa,GAAUH,GAArD,aACGgB,IADoBC,IAwBhBK,CAAoB,CACzBjB,SACAE,OACAQ,gBAHKO,CAIJN,EAAOC,MAGZ,OACE,cAACM,EAAA,YAAD,yBAAarB,cAAeK,GAAUE,GAAtC,aACGW,M,kBCxEA,SAASI,IACd,IAAMC,EAAWC,cAAcC,OAC/B,OAAOC,mBAAQ,kBAAM,IAAIC,gBAAgBJ,KAAW,CAACA,ICChD,IAAMK,EAAe,SAAC9B,GAC3B,OACE,cAAC,IAAD,CAAM+B,GAAI/B,EAAMgC,KAAhB,SACE,cAACC,EAAA,EAAD,2BAAYjC,GAAZ,IAAmBkC,GAAI,YAKhBC,EAAe,SAC1BnC,GAQA,OACE,cAAC,IAAD,CAAM+B,GAAI/B,EAAMgC,KAAhB,SACE,cAACI,EAAA,EAAD,2BAAYpC,GAAZ,IAAmBkC,GAAI,YAKhBG,EAAc,SACzBrC,GAcA,IAAMsC,EAAQd,IACRe,EAAUC,cAEhB,OACE,cAACJ,EAAA,EAAD,2BACMpC,GADN,IAEEkC,GAAI,MACJO,QAAS,WACuB,UAA1BzC,EAAMsC,MAAMI,UACdJ,EAAMK,OAAO3C,EAAMsC,MAAMM,KAEzBN,EAAMO,IAAI7C,EAAMsC,MAAMM,IAAK5C,EAAMsC,MAAMhE,OAEzCiE,EAAQO,KAAR,2BACKP,EAAQd,UADb,IAEEE,OAAQW,EAAMS,mB,SCzDXC,EAAQ,WACnB,IAAMnE,EAAOoE,qBAAWC,KAKxB,OACE,mCACE,eAACC,EAAA,EAAD,CAAMtE,KAAe,UAATA,EAAmB,QAAU,SAAzC,0UAME,uBACA,uBAPF,kUAaE,uBACA,uBAdF,wUCROuE,EAAU,WACrB,IAAMvE,EAAOoE,qBAAWC,KAKxB,OACE,mCACE,eAACC,EAAA,EAAD,CAAMtE,KAAe,UAATA,EAAmB,QAAU,SAAzC,0UAME,uBACA,uBAPF,kUAaE,uBACA,uBAdF,wUCROwE,EAAU,WACrB,IAAMxE,EAAOoE,qBAAWC,KAKxB,OACE,mCACE,eAACC,EAAA,EAAD,CAAMtE,KAAe,UAATA,EAAmB,QAAU,SAAzC,0UAME,uBACA,uBAPF,kUAaE,uBACA,uBAdF,wU,gBCcAyE,EAA6C,CACjDC,kBAAc5E,EACd6E,qBAAiB7E,EACjB8E,aAAS9E,GAEE+E,E,MAAQC,IAAc,SAACd,EAAKe,GACvC,IAAMC,EAA8B,SAACC,EAASC,GAC5CC,QAAQC,IAAI,+BACZD,QAAQE,MAAMJ,GACdjB,EAAIiB,EAASC,IAEf,OAAO,2BACFT,GADL,IAEEa,gBAFF,SAEkBZ,GACdM,EAAW,CAAEN,kBAEfa,mBALF,SAKqBZ,GACjBK,EAAW,CAAEL,0BAKNa,EAAWC,YAAgBZ,G,0RC5BjC,IAAMa,EAAgB,WAC3B,IAAMjC,EAAQd,IACRe,EAAUC,cAEVgC,EAAQC,uBAAY,WACxBnC,EAAMK,OAAO,SACbJ,EAAQO,KAAR,2BACKP,EAAQd,UADb,IAEEE,OAAQW,EAAMS,gBAEf,CAACR,EAASD,IAEb,OAAQA,EAAMsB,IAAI,UAChB,IAAK,QACH,OACE,cAAC,EAAD,CACEc,QAASF,EACTG,WAAYlI,EAAWQ,KACvB2H,UAAWnI,EAAWE,MACtB8B,QAAQ,QAJV,SAME,cAAC,EAAD,MAGN,IAAK,UACH,OACE,cAAC,EAAD,CACEiG,QAASF,EACTG,WAAYlI,EAAWI,IACvB+H,UAAWnI,EAAWE,MACtB8B,QAAQ,UAJV,SAME,cAAC,EAAD,MAGN,IAAK,UACH,OACE,cAAC,EAAD,CACEiG,QAASF,EACTG,WAAYlI,EAAWS,MACvB0H,UAAWnI,EAAWE,MACtB8B,QAAQ,UAJV,SAME,cAAC,EAAD,MAGN,QACE,OAAO,OAIPoG,EAAQ,SAAC,GAWP,IAVNH,EAUK,EAVLA,QACApE,EASK,EATLA,SACAqE,EAQK,EARLA,WACAC,EAOK,EAPLA,UACAnG,EAMK,EANLA,QAOMqG,EAAkBT,GAAS,SAACU,GAAD,YACbpG,IAAlBoG,EAAMtB,QAAwB,QAAU,uBAE1C,OACE,qCACE,cAACuB,EAAA,EAAD,CACEC,MAAI,EACJC,YAAY,EACZC,SAAO,EACPC,SAAU,SACVC,MAAOX,EACPY,UAAW,SANb,SAQE,cAACC,EAAA,EAAD,CAAKhF,MAAI,EAACjD,WAAYwH,MAExB,cAACE,EAAA,EAAD,CACEC,MAAI,EACJC,YAAY,EACZC,SAAO,EACPC,SAAU,SACVC,MAAOX,EACPY,UAAW,QACXE,MAAO,CACLV,gBAAiB,iBARrB,SAWE,cAAC,EAAD,CACEH,WAAYA,EACZC,UAAWA,EACXnG,QAASA,EAHX,SAKE,cAAC,EAAD,UAAe6B,YAOnBmF,EAAiB,SAAC,GAShB,IAOFzF,EAfJM,EAQK,EARLA,SACAsE,EAOK,EAPLA,UACAD,EAMK,EANLA,WACAlG,EAKK,EALLA,QAMMI,EAAOoE,qBAAWC,KAOxB,OAAQrE,GACN,IAAK,QACHmB,EAAQ,CACN0F,OAAQ,CAAElG,WAAY,OAAQmG,IAAK,OAAQC,OAAQ,QACnDC,IAAK,QAEP,MACF,IAAK,SACH7F,EAAQ,CACN0F,OAAQ,CAAElG,WAAY,OAAQmG,IAAK,OAAQC,OAAQ,QACnDC,IAAK,QAEP,MACF,IAAK,QAKL,IAAK,SACH7F,EAAQ,CACN0F,OAAQ,CAAElG,WAAY,OAAQmG,IAAK,OAAQC,OAAQ,SAKzD,IAAME,EACK,UAATjH,GAA6B,WAATA,EAChBkH,EACAC,EACN,OACE,cAACT,EAAA,EAAD,CAAKhF,MAAI,EAAC0F,SAAS,SAAnB,SACE,cAACV,EAAA,EAAD,yBAAKW,UAAU,mBAAsBlG,GAArC,IAA4C1C,WAAW,SAAvD,SACE,cAACwI,EAAD,CAAOlB,UAAWA,EAAWD,WAAYA,EAAYlG,QAASA,EAA9D,SACG6B,UAOLyF,EAAkB,SAAC,GASjB,IARNzF,EAQK,EARLA,SACAqE,EAOK,EAPLA,WACAC,EAMK,EANLA,UACAnG,EAKK,EALLA,QAMM+G,EAAuB,CAC3BW,cAAc,OACdC,QAAQ,OAAD,OAASzB,EAAT,WAHJ,EAM+B0B,oBAAS,GANxC,mBAMEC,EANF,KAMcC,EANd,KAOCC,EAA4C,UAAlCvD,qBAAWC,KAErBuD,EAAgBD,EAAUjB,IAAMmB,EAEtC,OACE,eAACnB,EAAA,EAAD,CAAKW,UAAU,mBAAmBV,MAAOA,EAAOmB,MAAM,EAAOpG,MAAI,EAAjE,UACE,cAAC,EAAD,CAAuBoE,WAAYA,EAAY2B,WAAYA,EAA3D,SACE,cAACM,EAAA,EAAD,CACEhI,MAAO,EACPf,MAAO+G,EACPc,OAAO,IACP7G,KAAM2H,EAAU,QAAU,SAJ5B,SAMG/H,MAIL,cAAC8G,EAAA,EAAD,CAAKhF,MAAI,EAAT,SACE,cAACkG,EAAD,CACEE,MAAM,EACNV,SAAU,CAAEzG,WAAY,SAAUC,SAAU,QAC5CoH,SAAU,SAACC,GAAD,OACRP,EAA0D,IAA3CO,EAAMC,OAAuBC,YAE9ClI,OAAO,OACP4G,OAAQ,CAAEuB,MAAOT,EAAU,IAAM,QAPnC,SASGlG,UAOL0F,EAAuB,SAAC,GAStB,IARN1F,EAQK,EARLA,SACAqE,EAOK,EAPLA,WACAC,EAMK,EANLA,UACAnG,EAKK,EALLA,QAMM+G,EAAuB,CAC3BW,cAAc,OACdC,QAAQ,OAAD,OAASzB,EAAT,WAEH6B,EAA4C,UAAlCvD,qBAAWC,KAErBuD,EAAgBD,EAAUjB,IAAMmB,EAEtC,OACE,cAACnB,EAAA,EAAD,CAAKW,UAAU,mBAAmBV,MAAOA,EAAOmB,MAAM,EAAOpG,MAAI,EAAjE,SACE,eAAC,EAAD,CAAkBA,MAAI,EAAtB,UACE,cAACgF,EAAA,EAAD,CAAKhF,MAAI,EAAT,SACE,cAACkG,EAAD,CACEE,MAAM,EACNV,SAAU,CAAEzG,WAAY,SAAUC,SAAU,QAC5CX,OAAO,OACPoI,IAAK,CAAEvB,IAAK,QACZD,OAAQ,CAAEuB,MAAO,OAAQtB,IAAK,QALhC,SAOGrF,MAGL,cAACiF,EAAA,EAAD,CAAKG,OAAQ,CAAEuB,MAAO,QAAtB,SACE,cAAC,EAAD,CAAuBtC,WAAYA,EAAY2B,YAAY,EAA3D,SACE,cAACM,EAAA,EAAD,CACEhI,MAAO,EACPf,MAAO+G,EACPc,OAAO,IACP7G,KAAM2H,EAAU,QAAU,SAJ5B,SAMG/H,cASTiI,EAAqB5G,kBAAOyF,IAAPzF,CAAH,IASArD,EAAWY,kBAEVZ,EAAWC,OAI9ByK,EAAwB,SAAC,GAOvB,IANNxC,EAMK,EANLA,WACArE,EAKK,EALLA,SACAgG,EAIK,EAJLA,WAKMzH,EAAOoE,qBAAWC,KAEpBkE,EAAoB,GACX,UAATvI,GAA6B,WAATA,IACtBuI,EAAoBd,EAChB,CAAEe,aAAa,aAAD,OAAe5K,EAAWY,oBACxC,CAAEgK,aAAa,aAAD,OAAe5K,EAAWU,UAE9C,IAAMqJ,EAA4C,UAAlCvD,qBAAWC,KAE3B,OACE,eAACqC,EAAA,EAAD,CACEoB,MAAM,EACNT,UAAU,gBACVoB,UAAU,MACV9B,MAAO4B,EACPG,QAAS,UALX,UAOE,cAAChC,EAAA,EAAD,CACEjI,WAAYqH,EACZuC,IAAK,CAAE1H,WAAY,OAAQC,SAAU,QAFvC,SAIGa,IAEH,cAACiF,EAAA,EAAD,CAAK2B,IAAK,CAAE1H,WAAY,OAAQC,SAAU,QAA1C,SACE,cAAC,EAAD,CACE6C,MAAO,CAAEM,IAAK,QAAStE,MAAO,UAAWoE,UAAW,SACpDV,KAAK,WACLwF,OAAK,EACLjH,MAAI,EACJkH,MACE,cAACb,EAAA,EAAD,CAAShI,MAAO,EAAG8G,OAAO,IAAI7G,KAAM2H,EAAU,QAAU,SAAxD,uBAUNkB,EAAe,SAAC,GAAyC,IAOzD1H,EAPkBM,EAAsC,EAAtCA,SAQtB,OAPa2C,qBAAWC,MAQtB,IAAK,QACHlD,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,OAAQV,MAAO,OAAQtB,IAAK,QAC5CuB,IAAK,CAAEtB,OAAQ,SAEjB,MACF,IAAK,SACH5F,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,OAAQV,MAAO,OAAQtB,IAAK,QAC5CrG,MAAO,CAAEsI,IAAK,SACdV,IAAK,CAAEtB,OAAQ,UAEjB,MACF,IAAK,QACH5F,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,QAASV,MAAO,QAAStB,IAAK,QAC9CrG,MAAO,CAAEsI,IAAK,SACdV,IAAK,CAAEtB,OAAQ,UAEjB,MACF,IAAK,SACH5F,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,QAASV,MAAO,QAAStB,IAAK,QAC9CrG,MAAO,CAAEsI,IAAK,SACdV,IAAK,CAAEtB,OAAQ,UAIrB,OACE,cAACL,EAAA,EAAD,CAAKsC,MAAM,SAAX,SACE,cAACtC,EAAA,EAAD,yBAAKM,IAAK,QAAY7F,GAAtB,IAA6B2G,MAAM,EAAnC,SACGrG,Q,wDCnWIwH,GAA8C,CACzD,IACA,QACA,OACA,UAGWC,GAA0C,CACrD,qBACA,uBACA,qBACA,uBACA,qBACA,uBACA,qBACA,uBACA,qBACA,wBAwDWC,GAAwD,CACnE,uBAAwB,aACxB,uBAAwB,aACxB,uBAAwB,aACxB,uBAAwB,aACxB,uBAAwB,aACxB,qBAAsB,WACtB,qBAAsB,WACtB,qBAAsB,WACtB,qBAAsB,WACtB,qBAAsB,YAGXC,GAA4D,CACvE,IAAK,OACL,SAAU,iBACV,WAAY,mBACZ,QAAS,OACT,eAAgB,cAChB,QAAS,OACT,OAAQ,MACR,SAAU,SCnGCC,GAAU,WACrB,IAAMC,EAAgB9D,GAAS,SAACU,GAAD,MAAkC,aAAvBA,EAAMxB,gBAChD,OACE,cAACyB,EAAA,EAAD,CACEoD,OAAO,EACPhD,SAAS,WACTF,YAAY,EACZ5H,WAAY,SAJd,SAME,cAACiI,EAAA,EAAD,CAAK2B,IAAI,QAAT,SACE,cAACmB,EAAA,EAAD,CACEC,UAAU,QACVC,YACE,eAACC,EAAA,EAAD,CAAKlB,UAAU,SAAShK,WAAW,QAAnC,UACGwK,GAAgBzG,KAAI,SAACoH,GAAD,OACnB,cAAC,EAAD,CACEzG,KAAMyG,EACNhB,MAAOQ,GAAoBQ,IACtBA,MAIT,cAACC,EAAA,EAAD,CACEC,QAAM,EACNlB,MAAM,SACNmB,QAAST,EACTU,SAAU,SAAC/B,GACLA,EAAMC,OAAO6B,QACKlF,EAAMoF,WAAWvF,wBACVwF,aAEzBrF,EAAMoF,WAAW3E,qBAAgBxF,GAGnC+E,EAAMoF,WAAW3E,gBAAgB,eAKvC,eAAC6E,EAAA,EAAD,CAAW7D,SAAO,EAACmC,UAAU,MAA7B,UACE,cAAC2B,GAAA,EAAD,CAAgBxB,MAAO,cAACxF,EAAA,EAAD,CAAQwF,MAAM,aAArC,SACGM,GACElH,QAAO,SAAC4H,GAAD,OAASA,EAAIS,SAAS,gBAC7B7H,KAAI,SAACoH,GAAD,OACH,cAAC,EAAD,CACEzG,KAAMyG,EACNhB,MAAOO,GAAkBS,IACpBA,QAIb,cAACQ,GAAA,EAAD,CAAgBxB,MAAO,cAACxF,EAAA,EAAD,CAAQwF,MAAM,WAArC,SACGM,GACElH,QAAO,SAAC4H,GAAD,OAASA,EAAIS,SAAS,cAC7B7H,KAAI,SAACoH,GAAD,OACH,cAAC,EAAD,CACEzG,KAAMyG,EACNhB,MAAOO,GAAkBS,IACpBA,cAhDrB,SAwDE,cAACU,GAAA,EAAD,WChFGC,GAAgB,SAAC,GAAyC,IAAvC9I,EAAsC,EAAtCA,SAC9B,OACE,eAAC+I,EAAA,EAAD,CAASC,MAAO5L,EAAauH,MAAI,EAAC3H,WAAW,SAA7C,UACE,cAAC,GAAD,IACCgD,EACD,cAAC,EAAD,Q,UCPOiJ,GAAkB,SAAC,GAMzB,IALLjD,EAKI,EALJA,WAKI,IAJJxB,uBAII,MAJc,SAId,EACEjG,EAAOoE,qBAAWC,KAMlBsG,EACK,UAAT3K,GAA6B,WAATA,EAChB,CAAEoI,MAAO,OAAQtB,IAAK,OAAQC,OAAQ,QACtC,CAAEqB,MAAO,OAAQtB,IAAK,OAAQC,OAAQ,QACtCwB,EAAoBd,EACtB,CAAEe,aAAa,aAAD,OAAe5K,EAAWY,oBACxC,GACJ,OACE,cAACkI,EAAA,EAAD,CACEhF,KAAK,aACLjD,WAAYwH,EACZ6B,MAAM,EACNnB,MAAO4B,EAJT,SAME,cAAC7B,EAAA,EAAD,CAAK+B,UAAU,MAAMC,QAAQ,MAAM7B,OAAQ8D,EAA3C,SACE,cAAC,GAAD,SAMFC,GAAqB,WACzB,OACE,eAAClE,EAAA,EAAD,CAAK+B,UAAU,MAAMlI,OAAQ,CAAEvB,MAAO,SAAUgB,KAAM,OAAtD,UACE,cAAC0G,EAAA,EAAD,CAAKjI,WAAW,WAAhB,SACE,cAAC,GAAD,MAEF,cAACiI,EAAA,EAAD,CACEjI,WAAW,WACX4J,IAAK,CAAED,MAAO,OAAQU,KAAM,OAAQlI,SAAU,OAFhD,SAIE,cAAC0D,EAAA,EAAD,CAAMtE,KAAK,QAAQhB,MAAM,YAAzB,8BAQK6L,GAAyB,WACpC,OACE,cAACnE,EAAA,EAAD,CAAKhF,KAAK,aAAaoG,MAAM,EAA7B,SACE,eAACpB,EAAA,EAAD,CAAKgC,QAAQ,MAAM1B,IAAK,OAAxB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,UAMF8D,GAAqB,WACzB,OACE,cAACpE,EAAA,EAAD,CACEoB,MAAM,EACNnB,MAAO,CACLJ,SAAU,WACVO,IAAK,oBACLiE,OAAQ,GAEVtM,WAAY,QACZ4J,IAAI,OACJ9H,OAAQ,CAAEvB,MAAO,MAAOgB,KAAM,OAThC,SAWE,cAACsE,EAAA,EAAD,CAAMtE,KAAK,SAAShB,MAAM,WAA1B,uEAOAgM,GAAa,WACjB,OACE,cAACtE,EAAA,EAAD,CAAKjI,WAAW,WAAhB,SACE,sBACEgC,MAAM,KACNR,OAAO,KACPgL,QAAQ,YACRvJ,KAAK,OACLwJ,MAAM,6BALR,UAOE,sBACEC,YAAU,UACVC,YAAU,UACVC,EAAE,iWACF3J,KAAK,YAEP,sBACE2J,EAAE,wEACF3J,KAAK,YAEP,wBAAQ4J,GAAG,KAAKC,GAAG,KAAKC,EAAE,IAAI9J,KAAK,kB,uHChG3C,IAAM+J,GAAW,CACf/J,KAAK,iEAMLgK,OAAO,6EAKP5C,KAAK,sEAKLV,MAAM,uEAKNtB,IAAI,sEAKJC,OAAO,yEAKP,WAAW,oDAKX,WAAW,kCAIX,cAAc,qCAId,YAAY,mCAIZ,eAAe,uCAMX/F,GAAmBC,UAAOC,IAAV,MAMR,SAACC,GAAD,OAAYA,EAAMC,QAAU,WAAa,cACnD,SAACD,GAAD,OAAWA,EAAMC,SAAW,qBAC5B,SAACD,GAAD,OAAYA,EAAMC,SAAP,UAAqBqK,GAAStK,EAAMK,QAAU,QAA9C,QACX,SAACL,GAAD,OACAA,EAAME,eAAN,+CAKA,SAACF,GAAD,OAAYA,EAAMG,aAAP,2BA8BFqK,GAAiB,SAAC,GASxB,IARLnK,EAQI,EARJA,OACAC,EAOI,EAPJA,SACAC,EAMI,EANJA,KACAC,EAKI,EALJA,aACAiK,EAII,EAJJA,iBACGhK,EAGC,8EACEC,EAAiBC,WAASC,QAAQN,GAAUO,QAAO,SAACC,GAAD,OAAOA,KAC1DK,EAAe,SAACH,GACpB,IAAIC,EAAQD,EAGZ,MAFc,UAAVC,GAAsBA,EACP,SAAVA,IAAkBA,EAAQP,EAAeQ,OAAS,GAD1BD,EAAQ,EAElCA,GAGHF,EAAeI,EAAaX,GAC5BkK,EAAmBD,GAAoBtJ,EAAasJ,GAEpDrJ,EAAiBV,EAAeW,IAhDZ,SAAC,GAAD,IAC1BhB,EAD0B,EAC1BA,OACAE,EAF0B,EAE1BA,KACAQ,EAH0B,EAG1BA,aACA0J,EAJ0B,EAI1BA,iBACAC,EAL0B,EAK1BA,iBAL0B,OAYtB,SAAC1J,EAAkBC,GACvB,IAAMd,OACiBxB,IAArB8L,GAAkCC,IAAqBzJ,EAEnDjB,EADiBiB,IAAUF,EAE7B,CAAEd,SAAS,EAAMC,cAAeK,GAChC,CAAEF,UAEN,OACE,cAAC,GAAD,yBAA8BF,YAAaA,GAAiBH,GAA5D,aACGgB,IADoBC,IA4BvBK,CAAoB,CAClBjB,SACAE,OACAQ,eACA0J,mBACAC,sBAIJ,OACE,cAACnJ,EAAA,YAAD,yBAAarB,cAAeK,GAAUE,GAAtC,aACGW,M,wCC7IA,SAASuJ,KAAe,IAAD,EACItE,oBAAS,GADb,mBACrBuE,EADqB,KACXC,EADW,KAoB5B,OAlBAC,qBAAU,WACR,IAAIC,EACEC,EAAa,WACjBH,GAAY,GACRE,GAASE,aAAaF,GAE1BA,EAAWG,YAAW,WACpBL,GAAY,KACX,MAIL,OAFAM,OAAOC,iBAAiB,YAAaJ,GAE9B,WACLD,GAAWE,aAAaF,GACxBI,OAAOE,oBAAoB,YAAaL,MAEzC,IAEIJ,E,ioBCfF,IAAMU,GAAW,SAAC,GAGoB,EAF3CC,aAE4C,IADzCvL,EACwC,gCAC3C,OACE,eAACuF,EAAA,EAAD,yBAAKM,IAAI,OAAU7F,GAAnB,cACE,cAACwL,GAAA,EAAD,CAAOf,iBAAiB,QAAxB,SACE,cAAC,GAAD,MAEF,cAAC,GAAD,SASN,SAASgB,GACP3E,GAEA,OAPF,SAAsBA,GACpB,OAAOA,EAAM4E,KAAKC,WAAW,SAMzBC,CAAa9E,GAGR,CAAE+E,EAFC/E,EAAMgF,eAAe,GAAGC,QAEtBC,EADFlF,EAAMgF,eAAe,GAAGG,SAK3B,CAAEJ,EAFC/E,EAAMiF,QAEJC,EADFlF,EAAMmF,SAKpB,IAAMC,GAAepM,kBAAOyF,IAAPzF,CAAH,MAeZqM,GAAmBrM,UAAOC,IAAV,KAWOtD,EAAWU,QAIlCiP,GAAmB,SAAC,GAAsC,IAApC3I,EAAmC,EAAnCA,QACpB4I,EAAgBhI,GAAS,SAACU,GAAD,uBAAWA,EAAMtB,eAAjB,aAAW,EAAe4I,iBACnDC,EAAMC,iBAAuB,MAY7BC,EAA0BH,IAAkB5I,EAC5CmH,EAAWD,KACjB,OACE,eAACuB,GAAD,CAAcI,IAAKA,EAAY7J,QAdjB,SAACqE,GAA6C,IAAD,EAE3D,GAD4BA,EAAMC,SAAWuF,EAAIG,SAEjBJ,IAAkB5I,EAClD,CAJ2D,IAKnDoI,EAAMJ,GAAoB3E,EAAM4F,aAAhCb,EACFc,EAAQ7F,EAAMC,OAA0B6F,wBACxCC,EAAYC,KAAKC,IAAID,KAAKlF,KAAKiE,EAAIc,EAAKd,GAAKc,EAAKrN,MAAO,GAAI,GAEnE,UAAAoE,EAAMoF,WAAWrF,eAAjB,SAA0BuJ,YAAYH,KAKtC,UACGL,GAA2B,cAAC,GAAD,IAC5B,cAACjH,EAAA,EAAD,CACEjI,WAAY,CAAEO,MAAO,oBAAqB+B,QAAS,IACnDd,OAAO,MACP0G,MAAO,CAAEyH,cAAe,QAH1B,SAKGT,GAA2B5B,GAC1B,cAACuB,GAAD,CACE3G,MAAO,CACLJ,SAAU,WACVuC,KAAM,EACN/B,OAAQ,EACR9G,OAAQ,SALZ,SAQE,cAACyG,EAAA,EAAD,CACEjI,WAAW,QACX4J,IAAI,OACJ9H,OAAQ,CAAEvB,MAAO,SAAUgB,KAAM,OAHnC,SAKE,cAACsE,EAAA,EAAD,CAAMtE,KAAK,QAAQhB,MAAM,WAAzB,iCAWRqP,GAAoB,WACxB,OACE,eAACC,GAAA,EAAD,CACE5M,MAAI,EACJ2E,YAAY,EACZkI,QAAS,CAAEC,MAAO,EAAGxO,KAAM,QAC3BgH,IAAK,MAJP,UAME,cAAC,GAAD,CAAkBpC,QAAS,IAC3B,cAAC,GAAD,CAAkBA,QAAS,IAC3B,cAAC,GAAD,CAAkBA,QAAS,IAC3B,cAAC,GAAD,CAAkBA,QAAS,QAK3B6J,GAAkB,WACtB,IAAMC,EAAOlJ,GAAS,SAACU,GAAD,oBACSpG,KAA7B,UAAAoG,EAAMtB,eAAN,eAAe+J,YACc,WAA7B,UAAAzI,EAAMtB,eAAN,eAAe+J,WACb,cAACC,GAAA,EAAD,IAEA,cAACC,GAAA,EAAD,OAIJ,OACE,cAACtL,EAAA,EAAD,CACEoF,OAAK,EACL/E,QAAS,4BACP,UAAAiB,EAAMoF,WAAWrF,eAAjB,eAA0BkK,gBAA1B,UACIjK,EAAMoF,WAAWrF,eADrB,aACI,EAA0BmK,QAD9B,UAEIlK,EAAMoF,WAAWrF,eAFrB,aAEI,EAA0BoK,QAEhCC,KAAMP,EACN1P,MAAM,cAKNkQ,GAAe,WACnB,OACE,cAAC3L,EAAA,EAAD,CACEoF,OAAK,EACL/E,QAAS,kCAAMiB,EAAMoF,WAAWrF,eAAvB,aAAM,EAA0BuK,eAAe,KACxDF,KAAM,cAACG,GAAA,EAAD,IACNpQ,MAAM,cAKNqQ,GAAgBpO,kBAAOqD,IAAPrD,CAAH,MACR,SAACE,GAAD,OAAWA,EAAM4E,aAItBuJ,GAAmB,WACvB,IAAMvD,EAAWD,KACjB,OACE,eAACpF,EAAA,EAAD,CACE+B,UAAU,MACVC,QAAQ,UACRZ,MAAM,EACNO,IAAK,CAAE1H,WAAY,OAAQmG,IAAK,MAAOC,OAAQ,OAC/CiC,MAAM,SALR,UAOE,eAACtC,EAAA,EAAD,CAAK+B,UAAU,MAAMzB,IAAK,OAAQgC,MAAM,SAAxC,UACE,cAAC,GAAD,IACA,cAAC,GAAD,OAEF,eAACtC,EAAA,EAAD,CAAK+B,UAAU,MAAMzB,IAAK,OAAQyC,UAAU,SAA5C,UACE,cAAC,EAAD,CACEd,OAAK,EACLlF,MAAO,CAAEM,IAAK,QAAStE,MAAO,QAASoE,UAAW,QAClD+E,MACE,cAACyG,GAAD,CACErP,KAAK,QACL+F,UAAWgG,EAAWnO,EAAU,KAAWA,EAAWG,SAFxD,qBAQJ,cAAC,EAAD,CACE4K,OAAK,EACLlF,MAAO,CACLM,IAAK,QACLtE,MAAO,UACPoE,UAAW,QAEb+E,MACE,cAACyG,GAAD,CACErP,KAAK,QACL+F,UAAWgG,EAAWnO,EAAU,IAAUA,EAAWG,SAFvD,uBAQJ,cAAC,EAAD,CACE4K,OAAK,EACLlF,MAAO,CACLM,IAAK,QACLtE,MAAO,UACPoE,UAAW,QAEb+E,MACE,cAACyG,GAAD,CACErP,KAAK,QACL+F,UAAWgG,EAAWnO,EAAU,MAAYA,EAAWG,SAFzD,8BAaNwR,GAAgB,WAAO,IAAD,MACU/H,oBAAS,GADnB,mBACnBgI,EADmB,KACPC,EADO,KAEpBC,EAAWlK,GACf,SAACU,GAAD,aAAW,UAAAA,EAAMtB,eAAN,eAAe8K,WAAY,KACtC,SAACC,EAAUC,GAET,QADeD,IAAaC,IAErBJ,KAILK,EAAanC,iBAAM,oBAAC7I,EAAMoF,WAAWrF,eAAlB,aAAC,EAA0BkK,sBAA3B,UAEnBgB,EAAsBlK,uBAAY,WAAO,IAAD,MAC5C6J,GAAc,GACdI,EAAWjC,QAAX,oBAAqB/I,EAAMoF,WAAWrF,eAAtC,aAAqB,EAA0BkK,sBAA/C,SACA,UAAAjK,EAAMoF,WAAWrF,eAAjB,SAA0BmK,UACzB,IAEGgB,EAAoBnK,uBAAY,SAAC8J,GAA4B,IAAD,IAChED,GAAc,GACd,UAAA5K,EAAMoF,WAAWrF,eAAjB,SAA0BuJ,YAAYuB,GAClCG,EAAWjC,UAAS,UAAA/I,EAAMoF,WAAWrF,eAAjB,SAA0BoK,UACjD,IAEGgB,EAAiBpK,uBAAY,SAAC8J,GAA4B,IAAD,EAC7D,UAAA7K,EAAMoF,WAAWrF,eAAjB,SAA0BuJ,YAAYuB,KACrC,IAEH,OACE,cAAC,GAAD,CACEnJ,SAAUmJ,EACVO,OAAQD,EACRE,YAAaJ,EACbK,UAAWJ,KAKXK,GAAW,SAAC,GAUX,IATLF,EASI,EATJA,YACAD,EAQI,EARJA,OACAE,EAOI,EAPJA,UAOI,IANJ5J,gBAMI,MANO,EAMP,EACE8J,EAAY3C,iBAA0B,MACtC4C,EAAe5C,iBAAuB,MAW5C,OAwBF,SACE6C,EACAC,EACAC,EACAP,EACAD,EACAE,GAEAlE,qBAAU,WACR,GAAKsE,EAAU3C,SAAY4C,EAAQ5C,QAAnC,CACA,IAAM8C,EAAsBH,EAAU3C,QAAQG,wBAE1C4C,EAAc,EACdC,EAAc,EACdC,EAAgB,EAAIJ,EAAmBC,EAAoBjQ,MAC3D+O,GAAsB,EAEpBsB,EAAe,SAACC,GACfP,EAAQ5C,UACb4C,EAAQ5C,QAAQjH,MAAMqK,UAAtB,qBAAgDD,EAAhD,SAGFD,EAAaD,GACb,IAAMI,EAAmB,SAAChJ,GACxB,GAAIA,EAAMC,SAAWsI,EAAQ5C,QAA7B,CAKA3F,EAAMiJ,iBANqD,IAOnDlE,EAAMJ,GAAoB3E,GAA1B+E,EACR2D,EAAc3D,EAAI6D,EAClBrB,GAAa,EACF,OAAXU,QAAW,IAAXA,YAREV,GAAa,GAWX2B,EAAc,SAAClJ,GACnB,GAAKuH,GACAgB,EAAQ5C,QAAb,CACA3F,EAAMiJ,iBAHgD,IAK9ClE,EAAMJ,GAAoB3E,GAA1B+E,EAER4D,EAAc5D,EAAI2D,EAElB,IAAMI,EAAW9C,KAAKC,IACpBD,KAAKlF,IAAI6H,EAAa,GACtBF,EAAoBjQ,OAEtBmQ,EAAcG,EACd,IAAM/C,EAAY+C,EAAWL,EAAoBjQ,MAE3C,OAANwP,QAAM,IAANA,KAASjC,GACT8C,EAAaC,KAGTK,EAAiB,SAACnJ,GACtB,GAAKuH,EAAL,CACAvH,EAAMiJ,iBACNL,EAAgBD,EAChB,IAIM5C,EAJWC,KAAKC,IACpBD,KAAKlF,IAAI6H,EAAa,GACtBF,EAAoBjQ,OAEOiQ,EAAoBjQ,MAExC,OAAT0P,QAAS,IAATA,KAAYnC,GACZwB,GAAa,IAWf,OARAlD,OAAOC,iBAAiB,YAAa4E,GAAa,GAClD7E,OAAOC,iBAAiB,YAAa0E,GAAkB,GACvD3E,OAAOC,iBAAiB,UAAW6E,GAAgB,GAEnD9E,OAAOC,iBAAiB,YAAa4E,EAAa,CAAEE,SAAS,IAC7D/E,OAAOC,iBAAiB,aAAc0E,EAAkB,CAAEI,SAAS,IACnE/E,OAAOC,iBAAiB,WAAY6E,EAAgB,CAAEC,SAAS,IAExD,WACL/E,OAAOE,oBAAoB,YAAa2E,GACxC7E,OAAOE,oBAAoB,YAAayE,GACxC3E,OAAOE,oBAAoB,UAAW4E,GAEtC9E,OAAOE,oBAAoB,YAAa2E,GACxC7E,OAAOE,oBAAoB,aAAcyE,GACzC3E,OAAOE,oBAAoB,WAAY4E,OAExC,CAACZ,EAASL,EAAWM,EAAkBF,EAAWL,EAAaD,IAxHlEqB,CACEhB,EACAD,EACA9J,EACA2J,EACAD,EACAE,GAIA,cAACzJ,EAAA,EAAD,CACEhF,KAAK,aACL+L,IAAK6C,EACL3J,MAAO,CAAEyH,cAAe,OAAQ4C,UAAW,oBAH7C,SAKE,cAACzN,EAAA,EAAD,CACEoD,MAAO,CAAEJ,SAAU,WAAY6H,cAAe,QAC9CX,IAAK4C,EACL1H,OAAK,EACL9B,OAAQ,CAAEC,IAAK,OAAQgC,KAAM,SAJ/B,SAME,cAACpC,EAAA,EAAD,CACEC,MAAO,CAAEyH,cAAe,QACxBmD,MAAM,OACN9S,WAAW,oBACXgC,MAAM,OACNR,OAAO,cC9TF,WAA0B,iCCG5BuR,GAAW,WACtB,IAAM/D,EAAMC,iBAAyB,MAGrC,OASF,SAAoBD,GAClB,IAAMuB,EAAOpJ,uBAAY,kCAAM6H,EAAIG,eAAV,aAAM,EAAaoB,SAAQ,CAACvB,IAC/CsB,EAAQnJ,uBAAY,kCAAM6H,EAAIG,eAAV,aAAM,EAAamB,UAAS,CAACtB,IACjDgE,EAAS7L,uBAAY,WACrB6H,EAAIG,UAASH,EAAIG,QAAQ8D,YAAc,KAC1C,CAACjE,IACEqB,EAAelJ,uBAAY,WAC/B,QAAK6H,EAAIG,YAEPH,EAAIG,QAAQ8D,YAAc,IACzBjE,EAAIG,QAAQ+D,SACZlE,EAAIG,QAAQgE,OACbnE,EAAIG,QAAQiE,WAAa,KAE1B,CAACpE,IAEEqE,EAAclM,uBAAY,WAC9B,OAAK6H,EAAIG,QACFH,EAAIG,QAAQ8D,YAAcjE,EAAIG,QAAQmE,SADpB,IAExB,CAACtE,IAEEU,EAAcvI,uBAClB,SAAC8J,GACMjC,EAAIG,UACTH,EAAIG,QAAQ8D,YAAchC,EAAWjC,EAAIG,QAAQmE,YAEnD,CAACtE,IAGG0B,EAAgBvJ,uBACpB,SAACoM,GACC,GAAKvE,EAAIG,QAAT,CACA,IAAM1F,EAASuF,EAAIG,QAAQ8D,YAAcM,EACnCC,EAAgBhE,KAAKC,IAAID,KAAKlF,IAAI,EAAGb,GAASuF,EAAIG,QAAQmE,UAChEtE,EAAIG,QAAQ8D,YAAcO,KAE5B,CAACxE,IAEG7J,EAAUgC,uBAAY,kBAAOkJ,IAAiBC,IAAUC,MAAS,CACrEF,EACAC,EACAC,IAGF/C,qBAAU,WAAO,IAAD,QACRiG,EAAc,WAClB,OAAOrN,EAAMsN,SAAS,CACpBvN,QAAS,CACPoK,OACAD,QACA0C,SACA3C,eACAgD,cACA3D,cACAgB,gBACAO,SAAUoC,IACVtE,cAAe,EACfmB,UAAWG,IAAiB,OAAS,YAKrCsD,EAAQ3E,EAAIG,QAOlB,OALA,UAAAH,EAAIG,eAAJ,SAAarB,iBAAiB,QAAS3I,GACvC,UAAA6J,EAAIG,eAAJ,SAAarB,iBAAiB,UAAW2F,GACzC,UAAAzE,EAAIG,eAAJ,SAAarB,iBAAiB,QAAS2F,GACvC,UAAAzE,EAAIG,eAAJ,SAAarB,iBAAiB,aAAc2F,GAC5CA,IACO,WACA,OAALE,QAAK,IAALA,KAAO5F,oBAAoB,QAAS5I,GAC/B,OAALwO,QAAK,IAALA,KAAO5F,oBAAoB,OAAQ0F,GAC9B,OAALE,QAAK,IAALA,KAAO5F,oBAAoB,QAAS0F,GAC/B,OAALE,QAAK,IAALA,KAAO5F,oBAAoB,aAAc0F,GACzCrN,EAAMsN,SAAS,CAAEvN,aAAS9E,OAE3B,CACDgP,EACAC,EACAC,EACA8C,EACAL,EACAtD,EACAgB,EACA1B,EACA7J,IAhGFyO,CAAW5E,GAGT,uBACEA,IAAKA,EACL9G,MAAO,CAAE2L,UAAW,aAAc/K,QAAS,QAC3C9G,MAAM,OACN8R,IAAKC,M,ygCCCJ,IAAMC,GAAU,WACrB,OACE,cAAC/L,EAAA,EAAD,CAAKhF,MAAI,EAACjD,WAAW,QAArB,SACE,cAAC,GAAD,UACE,cAAC,GAAD,SAMFiU,GAAmB,SAAC,GAAyC,IAAvCjR,EAAsC,EAAtCA,SACpBzB,EAAOoE,qBAAWC,KAMxB,MAAa,UAATrE,GAA6B,WAATA,EAEpB,cAAC,GAAD,UAA8ByB,IAI9B,cAAC,GAAD,UAA8BA,KAK9BkR,GAAiB1R,kBAAOyF,IAAPzF,CAAH,MAiBd2R,GAA8B,SAAC,GAAyC,IAAvCnR,EAAsC,EAAtCA,SACrC,OACE,qCACE,cAAC,GAAD,CAAiBgG,YAAY,EAAOxB,gBAAgB,UACpD,cAACS,EAAA,EAAD,CAAKW,UAAU,kBAAkBR,OAAO,OAAxC,SACE,eAACyH,GAAA,EAAD,CACEjI,YAAY,EACZwM,MAAO,CACL,CAAEC,KAAM,QAASC,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CACEF,KAAM,WACNC,MAAO,CAAC,EAAG,GACXC,IAAK,CAAC,EAAG,KAGbtR,MAAI,EACJ6M,QAAS,CAAC,QACV0E,KAAM,CAAC,OAAQ,QACfjM,IAAI,OAbN,UAeE,cAACN,EAAA,EAAD,CAAKwM,SAAS,QAAd,SACE,cAAC,GAAD,CAAcnN,UAAWnI,EAAWC,MAAO+B,QAAQ,gBAAnD,SACE,cAAC+S,GAAD,CAAgBtM,YAAY,EAAOyB,MAAM,EAAzC,SACE,cAACpB,EAAA,EAAD,CACEC,MAAO,CACLJ,SAAU,WACV9F,MAAO,OACPR,OAAQ,QAEVyI,QAAQ,SANV,SAQGjH,UAKT,cAAC,GAAD,CAAUyR,SAAS,sBAOvBC,GAA8B,SAAC,GAAyC,IAAvC1R,EAAsC,EAAtCA,SACrC,OACE,cAACiF,EAAA,EAAD,CAAKW,UAAU,kBAAkBR,OAAO,OAAxC,SACE,cAAC,GAAD,CAAcd,UAAWnI,EAAWC,MAAO+B,QAAQ,gBAAnD,SACE,eAAC0O,GAAA,EAAD,CACEjI,YAAY,EACZwM,MAAO,CACL,CAAEC,KAAM,QAASC,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CACEF,KAAM,WACNC,MAAO,CAAC,EAAG,GACXC,IAAK,CAAC,EAAG,KAGbtR,MAAI,EACJ6M,QAAS,CAAC,QACV0E,KAAM,CAAC,OAAQ,QACfjM,IAAI,OAbN,UAeE,cAACN,EAAA,EAAD,CAAKwM,SAAS,QAAQxR,MAAI,EAA1B,SACGD,IAEH,cAAC,GAAD,CAAUyR,SAAS,qBAOvBE,GAAiB,WACrB,IAAMpT,EAAOoE,qBAAWC,KAMlBsD,EAAmB,UAAT3H,EACVqT,EAAY1L,EAAU,MAAQ,MAC9B2L,EAAmB3L,EAAU,MAAQ,MACrC4L,EAAwB,UAATvT,GAA6B,WAATA,EAAoB,MAAQ,MAErE,OACE,cAAC0G,EAAA,EAAD,CACEM,IAAK,OACLH,OAAQ,CACNlG,WAAY2S,EACZxM,IAAKuM,EACLtM,OAAQwM,GAEVlM,UAAU,gBAPZ,SASE,cAAC,GAAD,OAKAmM,GAAgBvS,kBAAOyF,IAAPzF,CAAH,MACA,SAACE,GAAD,OAAWA,EAAMsS,gBAQ9BC,GAAoBzS,UAAOC,IAAV,MAKjByS,GAAoB1S,UAAOC,IAAV,MAMjB0S,GAAuB3S,UAAOC,IAAV,MASpB4J,GAAqB,WACzB,OACE,cAACpE,EAAA,EAAD,CACEoB,MAAM,EACNnB,MAAO,CACLJ,SAAU,WACVsN,UAAW,OACX/M,IAAK,EACLgC,KAAM,EACNV,MAAO,EACP2C,OAAQ,GAEVtM,WAAY,QACZ4J,IAAI,OACJ9H,OAAQ,CAAEvB,MAAO,MAAOgB,KAAM,OAZhC,SAcE,cAACsE,EAAA,EAAD,CAAMtE,KAAK,SAAShB,MAAM,WAA1B,uEAOA8U,GAAe,SAAC,GAOd,IANNrS,EAMK,EANLA,SACAsE,EAKK,EALLA,UACAnG,EAIK,EAJLA,QAMM+H,EAAmB,UADZvD,qBAAWC,KAGlB0H,EAAWD,KAEjB,OACE,eAAC4H,GAAD,WACE,cAACC,GAAD,UACE,eAAC,GAAD,CAAgBjS,MAAI,EAACF,OAAO,WAA5B,UACE,cAACkF,EAAA,EAAD,CAAKhF,MAAI,EAAT,SAAWD,IACX,cAAC,GAAD,CACEqE,WAAYlI,EAAWU,OACvByN,SAAUA,EAFZ,SAIE,cAAChE,EAAA,EAAD,CACEhI,MAAO,EACPf,MAAO+G,EACPc,OAAO,IACP7G,KAAM2H,EAAU,QAAU,SAJ5B,SAMG/H,WAKT,cAACgU,GAAD,UACE,cAACJ,GAAD,CACE9R,MAAI,EACJ+R,aAAc1H,EAAWnO,EAAWU,OAASV,EAAWW,aACxD8I,UAAU,sBAOd0M,GAAc9S,kBAAOyF,IAAPzF,CAAH,MACJ,SAACE,GAAD,OAAYA,EAAM6S,QAAU,EAAI,KAIvCC,GAAsB,SAAC,GAOrB,IANNnO,EAMK,EANLA,WACArE,EAKK,EALLA,SACAsK,EAIK,EAJLA,SAKM/L,EAAOoE,qBAAWC,KAElB6P,EADmB,UAATlU,GAC4B,WAATA,EAEnC,OACE,eAAC0G,EAAA,EAAD,CACEW,UAAU,gBACVoB,UAAU,MACVX,MAAM,EACNY,QAAQ,UACRM,MAAM,QALR,UAOE,eAACtC,EAAA,EAAD,WACGwN,GAAmB,cAAC,GAAD,IAEpB,cAACH,GAAD,CACE1L,IAAK,CAAE1H,WAAY,OAAQC,SAAU,QACrCnC,WAAYqH,EACZkO,QAASjI,EAHX,SAKGtK,QAGHyS,GACA,cAACxN,EAAA,EAAD,CAAKgC,QAAQ,MAAb,SACE,cAAC,GAAD,UCjSGyL,GAAS,WACpB,IAAMC,EAAY1G,iBAA0B,MACtC2G,EAAa3G,mBA0EnB,OAxEAzB,qBAAU,WACR,IAAMqI,EAASF,EAAUxG,QACzB,GAAK0G,EAAL,CACA,IAAMC,EAAeD,EAAOE,WAAW,MAClCD,IACLF,EAAWzG,QAAU2G,MACpB,IAEHtI,qBAAU,WACR,IAAMqI,EAASF,EAAUxG,QACzB,GAAK0G,EAAL,CACA,IAAMG,EAAQ,SAACC,EAAkBC,GAC/B,IAAMC,EAAUP,EAAWzG,QACtBgH,GAELC,uBAAsB,WACpB,IAAK,IAAI7H,EAAI0H,EAAW,GAAI1H,EAAI0H,EAAW,GAAI1H,IAC7C,IAAK,IAAIG,EAAIwH,EAAW,GAAIxH,EAAIwH,EAAW,GAAIxH,IAC7CyH,EAAQE,UAAR,cACG9H,EAAIiB,KAAK8G,IAAIC,KAAKC,MAAQ,KAAU,IADvC,gBAGAL,EAAQM,YAERN,EAAQO,QAAQnI,EAAGG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAIc,KAAKmH,IAC7CR,EAAQlT,WAKV2T,EAAc,SAACpN,GAA6B,IAAD,IAC/C,GAAKmM,EAAUxG,QAAf,CAD+C,MAwErD,SACE3F,EACAC,GAEA,IAAMoN,EAAUrN,EAAMiF,QAChBqI,EAAUtN,EAAMmF,QAChBU,EAAO5F,EAAO6F,wBAEdyH,EAAO,SAAC/V,EAAeyO,EAAanF,GAA7B,OACXkF,KAAKC,IAAInF,EAAKkF,KAAKlF,IAAItJ,EAAOyO,KAE1B6C,EAAWyE,EAAKF,EAAUxH,EAAKhF,KAAM,EAAGgF,EAAKrN,MAAQ,GACrDgV,EAAWD,EAAKD,EAAUzH,EAAKhH,IAAK,EAAGgH,EAAK7N,OAAS,GAErD+N,EAAY+C,EAAWjD,EAAKrN,MAC5BiV,EAAYD,EAAW3H,EAAK7N,OAClC,MAAO,CAAE+N,UAAWA,EAAW0H,UAAWA,GAtFLC,CAC/B1N,EACAmM,EAAUxG,SAFJI,EAFuC,EAEvCA,UAAW0H,EAF4B,EAE5BA,UAKb1I,EAAIgB,GAAS,UAAGoG,EAAUxG,eAAb,aAAG,EAAmBnN,OACnC0M,EAAIuI,GAAS,UAAGtB,EAAUxG,eAAb,aAAG,EAAmB3N,aAC/BH,IAANkN,QAAyBlN,IAANqN,GACrBsH,EAAMzH,EAAGG,KAGbb,OAAOC,iBAAiB,YAAa8I,GAErC,IAAMO,EAAc,SAAC3N,GACnB,GAAKmM,EAAUxG,QAAf,CAD+C,MAsCrD,SACE3F,EACAC,GAEA,IAAMoN,EAAUrN,EAAMgF,eAAe,GAAGC,QAClCqI,EAAUtN,EAAMgF,eAAe,GAAGG,QAClCU,EAAO5F,EAAO6F,wBAEdyH,EAAO,SAAC/V,EAAeyO,EAAanF,GAA7B,OACXkF,KAAKC,IAAInF,EAAKkF,KAAKlF,IAAItJ,EAAOyO,KAE1B6C,EAAWyE,EAAKF,EAAUxH,EAAKhF,KAAM,EAAGgF,EAAKrN,MAAQ,GACrDgV,EAAWD,EAAKD,EAAUzH,EAAKhH,IAAK,EAAGgH,EAAK7N,OAAS,GAErD+N,EAAY+C,EAAWjD,EAAKrN,MAC5BiV,EAAYD,EAAW3H,EAAK7N,OAClC,MAAO,CAAE+N,UAAWA,EAAW0H,UAAWA,GApDLG,CAC/B5N,EACAmM,EAAUxG,SAFJI,EAFuC,EAEvCA,UAAW0H,EAF4B,EAE5BA,UAKb1I,EAAIgB,EAAYoG,EAAUxG,QAAQnN,MAClC0M,EAAIuI,EAAYtB,EAAUxG,QAAQ3N,YAC9BH,IAANkN,QAAyBlN,IAANqN,GACrBsH,EAAMzH,EAAGG,KAGbb,OAAOC,iBAAiB,YAAaqJ,GAErC,IAAME,EAAiB,WACrBxB,EAAO7T,MAAQ6L,OAAOyJ,WACtBzB,EAAOrU,OAASqM,OAAO0J,aAIzB,OAFA1J,OAAOC,iBAAiB,SAAUuJ,GAE3B,WACLxJ,OAAOE,oBAAoB,YAAaoJ,GACxCtJ,OAAOE,oBAAoB,YAAa6I,GACxC/I,OAAOE,oBAAoB,SAAUsJ,OAEtC,IAGD,wBACEnP,MAAO,CAAElG,MAAO,OAAQR,OAAQ,QAChCQ,MAAO6L,OAAOyJ,WACd9V,OAAQqM,OAAO0J,YACfvI,IAAK2G,KCxEJ,IAAM6B,GAAQ,WACnB,OACE,cAACvP,EAAA,EAAD,CAAKhF,MAAI,EAACjD,WAAW,QAArB,SACE,cAAC,GAAD,UACE,cAAC,GAAD,SAMFyX,GAAiB,SAAC,GAAyC,IAAvCzU,EAAsC,EAAtCA,SAClBzB,EAAOoE,qBAAWC,KAMxB,MAAa,UAATrE,GAA6B,WAATA,EACf,cAAC,GAAD,UAA4ByB,IAE5B,cAAC,GAAD,UAA4BA,KAIjC0U,GAA4B,SAAC,GAAyC,IAAvC1U,EAAsC,EAAtCA,SACnC,OACE,qCACE,cAAC,GAAD,CAAiBgG,YAAY,EAAOxB,gBAAgB,UACpD,cAACS,EAAA,EAAD,CAAKW,UAAU,kBAAkBR,OAAO,OAAxC,SACE,eAACyH,GAAA,EAAD,CACEjI,YAAY,EACZwM,MAAO,CACL,CAAEC,KAAM,QAASC,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CACEF,KAAM,WACNC,MAAO,CAAC,EAAG,GACXC,IAAK,CAAC,EAAG,KAGbtR,MAAI,EACJ6M,QAAS,CAAC,QACV0E,KAAM,CAAC,OAAQ,QACfjM,IAAI,OAbN,UAeE,cAACN,EAAA,EAAD,CAAKwM,SAAS,QAAd,SACE,cAAC,GAAD,CACEnN,UAAWnI,EAAWC,MACtBiI,WAAYlI,EAAWU,OACvBsB,QAAQ,gBAHV,SAKG6B,MAGL,cAAC,GAAD,CAAUyR,SAAS,WAAWxG,cAAc,aAOhD0J,GAA4B,SAAC,GAAyC,IAAvC3U,EAAsC,EAAtCA,SACnC,OACE,cAACiF,EAAA,EAAD,CAAKW,UAAU,kBAAkBR,OAAO,OAAxC,SACE,cAAC,GAAD,CACEd,UAAWnI,EAAWC,MACtBiI,WAAYlI,EAAWU,OACvBsB,QAAQ,gBAHV,SAKE,eAAC0O,GAAA,EAAD,CACEjI,YAAY,EACZwM,MAAO,CACL,CAAEC,KAAM,QAASC,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CACEF,KAAM,WACNC,MAAO,CAAC,EAAG,GACXC,IAAK,CAAC,EAAG,KAGbtR,MAAI,EACJ6M,QAAS,CAAC,QACV0E,KAAM,CAAC,OAAQ,QAZjB,UAcE,cAACvM,EAAA,EAAD,CAAKwM,SAAS,QAAd,SAAuBzR,IACvB,cAAC,GAAD,CAAUyR,SAAS,WAAWxG,cAAc,YAOhD2J,GAAe,WACnB,IAAMrW,EAAOoE,qBAAWC,KASlBkP,EAAwB,UAATvT,GAA6B,WAATA,EAAoB,IAAM,MAEnE,OACE,cAAC0G,EAAA,EAAD,CACEM,IAAK,OACLH,OAAQ,CACNlG,WAP6B,MAQ7BmG,IATsB,MAUtBC,OAAQwM,GAEVlM,UAAU,gBAPZ,SASE,cAAC,GAAD,OAKAyD,GAAqB,WACzB,OACE,cAACpE,EAAA,EAAD,CACEoB,MAAM,EACNnB,MAAO,CACLJ,SAAU,WACVsN,UAAW,OACX/M,IAAK,EACLgC,KAAM,EACNV,MAAO,EACP2C,OAAQ,GAEVtM,WAAY,QACZ4J,IAAI,OACJ9H,OAAQ,CAAEvB,MAAO,MAAOgB,KAAM,OAZhC,SAcE,cAACsE,EAAA,EAAD,CAAMtE,KAAK,SAAShB,MAAM,WAA1B,uEAOAsX,GAAa,SAAC,GASZ,IARN7U,EAQK,EARLA,SACAqE,EAOK,EAPLA,WACAC,EAMK,EANLA,UACAnG,EAKK,EALLA,QAMM+G,EAAQ,CACZW,cAAc,OACdC,QAAQ,OAAD,OAASzB,EAAT,WAGH9F,EAAOoE,qBAAWC,KAClBsD,EAAmB,UAAT3H,EACVkU,EAAkBvM,GAAoB,WAAT3H,EACnC,OACE,cAAC0G,EAAA,EAAD,CAAKW,UAAU,cAAcV,MAAOA,EAApC,SACE,eAAC,GAAD,CAAgBjF,MAAI,EAACF,OAAO,WAA5B,UACE,cAACkF,EAAA,EAAD,CAAKhF,MAAI,EAAT,SAAWD,IACX,eAAC,GAAD,CAAmBqE,WAAYA,EAA/B,UACGoO,GAAmB,cAAC,GAAD,IAEpB,cAACnM,EAAA,EAAD,CACEhI,MAAO,EACPf,MAAO+G,EACPc,OAAO,IACP7G,KAAM2H,EAAU,QAAU,SAJ5B,SAMG/H,aAQP2W,GAAoB,SAAC,GAKnB,IAJNzQ,EAIK,EAJLA,WACArE,EAGK,EAHLA,SAIMzB,EAAOoE,qBAAWC,KAElB6P,EADmB,UAATlU,GAC4B,WAATA,EAEnC,OACE,eAAC0G,EAAA,EAAD,CACEW,UAAU,gBACVoB,UAAU,MACVX,MAAM,EACNY,QAAQ,UACRM,MAAM,QACNrC,MAAO,CAAE6P,WAAY,OAAQpI,cAAe,QAN9C,UAQE,cAAC1H,EAAA,EAAD,CACEjI,WAAYqH,EACZuC,IAAK,CAAE1H,WAAY,OAAQC,SAAU,QAFvC,SAIGa,KAEDyS,GACA,cAACxN,EAAA,EAAD,CAAKgC,QAAQ,MAAb,SACE,cAAC,GAAD,U,UCtNG+N,GAAU,WACrB,OACE,eAAC/P,EAAA,EAAD,WACE,cAACqB,EAAA,EAAD,uBACA,cAAC2O,GAAA,EAAD,CAAWhV,MAAI,EAAf,i2BAeA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,8yBAcA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,2TAOA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,6gBAUA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,4uBClDOiV,GAAQ,WACnB,OACE,eAACjQ,EAAA,EAAD,WACE,cAACqB,EAAA,EAAD,oBACA,cAAC2O,GAAA,EAAD,CAAWhV,MAAI,EAAf,i2BAeA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,8yBAcA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,2TAOA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,6gBAUA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,4uBC/COkV,GAAqB,SAAC,GAQ5B,IAPL5X,EAOI,EAPJA,MACA6X,EAMI,EANJA,YACA1T,EAKI,EALJA,KAMMnD,EAAOoE,qBAAWC,KAMxB,OACE,cAACqC,EAAA,EAAD,CAAKW,UAAU,gBAAgBoB,UAAU,MAAzC,SACE,cAAC,EAAD,CACEE,OAAK,EACLC,MACE,cAAClC,EAAA,EAAD,CACEnG,OAAQ,CAAEvB,QAAO2H,MAAO,QAAS3G,KAAM,OACvCqI,IAAK,CAAE1H,WAAY,OAAQC,SAAU,OAFvC,SAIE,cAAC0D,EAAA,EAAD,CAAMtE,KAAe,UAATA,EAAmB,QAAU,SAAUhB,MAAOA,EAA1D,SACG6X,MAIP1T,KAAMA,OChCD2T,GAAY,SAAC,GASlB,IARNrV,EAQK,EARLA,SACAqE,EAOK,EAPLA,WACAC,EAMK,EANLA,UACAnG,EAKK,EALLA,QAMM+G,EAAQ,CACZW,cAAc,OACdC,QAAQ,OAAD,OAASzB,EAAT,WAIH6B,EAAmB,UADZvD,qBAAWC,KAExB,OACE,eAACqC,EAAA,EAAD,CAAKW,UAAU,QAAQV,MAAOA,EAAOmB,MAAM,EAA3C,UACE,cAACpB,EAAA,EAAD,CAAKW,UAAU,gBAAgBoB,UAAU,MAAzC,SACE,cAAC/B,EAAA,EAAD,CACEjI,WAAYqH,EACZuC,IAAK,CAAE1H,WAAY,OAAQC,SAAU,QAFvC,SAIE,cAACmH,EAAA,EAAD,CACEhI,MAAO,EACPf,MAAO+G,EACPc,OAAO,IACP7G,KAAM2H,EAAU,QAAU,SAJ5B,SAMG/H,QAKN6B,MCjCMsV,GAAQ,WAGnB,OAFa3S,qBAAWC,MAGtB,IAAK,QACH,OAAO,cAAC2S,GAAD,IACT,IAAK,SACH,OAAO,cAAC,GAAD,CAAezQ,SAAS,UACjC,QACE,OAAO,cAAC,GAAD,CAAeA,SAAS,mBAIrC,SAASyQ,KACP,OACE,eAACtQ,EAAA,EAAD,CAAKW,UAAU,QAAQL,IAAI,OAA3B,UACE,cAAC,EAAD,CACEvD,MAAO,CAAEM,IAAK,QAAStE,MAAO,QAASoE,UAAW,QAClD8E,OAAK,EACLC,MACE,cAAC,GAAD,CACE7C,UAAWnI,EAAWE,MACtBgI,WAAYlI,EAAWQ,KACvBwB,QAAQ,QAHV,SAKE,cAAC8G,EAAA,EAAD,CAAKzG,OAAQ,aAInB,cAAC,EAAD,CACEwD,MAAO,CAAEM,IAAK,QAAStE,MAAO,UAAWoE,UAAW,QACpD8E,OAAK,EACLC,MACE,cAAC,GAAD,CACE7C,UAAWnI,EAAWE,MACtBgI,WAAYlI,EAAWI,IACvB4B,QAAQ,UAHV,SAKE,cAAC8G,EAAA,EAAD,CAAKzG,OAAQ,aAInB,cAAC,EAAD,CACEwD,MAAO,CAAEM,IAAK,QAAStE,MAAO,UAAWoE,UAAW,QACpD8E,OAAK,EACLC,MACE,cAAC,GAAD,CACE7C,UAAWnI,EAAWE,MACtBgI,WAAYlI,EAAWS,MACvBuB,QAAQ,UAHV,SAKE,cAAC8G,EAAA,EAAD,CAAKzG,OAAQ,gBAQzB,IAAMgX,GAAgB,SAAC,GAIhB,IACCtQ,EACS,UAFX,EAHJJ,SAMM,CAAEA,SAAU,WAAYuC,KAAM,SAAUhC,IAAK,OAC7C,CAAEP,SAAU,WAAYuC,KAAM,SAAUhC,IAAK,UACnD,OACE,cAACJ,EAAA,EAAD,CAAKW,UAAU,QAAQoB,UAAU,MAAMC,QAAQ,MAAM/B,MAAOA,EAA5D,SACE,sBAAKA,MAAO,CAAEJ,SAAU,YAAxB,UACE,qBACEI,MAAO,CACLJ,SAAU,WACVO,IAAK,QAHT,SAME,cAAC,EAAD,CACErD,MAAO,CAAEM,IAAK,QAAStE,MAAO,QAASoE,UAAW,QAClD8E,OAAK,EACLjH,MAAI,EACJkH,MACE,cAAC,GAAD,CACE7C,UAAWnI,EAAWE,MACtBgI,WAAYlI,EAAWQ,KACvBwB,QAAQ,QAHV,SAKE,cAAC8G,EAAA,EAAD,CAAKzG,OAAQ,OAAQQ,MAAO,gBAKpC,qBACEkG,MAAO,CACLJ,SAAU,WACVuC,KAAM,SAHV,SAME,cAAC,EAAD,CACErF,MAAO,CAAEM,IAAK,QAAStE,MAAO,UAAWoE,UAAW,QACpDV,KAAK,WACLwF,OAAK,EACLjH,MAAI,EACJkH,MACE,cAAC,GAAD,CACE7C,UAAWnI,EAAWE,MACtBgI,WAAYlI,EAAWI,IACvB4B,QAAQ,UAHV,SAKE,cAAC8G,EAAA,EAAD,CAAKzG,OAAQ,OAAQQ,MAAO,gBAKpC,qBACEkG,MAAO,CACLJ,SAAU,WACVuC,KAAM,QACNhC,IAAK,QAJT,SAOE,cAAC,EAAD,CACErD,MAAO,CAAEM,IAAK,QAAStE,MAAO,UAAWoE,UAAW,QACpDV,KAAK,WACLwF,OAAK,EACLjH,MAAI,EACJkH,MACE,cAAC,GAAD,CACE7C,UAAWnI,EAAWE,MACtBgI,WAAYlI,EAAWS,MACvBuB,QAAQ,UAHV,SAKE,cAAC8G,EAAA,EAAD,CAAKzG,OAAQ,OAAQQ,MAAO,sBAUtCyW,GAAY,SAAC,GASX,IARNzV,EAQK,EARLA,SACAqE,EAOK,EAPLA,WACAC,EAMK,EANLA,UACAnG,EAKK,EALLA,QAMA,OACE,eAAC8G,EAAA,EAAD,CACEW,UAAU,aACVV,MAAO,CACLW,cAAc,OACdC,QAAQ,OAAD,OAASzB,EAAT,WAETe,OAAQ,CAAEE,OAAQ,OANpB,UAQE,cAAC,GAAD,CACEhB,UAAWA,EACXD,WAAYA,EACZlG,QAASA,IAEV6B,MAKD0V,GAAe,SAAC,GAQf,IAPLrR,EAOI,EAPJA,WACAC,EAMI,EANJA,UACAnG,EAKI,EALJA,QAMA,OACE,cAAC8G,EAAA,EAAD,CAAKW,UAAU,eAAeoB,UAAU,MAAxC,SACE,cAAC/B,EAAA,EAAD,CACEjI,WAAYqH,EACZuC,IAAK,CAAE1H,WAAY,OAAQC,SAAU,OAFvC,SAIE,cAACmH,EAAA,EAAD,CAAShI,MAAO,EAAGf,MAAO+G,EAAWc,OAAO,IAAI7G,KAAK,QAArD,SACGJ,SCzLEwX,GAAO,WAClB,OACE,cAAC,GAAD,UACE,cAAC,GAAD,OAKAC,GAAgB,SAAC,GAAyC,IAO1DlW,EAPmBM,EAAsC,EAAtCA,SAQvB,OAPa2C,qBAAWC,MAQtB,IAAK,QACHlD,EAAQ,CAAE0F,OAAQ,OAAQG,IAAK,QAC/B,MACF,IAAK,SACH7F,EAAQ,CACN0F,OAAQ,CAAElG,WAAY,OAAQmG,IAAK,OAAQC,OAAQ,QACnDC,IAAK,QAEP,MACF,IAAK,QACH7F,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,OAAQhC,IAAK,OAAQC,OAAQ,QAC7CtG,MAAO,CAAEsI,IAAK,UAEhB,MACF,IAAK,SACH5H,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,QAAShC,IAAK,QAASC,OAAQ,QAC/CtG,MAAO,CAAEsI,IAAK,UAKpB,OACE,eAACrC,EAAA,EAAD,yBAAKW,UAAU,kBAAqBlG,GAApC,cACE,cAAC,GAAD,CACE4E,UAAWnI,EAAWU,OACtBwH,WAAYlI,EAAWC,MACvB+B,QAAQ,gBAHV,SAKG6B,IAEH,cAAC,GAAD,SAKA6V,GAAc,WAClB,IAAMtX,EAAOoE,qBAAWC,KAMlBsD,EAAmB,UAAT3H,EACVqT,EAAY1L,EAAU,OAAS,OAC/B2L,EAAmB3L,EAAU,OAAS,OAE5C,OACE,eAACjB,EAAA,EAAD,CACEM,IAAK,OACLH,OAAQ,CAAElG,WAAY2S,EAAkBxM,IAAKuM,EAAWtM,OAAQ,QAFlE,UAIE,cAACzC,EAAA,EAAD,CAAMtE,KAAe,UAATA,EAAmB,QAAU,SAAzC,uRAOA,cAAC,GAAD,CACEhB,MAAM,OACN6X,YAAY,QACZ1T,KAAK,qBCpFAoU,GAAW,WACtB,OACE,eAAC7Q,EAAA,EAAD,WACE,cAACqB,EAAA,EAAD,kCACA,cAAC2O,GAAA,EAAD,CAAWhV,MAAI,EAAf,i2BAeA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,8yBAcA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,2TAOA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,6gBAUA,cAACgV,GAAA,EAAD,CAAWhV,MAAI,EAAf,4uBC7CO8V,GAAa,WAAO,IAAD,EACMhQ,oBAAS,GADf,mBACvBC,EADuB,KACXC,EADW,KAE9B,OACE,eAAChB,EAAA,EAAD,CAAKhF,MAAI,EAAT,UACE,cAAC,GAAD,CAAiB+F,WAAYA,IAC7B,cAACf,EAAA,EAAD,CACEU,SAAS,OACTY,SAAU,SAACC,GAAD,OACRP,EAA0D,IAA3CO,EAAMC,OAAuBC,YAE9ClI,OAAO,OALT,SAOE,cAAC,GAAD,UACE,cAAC,GAAD,YAOJwX,GAAsB,SAAC,GAAyC,IAOhEtW,EAPyBM,EAAsC,EAAtCA,SAQ7B,OAPa2C,qBAAWC,MAQtB,IAAK,QACHlD,EAAQ,CACN0F,OAAQ,CAAElG,WAAY,OAAQmG,IAAK,OAAQC,OAAQ,QACnDC,IAAK,QAEP,MACF,IAAK,SACH7F,EAAQ,CACN0F,OAAQ,CAAElG,WAAY,OAAQmG,IAAK,OAAQC,OAAQ,QACnDC,IAAK,QAEP,MACF,IAAK,QACH7F,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,OAAQhC,IAAK,OAAQC,OAAQ,QAC7CtG,MAAO,CAAEsI,IAAK,UAEhB,MACF,IAAK,SACH5H,EAAQ,CACN0F,OAAQ,CAAEiC,KAAM,QAAShC,IAAK,OAAQC,OAAQ,QAC9CtG,MAAO,CAAEsI,IAAK,UAKpB,OACE,eAACrC,EAAA,EAAD,yBAAKW,UAAU,wBAA2BlG,GAA1C,cACE,cAAC,GAAD,CACE4E,UAAWnI,EAAWU,OACtBwH,WAAYlI,EAAWC,MACvB+B,QAAQ,gBAHV,SAKG6B,IAEH,cAAC,GAAD,SAKAiW,GAAoB,WACxB,IAAM1X,EAAOoE,qBAAWC,KAMlBsD,EAAmB,UAAT3H,EACVqT,EAAY1L,EAAU,OAAS,OAC/B2L,EAAmB3L,EAAU,OAAS,OAE5C,OACE,eAACjB,EAAA,EAAD,CACEM,IAAK,OACLH,OAAQ,CAAElG,WAAY2S,EAAkBxM,IAAKuM,EAAWtM,OAAQ,QAFlE,UAIE,cAACzC,EAAA,EAAD,CAAMtE,KAAe,UAATA,EAAmB,QAAU,SAAzC,yNAMA,cAAC,GAAD,CACEhB,MAAO,MACP6X,YACE,4CACW,IACT,sBAAMlQ,MAAO,CAAEgR,eAAgB,aAA/B,qBAFF,aAKFxU,KAAK,WAEP,cAAC,GAAD,CACEnE,MAAO,QACP6X,YACE,6CACW,sBAAMlQ,MAAO,CAAEgR,eAAgB,aAA/B,kBAA0D,IADrE,YAKFxU,KAAK,eCzGPyU,GAAwE,CAC5E,CAAEhO,IAAK,IAAKiO,UAAW,cAAC,GAAD,KACvB,CAAEjO,IAAK,SAAUiO,UAAW,cAAC,GAAD,KAC5B,CAAEjO,IAAK,WAAYiO,UAAW,cAAC,GAAD,KAC9B,CAAEjO,IAAK,QAASiO,UAAW,cAAC,GAAD,KAC3B,CAAEjO,IAAK,eAAgBiO,UAAW,cAAC,GAAD,KAClC,CAAEjO,IAAK,QAASiO,UAAW,cAAC,GAAD,KAC3B,CAAEjO,IAAK,OAAQiO,UAAW,cAAC,GAAD,KAC1B,CAAEjO,IAAK,SAAUiO,UAAW,cAAC,GAAD,MAoBfC,OAjBf,WACE,OACE,cAAC,IAAD,CAAYC,SAAU,IAAtB,SACE,cAAC,GAAD,UACE,eAAC,IAAD,WACGH,GAAiBpV,KAAI,gBAAGoH,EAAH,EAAGA,IAAKiO,EAAR,EAAQA,UAAR,OACpB,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAMrO,EAAnB,SACGiO,GAD0BjO,MAI/B,cAAC,IAAD,oC,aC1BVsO,KAAa,CACXC,OAAQ,CAAEC,SAAU,CAAC,aAGvBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.98f2c390.chunk.js","sourcesContent":["import { ThemeType } from \"grommet\";\n\nexport const colorTheme = {\n  black: \"#202122\",\n  white: \"#FFFFFF\",\n  offWhite: \"#F8F9FA\",\n  red: \"#E01010\",\n  redLight: \"#FF5959\",\n  grayLight: \"#A2A9B1\",\n  charcoal: \"#2C2A21\",\n  blue: \"#312DFF\",\n  green: \"#168500\",\n  yellow: \"#FFD237\",\n  yellowOpaque: \"rgba(255, 210, 55, 0)\",\n  yellowAlternative: \"#E8C100\",\n  background: { light: \"#FFD237\", dark: \"#202122\" },\n  text: { light: \"#202122\" },\n} as const;\n\nexport const customTheme: ThemeType = {\n  tip: {\n    content: {\n      background: {\n        color: \"white\",\n      },\n    },\n  },\n  global: {\n    colors: {\n      ...colorTheme,\n    },\n    font: {\n      family: \"Roboto, sans-serif\",\n    },\n    borderSize: {\n      medium: \"5px\",\n      small: \"1px\",\n    },\n\n    breakpoints: {\n      small: {\n        value: 767,\n      },\n      medium: {\n        value: 1199,\n      },\n      large: {\n        value: 1439,\n      },\n      xlarge: {},\n    },\n  },\n  heading: {\n    responsiveBreakpoint: undefined,\n    level: {\n      \"1\": {\n        small: {\n          size: \"32px\",\n          height: \"48px\",\n        },\n        medium: {\n          size: \"48px\",\n          height: \"56.25px\",\n        },\n      },\n      \"2\": {\n        small: {\n          size: \"24px\",\n          height: \"32px\",\n        },\n      },\n    },\n    weight: 400,\n  },\n  paragraph: {\n    small: {\n      size: \"24px\",\n      height: \"32px\",\n      maxWidth: undefined,\n    },\n    medium: {\n      size: \"32px\",\n      height: \"48px\",\n      maxWidth: undefined,\n    },\n  },\n  text: {\n    xsmall: {\n      size: \"18px\",\n      height: \"24px\",\n      maxWidth: undefined,\n    },\n    small: {\n      size: \"24px\",\n      height: \"32px\",\n      maxWidth: undefined,\n    },\n    medium: {\n      size: \"32px\",\n      height: \"48px\",\n      maxWidth: undefined,\n    },\n    \"2xl?\": {},\n    \"3xl?\": {},\n    \"4xl?\": {},\n    \"5xl?\": {},\n    \"6xl?\": {},\n  },\n  button: {\n    border: {\n      radius: \"0\",\n      width: \"3px\",\n    },\n    padding: {\n      horizontal: \"30px\",\n      vertical: \"10px\",\n    },\n    size: {\n      small: {\n        border: {\n          radius: \"0\",\n        },\n      },\n    },\n  },\n  layer: {\n    overlay: {\n      background: {\n        opacity: 0,\n      },\n    },\n  },\n};\n","import React, { Children, PropsWithChildren } from \"react\";\n\nimport { StyledStack } from \"grommet/components/Stack/StyledStack\";\nimport { StackProps } from \"grommet\";\nimport styled from \"styled-components\";\n\nconst StyledStackLayer = styled.div<{\n  guiding?: boolean;\n  fillContainer?: boolean | \"horizontal\" | \"vertical\";\n  interactive: boolean;\n}>`\n  position: ${(props) => (props.guiding ? \"relative\" : \"absolute\")};\n  ${(props) => props.guiding && \"display: block;\"}\n  ${(props) =>\n    !props.guiding &&\n    `\n  top: 0;\n  left: 0;\n  right: 0;\n`}\n  ${(props) =>\n    props.fillContainer &&\n    `\n    width: 100%;\n    height: 100%;\n  `}\n  ${(props) => !props.interactive && `pointer-events: none;`}\n`;\n\nconst buildStyledChildren = ({\n  anchor,\n  fill,\n  guidingIndex,\n}: {\n  anchor: StackProps[\"anchor\"];\n  fill: StackProps[\"fill\"];\n  guidingIndex: number;\n}) => (child: any, index: string | number | null | undefined) => {\n  const isGuidingIndex = index === guidingIndex;\n  const props = isGuidingIndex ? { guiding: true, fillContainer: fill } : {};\n\n  return (\n    <StyledStackLayer key={index} interactive={true} {...props}>\n      {child}\n    </StyledStackLayer>\n  );\n};\n\nexport const InteractiveStack = ({\n  anchor,\n  children,\n  fill,\n  guidingChild,\n  ...rest\n}: PropsWithChildren<Omit<StackProps, \"interactiveChild\">>) => {\n  const prunedChildren = Children.toArray(children).filter((c) => c);\n  const toChildIndex = (child: number | \"first\" | \"last\" | undefined) => {\n    let index = child;\n    if (index === \"first\" || !index) index = 0;\n    else if (index === \"last\") index = prunedChildren.length - 1;\n    return index;\n  };\n\n  const guidingIndex = toChildIndex(guidingChild);\n\n  const styledChildren = prunedChildren.map((child, index) => {\n    return buildStyledChildren({\n      anchor,\n      fill,\n      guidingIndex,\n    })(child, index);\n  });\n\n  return (\n    <StyledStack fillContainer={fill} {...rest}>\n      {styledChildren}\n    </StyledStack>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n  const location = useLocation().search;\n  return useMemo(() => new URLSearchParams(location), [location]);\n}\n","import { Anchor, AnchorProps, Button, ButtonProps } from \"grommet\";\nimport React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Routes } from \"../Routes\";\nimport { useQuery } from \"../hooks/useQuery\";\n\nexport const RoutedAnchor = (props: AnchorProps & { href: Routes }) => {\n  return (\n    <Link to={props.href}>\n      <Anchor {...props} as={\"div\"} />\n    </Link>\n  );\n};\n\nexport const RoutedButton = (\n  props: ButtonProps & { href: Routes } & Pick<\n      React.DetailedHTMLProps<\n        React.ButtonHTMLAttributes<HTMLButtonElement>,\n        HTMLButtonElement\n      >,\n      \"onClick\"\n    >\n) => {\n  return (\n    <Link to={props.href}>\n      <Button {...props} as={\"div\"} />\n    </Link>\n  );\n};\n\nexport const QueryButton = (\n  props: ButtonProps & {\n    query: {\n      key: \"modal\";\n      value: \"about\" | \"privacy\" | \"credits\";\n      operation: \"open\" | \"close\";\n    };\n  } & Pick<\n      React.DetailedHTMLProps<\n        React.ButtonHTMLAttributes<HTMLButtonElement>,\n        HTMLButtonElement\n      >,\n      \"onClick\"\n    >\n) => {\n  const query = useQuery();\n  const history = useHistory();\n\n  return (\n    <Button\n      {...props}\n      as={\"div\"}\n      onClick={() => {\n        if (props.query.operation === \"close\") {\n          query.delete(props.query.key);\n        } else {\n          query.set(props.query.key, props.query.value);\n        }\n        history.push({\n          ...history.location,\n          search: query.toString(),\n        });\n      }}\n    />\n  );\n};\n","import { ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext } from \"react\";\n\nexport const About = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n  return (\n    <>\n      <Text size={size === \"small\" ? \"small\" : \"medium\"}>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euism\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n      </Text>\n    </>\n  );\n};\n","import { ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext } from \"react\";\n\nexport const Privacy = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n  return (\n    <>\n      <Text size={size === \"small\" ? \"small\" : \"medium\"}>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euism\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n      </Text>\n    </>\n  );\n};\n","import { ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext } from \"react\";\n\nexport const Credits = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n  return (\n    <>\n      <Text size={size === \"small\" ? \"small\" : \"medium\"}>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euism\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n      </Text>\n    </>\n  );\n};\n","import createStoreHook from \"zustand\";\nimport create, { SetState } from \"zustand/vanilla\";\ntype State = {\n  webcamStream: MediaStream | undefined | \"DISCONNECTED\" | \"NOT_USED\";\n  nextVideoToPlay: HTMLVideoElement | undefined;\n  setWebcamStream(\n    webcamStream: MediaStream | \"DISCONNECTED\" | \"NOT_USED\" | undefined\n  ): void;\n  setNextVideoToPlay(nextVideoToPlay: HTMLVideoElement | undefined): void;\n  chapter:\n    | {\n        play: () => void;\n        pause: () => void;\n        rewind: () => void;\n        setProgress: (progress: number) => void;\n        getIsPlaying: () => boolean;\n        getProgress: () => number;\n        seekTimeDelta: (delta: number) => void;\n        chapterNumber: number;\n        intention: \"PLAY\" | \"PAUSE\";\n        progress: number;\n      }\n    | undefined;\n};\n\nconst initialState: NonFunctionProperties<State> = {\n  webcamStream: undefined,\n  nextVideoToPlay: undefined,\n  chapter: undefined,\n};\nexport const store = create<State>((set, get) => {\n  const setWithLog: SetState<State> = (partial, replace) => {\n    console.log(\"Changed state with partial:\");\n    console.table(partial);\n    set(partial, replace);\n  };\n  return {\n    ...initialState,\n    setWebcamStream(webcamStream: MediaStream | \"NOT_USED\") {\n      setWithLog({ webcamStream });\n    },\n    setNextVideoToPlay(nextVideoToPlay: HTMLVideoElement | undefined) {\n      setWithLog({ nextVideoToPlay });\n    },\n  };\n});\n\nexport const useStore = createStoreHook(store);\n\n// Type helpers\ntype CallbackFunctionVariadic = (...args: never[]) => void;\ntype NonFunctionPropertyNames<T> = {\n  [K in keyof T]: T[K] extends CallbackFunctionVariadic ? never : K;\n}[keyof T];\ntype NonFunctionProperties<T> = Pick<T, NonFunctionPropertyNames<T>>;\n","import { Box, BoxProps, Heading, Layer, ResponsiveContext } from \"grommet\";\nimport {\n  CSSProperties,\n  PropsWithChildren,\n  useCallback,\n  useContext,\n  useState,\n} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { colorTheme } from \"../../theme\";\nimport { InteractiveStack } from \"../../components/InteractiveStack\";\nimport { QueryButton } from \"../../components/RoutedAnchor\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { About } from \"./About\";\nimport { Privacy } from \"./Privacy\";\nimport { Credits } from \"./Credits\";\nimport { useStore } from \"../../store/store\";\n\nexport const ModalSelector = () => {\n  const query = useQuery();\n  const history = useHistory();\n\n  const close = useCallback(() => {\n    query.delete(\"modal\");\n    history.push({\n      ...history.location,\n      search: query.toString(),\n    });\n  }, [history, query]);\n\n  switch (query.get(\"modal\")) {\n    case \"about\":\n      return (\n        <Modal\n          onClose={close}\n          frameColor={colorTheme.blue}\n          textColor={colorTheme.white}\n          heading=\"About\"\n        >\n          <About />\n        </Modal>\n      );\n    case \"privacy\":\n      return (\n        <Modal\n          onClose={close}\n          frameColor={colorTheme.red}\n          textColor={colorTheme.white}\n          heading=\"Privacy\"\n        >\n          <Privacy />\n        </Modal>\n      );\n    case \"credits\":\n      return (\n        <Modal\n          onClose={close}\n          frameColor={colorTheme.green}\n          textColor={colorTheme.white}\n          heading=\"Credits\"\n        >\n          <Credits />\n        </Modal>\n      );\n    default:\n      return null;\n  }\n};\n\nconst Modal = ({\n  onClose,\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  onClose: () => void;\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const backgroundColor = useStore((state) =>\n    state.chapter !== undefined ? \"black\" : \"yellowAlternative\"\n  );\n  return (\n    <>\n      <Layer\n        full\n        responsive={false}\n        animate\n        position={\"bottom\"}\n        onEsc={onClose}\n        animation={\"fadeIn\"}\n      >\n        <Box fill background={backgroundColor}></Box>\n      </Layer>\n      <Layer\n        full\n        responsive={false}\n        animate\n        position={\"bottom\"}\n        onEsc={onClose}\n        animation={\"slide\"}\n        style={{\n          backgroundColor: \"rgba(0,0,0,0)\",\n        }}\n      >\n        <ModalContainer\n          frameColor={frameColor}\n          textColor={textColor}\n          heading={heading}\n        >\n          <ModalContent>{children}</ModalContent>\n        </ModalContainer>\n      </Layer>\n    </>\n  );\n};\n\nconst ModalContainer = ({\n  children,\n  textColor,\n  frameColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = {\n        margin: { horizontal: \"32px\", top: \"32px\", bottom: \"-4px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"medium\":\n      props = {\n        margin: { horizontal: \"48px\", top: \"48px\", bottom: \"-4px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { horizontal: \"48px\", top: \"48px\", bottom: \"-4px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { horizontal: \"48px\", top: \"48px\", bottom: \"-4px\" },\n      };\n      break;\n  }\n\n  const Frame =\n    size === \"small\" || size === \"medium\"\n      ? ScrollableFrame\n      : ScrollableFrameLarge;\n  return (\n    <Box fill overflow=\"hidden\">\n      <Box className=\"modal container\" {...props} background=\"yellow\">\n        <Frame textColor={textColor} frameColor={frameColor} heading={heading}>\n          {children}\n        </Frame>\n      </Box>\n    </Box>\n  );\n};\n\nconst ScrollableFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style: CSSProperties = {\n    outlineOffset: `-4px`,\n    outline: `4px ${frameColor} solid`,\n  };\n\n  const [showBorder, setShowBorder] = useState(false);\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n\n  const ScrollableBox = isSmall ? Box : CustomScrollbarBox;\n\n  return (\n    <Box className=\"scrollable-frame\" style={style} flex={false} fill>\n      <ScrollingHeadingBlock frameColor={frameColor} showBorder={showBorder}>\n        <Heading\n          level={1}\n          color={textColor}\n          margin=\"0\"\n          size={isSmall ? \"small\" : \"medium\"}\n        >\n          {heading}\n        </Heading>\n      </ScrollingHeadingBlock>\n\n      <Box fill>\n        <ScrollableBox\n          flex={false}\n          overflow={{ horizontal: \"hidden\", vertical: \"auto\" }}\n          onScroll={(event) =>\n            setShowBorder((event.target as HTMLElement).scrollTop !== 0)\n          }\n          height=\"100%\"\n          margin={{ right: isSmall ? \"0\" : \"12px\" }}\n        >\n          {children}\n        </ScrollableBox>\n      </Box>\n    </Box>\n  );\n};\n\nconst ScrollableFrameLarge = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style: CSSProperties = {\n    outlineOffset: `-4px`,\n    outline: `4px ${frameColor} solid`,\n  };\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n\n  const ScrollableBox = isSmall ? Box : CustomScrollbarBox;\n\n  return (\n    <Box className=\"scrollable-frame\" style={style} flex={false} fill>\n      <InteractiveStack fill>\n        <Box fill>\n          <ScrollableBox\n            flex={false}\n            overflow={{ horizontal: \"hidden\", vertical: \"auto\" }}\n            height=\"100%\"\n            pad={{ top: \"76px\" }}\n            margin={{ right: \"12px\", top: \"12px\" }}\n          >\n            {children}\n          </ScrollableBox>\n        </Box>\n        <Box margin={{ right: \"32px\" }}>\n          <ScrollingHeadingBlock frameColor={frameColor} showBorder={false}>\n            <Heading\n              level={1}\n              color={textColor}\n              margin=\"0\"\n              size={isSmall ? \"small\" : \"medium\"}\n            >\n              {heading}\n            </Heading>\n          </ScrollingHeadingBlock>\n        </Box>\n      </InteractiveStack>\n    </Box>\n  );\n};\n\nconst CustomScrollbarBox = styled(Box)`\n  &::-webkit-scrollbar {\n    width: 20px;\n  }\n\n  &::-webkit-scrollbar-track {\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ${colorTheme.yellowAlternative};\n    outline-offset: -2px;\n    outline: 2px solid ${colorTheme.black};\n  }\n`;\n\nconst ScrollingHeadingBlock = ({\n  frameColor,\n  children,\n  showBorder,\n}: PropsWithChildren<{\n  frameColor: string;\n  showBorder: boolean;\n}>) => {\n  const size = useContext(ResponsiveContext);\n\n  let bottomBorderStyle = {};\n  if (size === \"small\" || size === \"medium\") {\n    bottomBorderStyle = showBorder\n      ? { borderBottom: `4px solid ${colorTheme.yellowAlternative}` }\n      : { borderBottom: `4px solid ${colorTheme.yellow}` };\n  }\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n\n  return (\n    <Box\n      flex={false}\n      className=\"heading-block\"\n      direction=\"row\"\n      style={bottomBorderStyle}\n      justify={\"between\"}\n    >\n      <Box\n        background={frameColor}\n        pad={{ horizontal: \"20px\", vertical: \"12px\" }}\n      >\n        {children}\n      </Box>\n      <Box pad={{ horizontal: \"20px\", vertical: \"12px\" }}>\n        <QueryButton\n          query={{ key: \"modal\", value: \"credits\", operation: \"close\" }}\n          href=\"/credits\"\n          plain\n          fill\n          label={\n            <Heading level={1} margin=\"0\" size={isSmall ? \"small\" : \"medium\"}>\n              X\n            </Heading>\n          }\n        />\n      </Box>\n    </Box>\n  );\n};\n\nconst ModalContent = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = {\n        margin: { left: \"18px\", right: \"18px\", top: \"56px\" },\n        pad: { bottom: \"68px\" },\n      };\n      break;\n    case \"medium\":\n      props = {\n        margin: { left: \"60px\", right: \"28px\", top: \"48px\" },\n        width: { max: \"768px\" },\n        pad: { bottom: \"132px\" },\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { left: \"168px\", right: \"136px\", top: \"48px\" },\n        width: { max: \"768px\" },\n        pad: { bottom: \"132px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { left: \"288px\", right: \"256px\", top: \"48px\" },\n        width: { max: \"768px\" },\n        pad: { bottom: \"132px\" },\n      };\n      break;\n  }\n  return (\n    <Box align=\"center\">\n      <Box gap={\"40px\"} {...props} flex={false}>\n        {children}\n      </Box>\n    </Box>\n  );\n};\n","export const routes = [\n  \"/\",\n  \"/home\",\n  \"/cover\",\n  \"/chapter\",\n  \"/permissions\",\n  \"/coil\",\n  \"/error\",\n  \"/chapter/1?isCover\",\n  \"/chapter/1?isChapter\",\n  \"/chapter/2?isCover\",\n  \"/chapter/2?isChapter\",\n  \"/chapter/3?isCover\",\n  \"/chapter/3?isChapter\",\n  \"/chapter/4?isCover\",\n  \"/chapter/4?isChapter\",\n  \"/chapter/5?isCover\",\n  \"/chapter/5?isChapter\",\n  \"/end\",\n] as const;\n\nexport type Routes = typeof routes[number];\nexport type PlainPageRoutes = Exclude<Routes, `/chapter/${string}`>;\nexport type ChapterRoutes = Routes & `/chapter/${string}`;\n\nexport const plainPageRoutes: readonly PlainPageRoutes[] = [\n  \"/\",\n  \"/coil\",\n  \"/end\",\n  \"/error\",\n] as const;\n\nexport const chapterRoutes: readonly ChapterRoutes[] = [\n  \"/chapter/1?isCover\",\n  \"/chapter/1?isChapter\",\n  \"/chapter/2?isCover\",\n  \"/chapter/2?isChapter\",\n  \"/chapter/3?isCover\",\n  \"/chapter/3?isChapter\",\n  \"/chapter/4?isCover\",\n  \"/chapter/4?isChapter\",\n  \"/chapter/5?isCover\",\n  \"/chapter/5?isChapter\",\n] as const;\n\nexport type ChapterNumbers = ChapterRoutes &\n  `/chapter/${number}?isCover` extends `/chapter/${infer ChapterNumber}?isCover`\n  ? ChapterNumber\n  : never;\n\nexport const chapterNumbers: ChapterNumbers[] = [\"1\", \"2\", \"3\", \"4\", \"5\"];\n\nexport const chapterFlow: Record<\n  ChapterRoutes,\n  { next: Routes; previous: Routes }\n> = {\n  \"/chapter/1?isCover\": {\n    next: \"/chapter/1?isChapter\",\n    previous: \"/\",\n  },\n  \"/chapter/1?isChapter\": {\n    next: \"/chapter/2?isCover\",\n    previous: \"/chapter/1?isCover\",\n  },\n  \"/chapter/2?isCover\": {\n    next: \"/chapter/2?isChapter\",\n    previous: \"/chapter/1?isCover\",\n  },\n  \"/chapter/2?isChapter\": {\n    next: \"/chapter/3?isCover\",\n    previous: \"/chapter/2?isCover\",\n  },\n  \"/chapter/3?isCover\": {\n    next: \"/chapter/3?isChapter\",\n    previous: \"/chapter/2?isCover\",\n  },\n  \"/chapter/3?isChapter\": {\n    next: \"/chapter/4?isCover\",\n    previous: \"/chapter/3?isCover\",\n  },\n  \"/chapter/4?isCover\": {\n    next: \"/chapter/4?isChapter\",\n    previous: \"/chapter/3?isCover\",\n  },\n  \"/chapter/4?isChapter\": {\n    next: \"/chapter/5?isCover\",\n    previous: \"/chapter/4?isCover\",\n  },\n  \"/chapter/5?isCover\": {\n    next: \"/chapter/5?isChapter\",\n    previous: \"/chapter/4?isCover\",\n  },\n  \"/chapter/5?isChapter\": {\n    next: \"/end\",\n    previous: \"/chapter/5?isCover\",\n  },\n} as const;\n\nexport const chapterRouteNames: { [key in ChapterRoutes]: string } = {\n  \"/chapter/1?isChapter\": \" Chapter 1\",\n  \"/chapter/2?isChapter\": \" Chapter 2\",\n  \"/chapter/3?isChapter\": \" Chapter 3\",\n  \"/chapter/4?isChapter\": \" Chapter 4\",\n  \"/chapter/5?isChapter\": \" Chapter 5\",\n  \"/chapter/1?isCover\": \" Cover 1\",\n  \"/chapter/2?isCover\": \" Cover 2\",\n  \"/chapter/3?isCover\": \" Cover 3\",\n  \"/chapter/4?isCover\": \" Cover 4\",\n  \"/chapter/5?isCover\": \" Cover 5\",\n} as const;\n\nexport const plainPageRouteNames: { [key in PlainPageRoutes]: string } = {\n  \"/\": \"Home\",\n  \"/cover\": \"Template Cover\",\n  \"/chapter\": \"Template Chapter\",\n  \"/home\": \"Home\",\n  \"/permissions\": \"Permissions\",\n  \"/coil\": \"Coil\",\n  \"/end\": \"End\",\n  \"/error\": \"Error\",\n} as const;\n","import {\n  Accordion,\n  AccordionPanel,\n  Anchor,\n  Box,\n  CheckBox,\n  DropButton,\n  Layer,\n  Nav,\n} from \"grommet\";\nimport { Menu } from \"grommet-icons\";\nimport {\n  chapterRouteNames,\n  chapterRoutes,\n  plainPageRouteNames,\n  plainPageRoutes,\n} from \"../Routes\";\nimport { store, useStore } from \"../store/store\";\nimport { RoutedAnchor } from \"./RoutedAnchor\";\n\nexport const NavMenu = () => {\n  const isUsingWebcam = useStore((state) => state.webcamStream !== \"NOT_USED\");\n  return (\n    <Layer\n      modal={false}\n      position=\"top-left\"\n      responsive={false}\n      background={\"yellow\"}\n    >\n      <Box pad=\"small\">\n        <DropButton\n          alignSelf=\"start\"\n          dropContent={\n            <Nav direction=\"column\" background=\"brand\">\n              {plainPageRoutes.map((url) => (\n                <RoutedAnchor\n                  href={url}\n                  label={plainPageRouteNames[url]}\n                  key={url}\n                />\n              ))}\n\n              <CheckBox\n                toggle\n                label=\"Webcam\"\n                checked={isUsingWebcam}\n                onChange={(event) => {\n                  if (event.target.checked) {\n                    const maybeStream = store.getState().webcamStream;\n                    if (maybeStream instanceof MediaStream) {\n                    } else {\n                      store.getState().setWebcamStream(undefined);\n                    }\n                  } else {\n                    store.getState().setWebcamStream(\"NOT_USED\");\n                  }\n                }}\n              />\n\n              <Accordion animate direction=\"row\">\n                <AccordionPanel label={<Anchor label=\"Chapters\" />}>\n                  {chapterRoutes\n                    .filter((url) => url.includes(\"isChapter\"))\n                    .map((url) => (\n                      <RoutedAnchor\n                        href={url}\n                        label={chapterRouteNames[url]}\n                        key={url}\n                      />\n                    ))}\n                </AccordionPanel>\n                <AccordionPanel label={<Anchor label=\"Covers\" />}>\n                  {chapterRoutes\n                    .filter((url) => url.includes(\"isCover\"))\n                    .map((url) => (\n                      <RoutedAnchor\n                        href={url}\n                        label={chapterRouteNames[url]}\n                        key={url}\n                      />\n                    ))}\n                </AccordionPanel>\n              </Accordion>\n            </Nav>\n          }\n        >\n          <Menu />\n        </DropButton>\n      </Box>\n    </Layer>\n  );\n};\n","import { Grommet } from \"grommet\";\nimport React, { PropsWithChildren } from \"react\";\nimport { ModalSelector } from \"../pages/modals/ModalSelector\";\nimport { customTheme } from \"../theme\";\nimport { NavMenu } from \"./NavMenu\";\n\nexport const PageContainer = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <Grommet theme={customTheme} full background=\"yellow\">\n      <NavMenu />\n      {children}\n      <ModalSelector />\n    </Grommet>\n  );\n};\n","import { Box, ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext } from \"react\";\nimport { colorTheme } from \"./../theme\";\n\nexport const CameraIndicator = ({\n  showBorder,\n  backgroundColor = \"yellow\",\n}: {\n  showBorder: boolean;\n  backgroundColor?: \"black\" | \"yellow\";\n}) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const margins =\n    size === \"small\" || size === \"medium\"\n      ? { right: \"16px\", top: \"16px\", bottom: \"12px\" }\n      : { right: \"13px\", top: \"12px\", bottom: \"12px\" };\n  const bottomBorderStyle = showBorder\n    ? { borderBottom: `4px solid ${colorTheme.yellowAlternative}` }\n    : {};\n  return (\n    <Box\n      fill=\"horizontal\"\n      background={backgroundColor}\n      flex={false}\n      style={bottomBorderStyle}\n    >\n      <Box direction=\"row\" justify=\"end\" margin={margins}>\n        <CameraIndicatorBox />\n      </Box>\n    </Box>\n  );\n};\n\nconst CameraIndicatorBox = () => {\n  return (\n    <Box direction=\"row\" border={{ color: \"yellow\", size: \"3px\" }}>\n      <Box background=\"redLight\">\n        <CameraIcon />\n      </Box>\n      <Box\n        background=\"charcoal\"\n        pad={{ right: \"17px\", left: \"20px\", vertical: \"7px\" }}\n      >\n        <Text size=\"small\" color=\"grayLight\">\n          Webcam off\n        </Text>\n      </Box>\n    </Box>\n  );\n};\n\nexport const ChapterCameraIndicator = () => {\n  return (\n    <Box fill=\"horizontal\" flex={false}>\n      <Box justify=\"end\" gap={\"16px\"}>\n        <CameraIndicatorBox />\n        <WebcamNotification />\n      </Box>\n    </Box>\n  );\n};\n\nconst WebcamNotification = () => {\n  return (\n    <Box\n      flex={false}\n      style={{\n        position: \"absolute\",\n        top: \"calc(16px + 100%)\",\n        zIndex: 1,\n      }}\n      background={\"black\"}\n      pad=\"10px\"\n      border={{ color: \"red\", size: \"3px\" }}\n    >\n      <Text size=\"xsmall\" color=\"offWhite\">\n        To make this sequence interactive, turn on your webcam\n      </Text>\n    </Box>\n  );\n};\n\nconst CameraIcon = () => {\n  return (\n    <Box background=\"redLight\">\n      <svg\n        width=\"49\"\n        height=\"49\"\n        viewBox=\"0 0 52 52\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M16 17.7002C14.8954 17.7002 14 18.5956 14 19.7002V34.9002C14 36.0048 14.8954 36.9002 16 36.9002H36C37.1046 36.9002 38 36.0048 38 34.9002V19.7002C38 18.5956 37.1046 17.7002 36 17.7002H16ZM26 33.0002C29.3137 33.0002 32 30.3139 32 27.0002C32 23.6865 29.3137 21.0002 26 21.0002C22.6863 21.0002 20 23.6865 20 27.0002C20 30.3139 22.6863 33.0002 26 33.0002Z\"\n          fill=\"#202122\"\n        />\n        <path\n          d=\"M20 18C20 15.7909 21.7909 14 24 14H28C30.2091 14 32 15.7909 32 18H20Z\"\n          fill=\"#202122\"\n        />\n        <circle cx=\"26\" cy=\"27\" r=\"4\" fill=\"#202122\" />\n      </svg>\n    </Box>\n  );\n};\n","import React, {\n  Children,\n  PropsWithChildren,\n  ReactNode,\n  ReactText,\n} from \"react\";\n\nimport { StyledStack } from \"grommet/components/Stack/StyledStack\";\nimport { StackProps } from \"grommet\";\nimport styled from \"styled-components\";\n\nconst styleMap = {\n  fill: `\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n  `,\n  center: `\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  `,\n  left: `\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n  `,\n  right: `\n    top: 50%;\n    right: 0;\n    transform: translateY(-50%);\n  `,\n  top: `\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  `,\n  bottom: `\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  `,\n  \"top-fill\": `\n    top: 0;\n    left: 0;\n    width: 100%;\n  `,\n  \"top-left\": `\n    top: 0;\n    left: 0;\n  `,\n  \"bottom-left\": `\n    bottom: 0;\n    left: 0;\n  `,\n  \"top-right\": `\n    top: 0;\n    right: 0;\n  `,\n  \"bottom-right\": `\n    bottom: 0;\n    right: 0;\n  `,\n} as const;\n\nconst StyledStackLayer = styled.div<{\n  guiding?: boolean;\n  fillContainer?: boolean | \"horizontal\" | \"vertical\";\n  interactive: boolean;\n  anchor?: keyof typeof styleMap;\n}>`\n  position: ${(props) => (props.guiding ? \"relative\" : \"absolute\")};\n  ${(props) => props.guiding && \"display: block;\"}\n  ${(props) => !props.guiding && `${styleMap[props.anchor || \"fill\"]};`}\n  ${(props) =>\n    props.fillContainer &&\n    `\n    width: 100%;\n    height: 100%;\n  `}\n  ${(props) => !props.interactive && `pointer-events: none;`}\n`;\n\nconst buildStyledChildren = ({\n  anchor,\n  fill,\n  guidingIndex,\n  interactiveChild,\n  interactiveIndex,\n}: {\n  anchor: keyof typeof styleMap;\n  fill: StackProps[\"fill\"];\n  guidingIndex: ReactText;\n  interactiveChild: StackProps[\"interactiveChild\"];\n  interactiveIndex: string | number | undefined;\n}) => (child: ReactNode, index: number) => {\n  const interactive =\n    interactiveChild === undefined || interactiveIndex === index;\n  const isGuidingIndex = index === guidingIndex;\n  const props = isGuidingIndex\n    ? { guiding: true, fillContainer: fill }\n    : { anchor };\n\n  return (\n    <StyledStackLayer key={index} interactive={interactive} {...props}>\n      {child}\n    </StyledStackLayer>\n  );\n};\n\nexport const FullWidthStack = ({\n  anchor,\n  children,\n  fill,\n  guidingChild,\n  interactiveChild,\n  ...rest\n}: PropsWithChildren<\n  Omit<StackProps, \"anchor\"> & { anchor: keyof typeof styleMap }\n>) => {\n  const prunedChildren = Children.toArray(children).filter((c) => c);\n  const toChildIndex = (child: string | number | undefined) => {\n    let index = child;\n    if (index === \"first\" || !index) index = 0;\n    else if (index === \"last\") index = prunedChildren.length - 1;\n    return index;\n  };\n\n  const guidingIndex = toChildIndex(guidingChild);\n  const interactiveIndex = interactiveChild && toChildIndex(interactiveChild);\n\n  const styledChildren = prunedChildren.map(\n    buildStyledChildren({\n      anchor,\n      fill,\n      guidingIndex,\n      interactiveChild,\n      interactiveIndex,\n    })\n  );\n\n  return (\n    <StyledStack fillContainer={fill} {...rest}>\n      {styledChildren}\n    </StyledStack>\n  );\n};\n","import { Timeout } from \"grommet\";\nimport { useEffect, useState } from \"react\";\n\nexport function useIsActive() {\n  const [isActive, setIsActive] = useState(true);\n  useEffect(() => {\n    let timeout: Timeout | undefined;\n    const onActivity = () => {\n      setIsActive(true);\n      if (timeout) clearTimeout(timeout);\n\n      timeout = (setTimeout(() => {\n        setIsActive(false);\n      }, 4000) as unknown) as number;\n    };\n    window.addEventListener(\"mousemove\", onActivity);\n\n    return () => {\n      timeout && clearTimeout(timeout);\n      window.removeEventListener(\"mousemove\", onActivity);\n    };\n  }, []);\n\n  return isActive;\n}\n","import { Box, BoxProps, Button, Grid, Stack, Text } from \"grommet\";\nimport { Pause, Play, Rewind } from \"grommet-icons\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useIsActive } from \"../pages/chapters/useIsActive\";\nimport { store, useStore } from \"../store/store\";\nimport { colorTheme } from \"../theme\";\nimport { QueryButton } from \"./RoutedAnchor\";\nexport const Timeline = ({\n  showScrubber = true,\n  ...props\n}: BoxProps & { showScrubber?: boolean }) => {\n  return (\n    <Box gap=\"8px\" {...props}>\n      <Stack interactiveChild=\"first\">\n        <ChapterIndicators />\n      </Stack>\n      <ModalOpenButtons />\n    </Box>\n  );\n};\n\nfunction isTouchEvent(event: TouchEvent | MouseEvent): event is TouchEvent {\n  return event.type.startsWith(\"touch\");\n}\n\nfunction getClickCoordinates(\n  event: TouchEvent | MouseEvent\n): { x: number; y: number } {\n  if (isTouchEvent(event)) {\n    const x = event.changedTouches[0].clientX;\n    const y = event.changedTouches[0].clientY;\n    return { x, y };\n  } else {\n    const x = event.clientX;\n    const y = event.clientY;\n    return { x, y };\n  }\n}\n\nconst ClickableBox = styled(Box)`\n  & {\n    position: relative;\n  }\n  &:after {\n    content: \"\";\n    position: absolute;\n    top: -10px;\n    bottom: -10px;\n    left: -10px;\n    right: -10px;\n    z-index: -1;\n  }\n`;\n\nconst LeftInsetOutline = styled.div`\n  & {\n    position: relative;\n  }\n  &:before {\n    position: absolute;\n    content: \"\";\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-left: 2px solid ${colorTheme.yellow};\n  }\n`;\n\nconst ChapterIndicator = ({ chapter }: { chapter: number }) => {\n  const chapterNumber = useStore((state) => state.chapter?.chapterNumber);\n  const ref = useRef<HTMLDivElement>(null);\n  const onClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    const clickWasOnIndicator = event.target === ref.current;\n    if (!clickWasOnIndicator) return;\n    const thisIsTheCurrentChapter = chapterNumber === chapter;\n    if (!thisIsTheCurrentChapter) return;\n    const { x } = getClickCoordinates(event.nativeEvent);\n    const rect = (event.target as HTMLDivElement).getBoundingClientRect();\n    const relativeX = Math.min(Math.max((x - rect.x) / rect.width, 0), 1);\n\n    store.getState().chapter?.setProgress(relativeX);\n  };\n  const thisIsTheCurrentChapter = chapterNumber === chapter;\n  const isActive = useIsActive();\n  return (\n    <ClickableBox ref={ref as any} onClick={onClick}>\n      {thisIsTheCurrentChapter && <StoreScrubber />}\n      <Box\n        background={{ color: \"yellowAlternative\", opacity: 0.8 }}\n        height=\"8px\"\n        style={{ pointerEvents: \"none\" }}\n      >\n        {thisIsTheCurrentChapter && isActive && (\n          <LeftInsetOutline\n            style={{\n              position: \"absolute\",\n              left: 0,\n              bottom: 0,\n              height: \"102px\",\n            }}\n          >\n            <Box\n              background=\"black\"\n              pad=\"10px\"\n              border={{ color: \"yellow\", size: \"2px\" }}\n            >\n              <Text size=\"small\" color=\"offWhite\">\n                Chapter 1\n              </Text>\n            </Box>\n          </LeftInsetOutline>\n        )}\n      </Box>\n    </ClickableBox>\n  );\n};\n\nconst ChapterIndicators = () => {\n  return (\n    <Grid\n      fill\n      responsive={false}\n      columns={{ count: 4, size: \"auto\" }}\n      gap={\"4px\"}\n    >\n      <ChapterIndicator chapter={1} />\n      <ChapterIndicator chapter={2} />\n      <ChapterIndicator chapter={3} />\n      <ChapterIndicator chapter={4} />\n    </Grid>\n  );\n};\n\nconst PlayPauseButton = () => {\n  const Icon = useStore((state) =>\n    state.chapter?.intention === undefined ||\n    state.chapter?.intention === \"PAUSE\" ? (\n      <Play />\n    ) : (\n      <Pause />\n    )\n  );\n\n  return (\n    <Button\n      plain\n      onClick={() =>\n        store.getState().chapter?.getIsPlaying()\n          ? store.getState().chapter?.pause()\n          : store.getState().chapter?.play()\n      }\n      icon={Icon}\n      color=\"offWhite\"\n    ></Button>\n  );\n};\n\nconst RewindButton = () => {\n  return (\n    <Button\n      plain\n      onClick={() => store.getState().chapter?.seekTimeDelta(-10)}\n      icon={<Rewind />}\n      color=\"offWhite\"\n    ></Button>\n  );\n};\n\nconst FadeColorText = styled(Text)<{ textColor: string }>`\n  color: ${(props) => props.textColor};\n  transition: color 0.4s;\n`;\n\nconst ModalOpenButtons = () => {\n  const isActive = useIsActive();\n  return (\n    <Box\n      direction=\"row\"\n      justify=\"between\"\n      flex={false}\n      pad={{ horizontal: \"16px\", top: \"0px\", bottom: \"8px\" }}\n      align=\"center\"\n    >\n      <Box direction=\"row\" gap={\"20px\"} align=\"center\">\n        <PlayPauseButton />\n        <RewindButton />\n      </Box>\n      <Box direction=\"row\" gap={\"20px\"} alignSelf=\"center\">\n        <QueryButton\n          plain\n          query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n          label={\n            <FadeColorText\n              size=\"small\"\n              textColor={isActive ? colorTheme[\"blue\"] : colorTheme.offWhite}\n            >\n              About\n            </FadeColorText>\n          }\n        />\n        <QueryButton\n          plain\n          query={{\n            key: \"modal\",\n            value: \"privacy\",\n            operation: \"open\",\n          }}\n          label={\n            <FadeColorText\n              size=\"small\"\n              textColor={isActive ? colorTheme[\"red\"] : colorTheme.offWhite}\n            >\n              Privacy\n            </FadeColorText>\n          }\n        />\n        <QueryButton\n          plain\n          query={{\n            key: \"modal\",\n            value: \"credits\",\n            operation: \"open\",\n          }}\n          label={\n            <FadeColorText\n              size=\"small\"\n              textColor={isActive ? colorTheme[\"green\"] : colorTheme.offWhite}\n            >\n              Credits\n            </FadeColorText>\n          }\n        />\n      </Box>\n    </Box>\n  );\n};\n\nconst StoreScrubber = () => {\n  const [isDragging, setIsDragging] = useState(false);\n  const progress = useStore(\n    (state) => state.chapter?.progress || 0,\n    (oldState, newState) => {\n      const isSame = oldState === newState;\n      if (isSame) return true;\n      return isDragging;\n    }\n  );\n\n  const wasPlaying = useRef(store.getState().chapter?.getIsPlaying() ?? false);\n\n  const onScrubberDragStart = useCallback(() => {\n    setIsDragging(true);\n    wasPlaying.current = store.getState().chapter?.getIsPlaying() ?? false;\n    store.getState().chapter?.pause();\n  }, []);\n\n  const onScrubberDragEnd = useCallback((progress: number): void => {\n    setIsDragging(false);\n    store.getState().chapter?.setProgress(progress);\n    if (wasPlaying.current) store.getState().chapter?.play();\n  }, []);\n\n  const onScrubberDrag = useCallback((progress: number): void => {\n    store.getState().chapter?.setProgress(progress);\n  }, []);\n\n  return (\n    <Scrubber\n      position={progress}\n      onDrag={onScrubberDrag}\n      onDragStart={onScrubberDragStart}\n      onDragEnd={onScrubberDragEnd}\n    />\n  );\n};\n\nconst Scrubber = ({\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  position = 0,\n}: {\n  position?: number;\n  onDragStart?: () => void;\n  onDrag?: (position: number) => void;\n  onDragEnd?: (position: number) => void;\n}) => {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useDraggableElement(\n    containerRef,\n    buttonRef,\n    position,\n    onDragStart,\n    onDrag,\n    onDragEnd\n  );\n\n  return (\n    <Box\n      fill=\"horizontal\"\n      ref={containerRef}\n      style={{ pointerEvents: \"none\", transform: \"translateY(-50%)\" }}\n    >\n      <Button\n        style={{ position: \"absolute\", pointerEvents: \"auto\" }}\n        ref={buttonRef}\n        plain\n        margin={{ top: \"-7px\", left: \"-13px\" }}\n      >\n        <Box\n          style={{ pointerEvents: \"none\" }}\n          round=\"100%\"\n          background=\"yellowAlternative\"\n          width=\"26px\"\n          height=\"26px\"\n        ></Box>\n      </Button>\n    </Box>\n  );\n};\n\nfunction useDraggableElement(\n  container: React.RefObject<HTMLDivElement>,\n  element: React.RefObject<HTMLElement>,\n  relativePosition: number,\n  onDragStart: (() => void) | undefined,\n  onDrag: ((relativePosition: number) => void) | undefined,\n  onDragEnd: ((relativePosition: number) => void) | undefined\n) {\n  useEffect(() => {\n    if (!container.current || !element.current) return;\n    const containerDimensions = container.current.getBoundingClientRect();\n\n    let dragInitial = 0;\n    let dragCurrent = 0;\n    let startPosition = 0 + relativePosition * containerDimensions.width;\n    let isDragging: boolean = false;\n\n    const setTransform = (clippedX: number) => {\n      if (!element.current) return;\n      element.current.style.transform = `translateX(${clippedX}px)`;\n    };\n\n    setTransform(startPosition);\n    const onDragStartInner = (event: TouchEvent | MouseEvent) => {\n      if (event.target !== element.current) {\n        isDragging = false;\n        return;\n      }\n\n      event.preventDefault();\n      const { x } = getClickCoordinates(event);\n      dragInitial = x - startPosition;\n      isDragging = true;\n      onDragStart?.();\n    };\n\n    const onDragInner = (event: TouchEvent | MouseEvent) => {\n      if (!isDragging) return;\n      if (!element.current) return;\n      event.preventDefault();\n\n      const { x } = getClickCoordinates(event);\n\n      dragCurrent = x - dragInitial;\n\n      const clippedX = Math.min(\n        Math.max(dragCurrent, 0),\n        containerDimensions.width\n      );\n      dragCurrent = clippedX;\n      const relativeX = clippedX / containerDimensions.width;\n\n      onDrag?.(relativeX);\n      setTransform(clippedX);\n    };\n\n    const onDragEndInner = (event: TouchEvent | MouseEvent) => {\n      if (!isDragging) return;\n      event.preventDefault();\n      startPosition = dragCurrent;\n      const clippedX = Math.min(\n        Math.max(dragCurrent, 0),\n        containerDimensions.width\n      );\n      const relativeX = clippedX / containerDimensions.width;\n\n      onDragEnd?.(relativeX);\n      isDragging = false;\n    };\n\n    window.addEventListener(\"mousemove\", onDragInner, false);\n    window.addEventListener(\"mousedown\", onDragStartInner, false);\n    window.addEventListener(\"mouseup\", onDragEndInner, false);\n\n    window.addEventListener(\"touchmove\", onDragInner, { passive: false });\n    window.addEventListener(\"touchstart\", onDragStartInner, { passive: false });\n    window.addEventListener(\"touchend\", onDragEndInner, { passive: false });\n\n    return () => {\n      window.removeEventListener(\"mousemove\", onDragInner);\n      window.removeEventListener(\"mousedown\", onDragStartInner);\n      window.removeEventListener(\"mouseup\", onDragEndInner);\n\n      window.removeEventListener(\"touchmove\", onDragInner);\n      window.removeEventListener(\"touchstart\", onDragStartInner);\n      window.removeEventListener(\"touchend\", onDragEndInner);\n    };\n  }, [element, onDragEnd, relativePosition, container, onDragStart, onDrag]);\n}\n","export default __webpack_public_path__ + \"static/media/720p.40b0841d.mp4\";","import { useCallback, useEffect, useRef } from \"react\";\nimport { store } from \"../../store/store\";\nimport videoSrc from \"./../../720p.mp4\";\nexport const ChapterX = () => {\n  const ref = useRef<HTMLVideoElement>(null);\n  useChapter(ref);\n\n  return (\n    <video\n      ref={ref}\n      style={{ boxSizing: \"border-box\", outline: \"none\" }}\n      width=\"100%\"\n      src={videoSrc}\n    ></video>\n  );\n};\nfunction useChapter(ref: React.RefObject<HTMLVideoElement>) {\n  const play = useCallback(() => ref.current?.play(), [ref]);\n  const pause = useCallback(() => ref.current?.pause(), [ref]);\n  const rewind = useCallback(() => {\n    if (ref.current) ref.current.currentTime = 0;\n  }, [ref]);\n  const getIsPlaying = useCallback(() => {\n    if (!ref.current) return false;\n    return !!(\n      ref.current.currentTime > 0 &&\n      !ref.current.paused &&\n      !ref.current.ended &&\n      ref.current.readyState > 2\n    );\n  }, [ref]);\n\n  const getProgress = useCallback(() => {\n    if (!ref.current) return 0;\n    return ref.current.currentTime / ref.current.duration;\n  }, [ref]);\n\n  const setProgress = useCallback(\n    (progress: number) => {\n      if (!ref.current) return;\n      ref.current.currentTime = progress * ref.current.duration;\n    },\n    [ref]\n  );\n\n  const seekTimeDelta = useCallback(\n    (delta: number) => {\n      if (!ref.current) return;\n      const target = ref.current.currentTime + delta;\n      const clippedTarget = Math.min(Math.max(0, target), ref.current.duration);\n      ref.current.currentTime = clippedTarget;\n    },\n    [ref]\n  );\n  const onClick = useCallback(() => (getIsPlaying() ? pause() : play()), [\n    getIsPlaying,\n    pause,\n    play,\n  ]);\n\n  useEffect(() => {\n    const updateStore = () => {\n      return store.setState({\n        chapter: {\n          play,\n          pause,\n          rewind,\n          getIsPlaying,\n          getProgress,\n          setProgress,\n          seekTimeDelta,\n          progress: getProgress(),\n          chapterNumber: 1,\n          intention: getIsPlaying() ? \"PLAY\" : \"PAUSE\",\n        },\n      });\n    };\n\n    const video = ref.current;\n\n    ref.current?.addEventListener(\"click\", onClick);\n    ref.current?.addEventListener(\"playing\", updateStore);\n    ref.current?.addEventListener(\"pause\", updateStore);\n    ref.current?.addEventListener(\"timeupdate\", updateStore);\n    updateStore();\n    return () => {\n      video?.removeEventListener(\"click\", onClick);\n      video?.removeEventListener(\"play\", updateStore);\n      video?.removeEventListener(\"pause\", updateStore);\n      video?.removeEventListener(\"timeupdate\", updateStore);\n      store.setState({ chapter: undefined });\n    };\n  }, [\n    getIsPlaying,\n    pause,\n    play,\n    getProgress,\n    rewind,\n    setProgress,\n    seekTimeDelta,\n    ref,\n    onClick,\n  ]);\n}\n","import { Box, Grid, Heading, ResponsiveContext, Text } from \"grommet\";\nimport React, { PropsWithChildren, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport {\n  CameraIndicator,\n  ChapterCameraIndicator,\n} from \"../../components/CameraIndicator\";\nimport { FullWidthStack } from \"../../components/FullWidthStack\";\nimport { Timeline } from \"../../components/Timeline\";\nimport { colorTheme } from \"../../theme\";\nimport { ChapterX } from \"./ChapterX\";\nimport { useIsActive } from \"./useIsActive\";\n\nexport const Chapter = () => {\n  return (\n    <Box fill background=\"black\">\n      <ChapterContainer>\n        <ChapterContent />\n      </ChapterContainer>\n    </Box>\n  );\n};\n\nconst ChapterContainer = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  if (size === \"small\" || size === \"medium\") {\n    return (\n      <ChapterContainerSmallMedium>{children}</ChapterContainerSmallMedium>\n    );\n  } else {\n    return (\n      <ChapterContainerLargeXLarge>{children}</ChapterContainerLargeXLarge>\n    );\n  }\n};\n\nconst AspectRatioBox = styled(Box)`\n  & {\n  }\n  &::before {\n    content: \"\";\n    float: left;\n    height: 0;\n    padding-top: calc(10 / 14 * 100%);\n  }\n  &::after {\n    /* to clear float */\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n`;\n\nconst ChapterContainerSmallMedium = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <>\n      <CameraIndicator showBorder={false} backgroundColor=\"black\" />\n      <Box className=\"cover container\" margin=\"16px\">\n        <Grid\n          responsive={false}\n          areas={[\n            { name: \"cover\", start: [0, 0], end: [0, 0] },\n            {\n              name: \"timeline\",\n              start: [0, 1],\n              end: [0, 1],\n            },\n          ]}\n          fill\n          columns={[\"full\"]}\n          rows={[\"flex\", \"auto\"]}\n          gap=\"15px\"\n        >\n          <Box gridArea=\"cover\">\n            <ChapterFrame textColor={colorTheme.black} heading=\"Discriminator\">\n              <AspectRatioBox responsive={false} flex={false}>\n                <Box\n                  style={{\n                    position: \"absolute\",\n                    width: \"100%\",\n                    height: \"100%\",\n                  }}\n                  justify=\"center\"\n                >\n                  {children}\n                </Box>\n              </AspectRatioBox>\n            </ChapterFrame>\n          </Box>\n          <Timeline gridArea=\"timeline\" />\n        </Grid>\n      </Box>\n    </>\n  );\n};\n\nconst ChapterContainerLargeXLarge = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <Box className=\"cover container\" margin=\"16px\">\n      <ChapterFrame textColor={colorTheme.black} heading=\"Discriminator\">\n        <Grid\n          responsive={false}\n          areas={[\n            { name: \"cover\", start: [0, 0], end: [0, 0] },\n            {\n              name: \"timeline\",\n              start: [0, 1],\n              end: [0, 1],\n            },\n          ]}\n          fill\n          columns={[\"full\"]}\n          rows={[\"flex\", \"auto\"]}\n          gap=\"12px\"\n        >\n          <Box gridArea=\"cover\" fill>\n            {children}\n          </Box>\n          <Timeline gridArea=\"timeline\" />\n        </Grid>\n      </ChapterFrame>\n    </Box>\n  );\n};\n\nconst ChapterContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"4px\" : \"0px\";\n  const marginHorizontal = isSmall ? \"4px\" : \"0px\";\n  const marginBottom = size === \"large\" || size === \"xlarge\" ? \"0px\" : \"4px\";\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{\n        horizontal: marginHorizontal,\n        top: marginTop,\n        bottom: marginBottom,\n      }}\n      className=\"cover content\"\n    >\n      <ChapterX />\n    </Box>\n  );\n};\n\nconst FadingOutline = styled(Box)<{ outlineColor: string }>`\n  outline-color: ${(props) => props.outlineColor};\n  outline-offset: -4px;\n  outline-style: solid;\n  outline-width: 4px;\n\n  transition: outline-color 0.4s;\n`;\n\nconst ChapterFrameStack = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nconst StackLayerGuiding = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nconst StackLayerNotGuiding = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  pointer-events: none;\n`;\n\nconst WebcamNotification = () => {\n  return (\n    <Box\n      flex={false}\n      style={{\n        position: \"absolute\",\n        minHeight: \"100%\",\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 1,\n      }}\n      background={\"black\"}\n      pad=\"10px\"\n      border={{ color: \"red\", size: \"3px\" }}\n    >\n      <Text size=\"xsmall\" color=\"offWhite\">\n        To make this sequence interactive, turn on your webcam\n      </Text>\n    </Box>\n  );\n};\n\nconst ChapterFrame = ({\n  children,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  textColor: string;\n  heading: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n\n  const isActive = useIsActive();\n\n  return (\n    <ChapterFrameStack>\n      <StackLayerGuiding>\n        <FullWidthStack fill anchor=\"top-fill\">\n          <Box fill>{children}</Box>\n          <ChapterHeadingBlock\n            frameColor={colorTheme.yellow}\n            isActive={isActive}\n          >\n            <Heading\n              level={2}\n              color={textColor}\n              margin=\"0\"\n              size={isSmall ? \"small\" : \"medium\"}\n            >\n              {heading}\n            </Heading>\n          </ChapterHeadingBlock>\n        </FullWidthStack>\n      </StackLayerGuiding>\n      <StackLayerNotGuiding>\n        <FadingOutline\n          fill\n          outlineColor={isActive ? colorTheme.yellow : colorTheme.yellowOpaque}\n          className=\"cover-frame\"\n        />\n      </StackLayerNotGuiding>\n    </ChapterFrameStack>\n  );\n};\n\nconst OpacityFade = styled(Box)<{ isShown: boolean }>`\n  opacity: ${(props) => (props.isShown ? 1 : 0)};\n  transition: all 0.4s;\n`;\n\nconst ChapterHeadingBlock = ({\n  frameColor,\n  children,\n  isActive,\n}: PropsWithChildren<{\n  isActive: boolean;\n  frameColor: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  const isSmallOrMedium = isSmall || size === \"medium\";\n\n  return (\n    <Box\n      className=\"heading-block\"\n      direction=\"row\"\n      flex={false}\n      justify=\"between\"\n      align=\"start\"\n    >\n      <Box>\n        {isSmallOrMedium && <WebcamNotification />}\n\n        <OpacityFade\n          pad={{ horizontal: \"20px\", vertical: \"12px\" }}\n          background={frameColor}\n          isShown={isActive}\n        >\n          {children}\n        </OpacityFade>\n      </Box>\n      {!isSmallOrMedium && (\n        <Box justify=\"end\">\n          <ChapterCameraIndicator />\n        </Box>\n      )}\n    </Box>\n  );\n};\n","import { useEffect, useRef } from \"react\";\n\nexport const Cover1 = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const contextRef = useRef<CanvasRenderingContext2D>();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const maybeContext = canvas.getContext(\"2d\");\n    if (!maybeContext) return;\n    contextRef.current = maybeContext;\n  }, []);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const paint = (pointerX: number, pointerY: number) => {\n      const context = contextRef.current;\n      if (!context) return;\n\n      requestAnimationFrame(() => {\n        for (let x = pointerX - 10; x < pointerX + 10; x++) {\n          for (let y = pointerY - 10; y < pointerY + 10; y++) {\n            context.fillStyle = `hsl(${\n              (x * Math.sin(Date.now() / 10000)) % 255\n            }, 100%, 50%)`;\n            context.beginPath();\n\n            context.ellipse(x, y, 10, 10, 0, 0, 2 * Math.PI);\n            context.fill();\n          }\n        }\n      });\n    };\n    const onMouseMove = (event: MouseEvent): void => {\n      if (!canvasRef.current) return;\n      const { relativeX, relativeY } = getRelativeClickPosition(\n        event,\n        canvasRef.current\n      );\n\n      const x = relativeX * canvasRef.current?.width;\n      const y = relativeY * canvasRef.current?.height;\n      if (x !== undefined && y !== undefined) {\n        paint(x, y);\n      }\n    };\n    window.addEventListener(\"mousemove\", onMouseMove);\n\n    const onTouchMove = (event: TouchEvent): void => {\n      if (!canvasRef.current) return;\n      const { relativeX, relativeY } = getRelativeTouchPosition(\n        event,\n        canvasRef.current\n      );\n\n      const x = relativeX * canvasRef.current.width;\n      const y = relativeY * canvasRef.current.height;\n      if (x !== undefined && y !== undefined) {\n        paint(x, y);\n      }\n    };\n    window.addEventListener(\"touchmove\", onTouchMove);\n\n    const onWindowResize = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    window.addEventListener(\"resize\", onWindowResize);\n\n    return () => {\n      window.removeEventListener(\"touchmove\", onTouchMove);\n      window.removeEventListener(\"mousemove\", onMouseMove);\n      window.removeEventListener(\"resize\", onWindowResize);\n    };\n  }, []);\n\n  return (\n    <canvas\n      style={{ width: \"100%\", height: \"100%\" }}\n      width={window.innerWidth}\n      height={window.innerHeight}\n      ref={canvasRef}\n    ></canvas>\n  );\n};\n\nfunction getRelativeTouchPosition(\n  event: TouchEvent,\n  target: HTMLCanvasElement\n): { relativeX: number; relativeY: number } {\n  const screenX = event.changedTouches[0].clientX;\n  const screenY = event.changedTouches[0].clientY;\n  const rect = target.getBoundingClientRect();\n\n  const clip = (value: number, min: number, max: number) =>\n    Math.min(max, Math.max(value, min));\n\n  const clippedX = clip(screenX - rect.left, 0, rect.width - 1);\n  const clippedY = clip(screenY - rect.top, 0, rect.height - 1);\n\n  const relativeX = clippedX / rect.width;\n  const relativeY = clippedY / rect.height;\n  return { relativeX: relativeX, relativeY: relativeY };\n}\n\nfunction getRelativeClickPosition(\n  event: MouseEvent,\n  target: HTMLCanvasElement\n): { relativeX: number; relativeY: number } {\n  const screenX = event.clientX;\n  const screenY = event.clientY;\n  const rect = target.getBoundingClientRect();\n\n  const clip = (value: number, min: number, max: number) =>\n    Math.min(max, Math.max(value, min));\n\n  const clippedX = clip(screenX - rect.left, 0, rect.width - 1);\n  const clippedY = clip(screenY - rect.top, 0, rect.height - 1);\n\n  const relativeX = clippedX / rect.width;\n  const relativeY = clippedY / rect.height;\n  return { relativeX: relativeX, relativeY: relativeY };\n}\n","import { Box, Grid, Heading, ResponsiveContext, Text } from \"grommet\";\nimport React, { PropsWithChildren, useContext } from \"react\";\nimport {\n  CameraIndicator,\n  ChapterCameraIndicator,\n} from \"../../components/CameraIndicator\";\nimport { FullWidthStack } from \"../../components/FullWidthStack\";\nimport { Timeline } from \"../../components/Timeline\";\nimport { colorTheme } from \"../../theme\";\nimport { Cover1 } from \"./Cover1\";\n\nexport const Cover = () => {\n  return (\n    <Box fill background=\"black\">\n      <CoverContainer>\n        <CoverContent />\n      </CoverContainer>\n    </Box>\n  );\n};\n\nconst CoverContainer = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  if (size === \"small\" || size === \"medium\") {\n    return <CoverContainerSmallMedium>{children}</CoverContainerSmallMedium>;\n  } else {\n    return <CoverContainerLargeXLarge>{children}</CoverContainerLargeXLarge>;\n  }\n};\n\nconst CoverContainerSmallMedium = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <>\n      <CameraIndicator showBorder={false} backgroundColor=\"black\" />\n      <Box className=\"cover container\" margin=\"16px\">\n        <Grid\n          responsive={false}\n          areas={[\n            { name: \"cover\", start: [0, 0], end: [0, 0] },\n            {\n              name: \"timeline\",\n              start: [0, 1],\n              end: [0, 1],\n            },\n          ]}\n          fill\n          columns={[\"full\"]}\n          rows={[\"flex\", \"auto\"]}\n          gap=\"15px\"\n        >\n          <Box gridArea=\"cover\">\n            <CoverFrame\n              textColor={colorTheme.black}\n              frameColor={colorTheme.yellow}\n              heading=\"Discriminator\"\n            >\n              {children}\n            </CoverFrame>\n          </Box>\n          <Timeline gridArea=\"timeline\" showScrubber={false} />\n        </Grid>\n      </Box>\n    </>\n  );\n};\n\nconst CoverContainerLargeXLarge = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <Box className=\"cover container\" margin=\"16px\">\n      <CoverFrame\n        textColor={colorTheme.black}\n        frameColor={colorTheme.yellow}\n        heading=\"Discriminator\"\n      >\n        <Grid\n          responsive={false}\n          areas={[\n            { name: \"cover\", start: [0, 0], end: [0, 0] },\n            {\n              name: \"timeline\",\n              start: [0, 1],\n              end: [0, 1],\n            },\n          ]}\n          fill\n          columns={[\"full\"]}\n          rows={[\"flex\", \"auto\"]}\n        >\n          <Box gridArea=\"cover\">{children}</Box>\n          <Timeline gridArea=\"timeline\" showScrubber={false} />\n        </Grid>\n      </CoverFrame>\n    </Box>\n  );\n};\n\nconst CoverContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"4px\" : \"4px\";\n  const marginHorizontal = isSmall ? \"4px\" : \"4px\";\n  const marginBottom = size === \"large\" || size === \"xlarge\" ? \"0\" : \"4px\";\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{\n        horizontal: marginHorizontal,\n        top: marginTop,\n        bottom: marginBottom,\n      }}\n      className=\"cover content\"\n    >\n      <Cover1 />\n    </Box>\n  );\n};\n\nconst WebcamNotification = () => {\n  return (\n    <Box\n      flex={false}\n      style={{\n        position: \"absolute\",\n        minHeight: \"100%\",\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 1,\n      }}\n      background={\"black\"}\n      pad=\"10px\"\n      border={{ color: \"red\", size: \"3px\" }}\n    >\n      <Text size=\"xsmall\" color=\"offWhite\">\n        To make this sequence interactive, turn on your webcam\n      </Text>\n    </Box>\n  );\n};\n\nconst CoverFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style = {\n    outlineOffset: `-4px`,\n    outline: `4px ${frameColor} solid`,\n  };\n\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  const isSmallOrMedium = isSmall || size === \"medium\";\n  return (\n    <Box className=\"cover-frame\" style={style}>\n      <FullWidthStack fill anchor=\"top-fill\">\n        <Box fill>{children}</Box>\n        <CoverHeadingBlock frameColor={frameColor}>\n          {isSmallOrMedium && <WebcamNotification />}\n\n          <Heading\n            level={2}\n            color={textColor}\n            margin=\"0\"\n            size={isSmall ? \"small\" : \"medium\"}\n          >\n            {heading}\n          </Heading>\n        </CoverHeadingBlock>\n      </FullWidthStack>\n    </Box>\n  );\n};\n\nconst CoverHeadingBlock = ({\n  frameColor,\n  children,\n}: PropsWithChildren<{\n  frameColor: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  const isSmallOrMedium = isSmall || size === \"medium\";\n\n  return (\n    <Box\n      className=\"heading-block\"\n      direction=\"row\"\n      flex={false}\n      justify=\"between\"\n      align=\"start\"\n      style={{ userSelect: \"none\", pointerEvents: \"none\" }}\n    >\n      <Box\n        background={frameColor}\n        pad={{ horizontal: \"20px\", vertical: \"12px\" }}\n      >\n        {children}\n      </Box>\n      {!isSmallOrMedium && (\n        <Box justify=\"end\">\n          <ChapterCameraIndicator />\n        </Box>\n      )}\n    </Box>\n  );\n};\n","import { Box, Heading,Paragraph } from \"grommet\";\nimport React from \"react\";\n\nexport const EndPage = () => {\n  return (\n    <Box>\n      <Heading>End Page</Heading>\n      <Paragraph fill>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\n        pretium finibus leo nec commodo. Vestibulum vestibulum eget lectus sit\n        amet rhoncus. Phasellus pretium nulla eget pellentesque fringilla. Nunc\n        turpis dolor, viverra a lectus nec, pellentesque commodo sapien. Proin\n        iaculis, arcu vitae aliquam eleifend, dolor tellus blandit urna, sit\n        amet luctus arcu nulla id elit. Nam nec lobortis orci. Duis nisi sapien,\n        dictum a tincidunt ut, luctus rhoncus lacus. Curabitur a lacus ante.\n        Praesent venenatis a arcu vel suscipit. Interdum et malesuada fames ac\n        ante ipsum primis in faucibus. Nullam nec felis et lectus faucibus\n        venenatis. Fusce quis bibendum nisi, sed condimentum turpis. Maecenas ut\n        congue lacus. Sed enim velit, finibus vel enim eget, lacinia consequat\n        neque. Suspendisse volutpat risus nibh, non scelerisque libero facilisis\n        sed.\n      </Paragraph>\n      <Paragraph fill>\n        Cras nibh sapien, consequat sed varius vitae, sagittis sed felis.\n        Pellentesque tincidunt justo lorem, sollicitudin varius quam malesuada\n        at. Duis eget sagittis ex, placerat aliquam nisi. Integer condimentum\n        eleifend leo, in sodales lectus sagittis consectetur. Etiam euismod, est\n        fringilla eleifend accumsan, enim ex auctor odio, et bibendum metus\n        tellus sed metus. Nulla ornare massa justo, ac feugiat velit efficitur\n        in. Sed consequat ultrices massa non iaculis. Aenean luctus, nulla eu\n        convallis porta, risus nunc fringilla nisl, vel sodales neque urna vitae\n        elit. Praesent dignissim aliquam suscipit. Fusce eu turpis nec magna\n        maximus dictum. Donec dapibus at magna sed suscipit. Aliquam malesuada,\n        lorem eget ultricies pellentesque, sapien sem ullamcorper ligula, non\n        ornare velit nulla ut eros.\n      </Paragraph>\n      <Paragraph fill>\n        Nulla in eros tincidunt, bibendum leo eu, lobortis justo. Donec et\n        tristique arcu. Duis nec semper turpis. In at lacinia nulla, et\n        imperdiet lectus. Donec sodales aliquet fringilla. Ut et mauris eros.\n        Fusce eget lacinia enim. Fusce posuere nec lacus at ullamcorper. Cras\n        imperdiet maximus consectetur.\n      </Paragraph>\n      <Paragraph fill>\n        Suspendisse in sapien varius, accumsan arcu sit amet, egestas quam. Ut\n        dapibus velit odio, a ultricies urna interdum sed. Maecenas in dapibus\n        sem, at euismod purus. Quisque semper nulla efficitur, sagittis sapien\n        quis, tincidunt felis. Fusce vel augue sed mauris maximus consectetur.\n        Fusce pellentesque in sem a dapibus. Vivamus pretium cursus tellus quis\n        commodo. In ultricies nisi quis viverra condimentum. Etiam id finibus\n        lacus, in tempus nunc. Sed sed nisl sem. Suspendisse ullamcorper id odio\n        eu volutpat.\n      </Paragraph>\n      <Paragraph fill>\n        Donec placerat neque a rhoncus molestie. Nunc a faucibus orci. Praesent\n        elementum ligula ut nulla iaculis, nec luctus elit faucibus. Nam\n        aliquam, mauris non imperdiet fringilla, augue purus tristique sapien,\n        sed facilisis justo massa hendrerit lacus. Phasellus interdum tristique\n        lacinia. Pellentesque vestibulum tincidunt fringilla. Quisque convallis\n        arcu purus, eget euismod nulla maximus ut. Proin vel purus ut risus\n        varius dictum. In feugiat consequat nunc at hendrerit. Vivamus in\n        placerat leo. Morbi diam ante, porttitor non mollis eu, eleifend eu\n        diam. Integer non dui ipsum. Nullam dictum tempus leo vitae cursus. Nunc\n        consequat ornare sagittis. Vestibulum at vehicula diam, quis consectetur\n        justo. Proin sed feugiat orci.\n      </Paragraph>\n    </Box>\n  );\n};\n","import { Box, Heading,Paragraph } from \"grommet\";\nimport React from \"react\";\n\nexport const Error = () => {\n  return (\n    <Box>\n      <Heading>Error</Heading>\n      <Paragraph fill>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\n        pretium finibus leo nec commodo. Vestibulum vestibulum eget lectus sit\n        amet rhoncus. Phasellus pretium nulla eget pellentesque fringilla. Nunc\n        turpis dolor, viverra a lectus nec, pellentesque commodo sapien. Proin\n        iaculis, arcu vitae aliquam eleifend, dolor tellus blandit urna, sit\n        amet luctus arcu nulla id elit. Nam nec lobortis orci. Duis nisi sapien,\n        dictum a tincidunt ut, luctus rhoncus lacus. Curabitur a lacus ante.\n        Praesent venenatis a arcu vel suscipit. Interdum et malesuada fames ac\n        ante ipsum primis in faucibus. Nullam nec felis et lectus faucibus\n        venenatis. Fusce quis bibendum nisi, sed condimentum turpis. Maecenas ut\n        congue lacus. Sed enim velit, finibus vel enim eget, lacinia consequat\n        neque. Suspendisse volutpat risus nibh, non scelerisque libero facilisis\n        sed.\n      </Paragraph>\n      <Paragraph fill>\n        Cras nibh sapien, consequat sed varius vitae, sagittis sed felis.\n        Pellentesque tincidunt justo lorem, sollicitudin varius quam malesuada\n        at. Duis eget sagittis ex, placerat aliquam nisi. Integer condimentum\n        eleifend leo, in sodales lectus sagittis consectetur. Etiam euismod, est\n        fringilla eleifend accumsan, enim ex auctor odio, et bibendum metus\n        tellus sed metus. Nulla ornare massa justo, ac feugiat velit efficitur\n        in. Sed consequat ultrices massa non iaculis. Aenean luctus, nulla eu\n        convallis porta, risus nunc fringilla nisl, vel sodales neque urna vitae\n        elit. Praesent dignissim aliquam suscipit. Fusce eu turpis nec magna\n        maximus dictum. Donec dapibus at magna sed suscipit. Aliquam malesuada,\n        lorem eget ultricies pellentesque, sapien sem ullamcorper ligula, non\n        ornare velit nulla ut eros.\n      </Paragraph>\n      <Paragraph fill>\n        Nulla in eros tincidunt, bibendum leo eu, lobortis justo. Donec et\n        tristique arcu. Duis nec semper turpis. In at lacinia nulla, et\n        imperdiet lectus. Donec sodales aliquet fringilla. Ut et mauris eros.\n        Fusce eget lacinia enim. Fusce posuere nec lacus at ullamcorper. Cras\n        imperdiet maximus consectetur.\n      </Paragraph>\n      <Paragraph fill>\n        Suspendisse in sapien varius, accumsan arcu sit amet, egestas quam. Ut\n        dapibus velit odio, a ultricies urna interdum sed. Maecenas in dapibus\n        sem, at euismod purus. Quisque semper nulla efficitur, sagittis sapien\n        quis, tincidunt felis. Fusce vel augue sed mauris maximus consectetur.\n        Fusce pellentesque in sem a dapibus. Vivamus pretium cursus tellus quis\n        commodo. In ultricies nisi quis viverra condimentum. Etiam id finibus\n        lacus, in tempus nunc. Sed sed nisl sem. Suspendisse ullamcorper id odio\n        eu volutpat.\n      </Paragraph>\n      <Paragraph fill>\n        Donec placerat neque a rhoncus molestie. Nunc a faucibus orci. Praesent\n        elementum ligula ut nulla iaculis, nec luctus elit faucibus. Nam\n        aliquam, mauris non imperdiet fringilla, augue purus tristique sapien,\n        sed facilisis justo massa hendrerit lacus. Phasellus interdum tristique\n        lacinia. Pellentesque vestibulum tincidunt fringilla. Quisque convallis\n        arcu purus, eget euismod nulla maximus ut. Proin vel purus ut risus\n        varius dictum. In feugiat consequat nunc at hendrerit. Vivamus in\n        placerat leo. Morbi diam ante, porttitor non mollis eu, eleifend eu\n        diam. Integer non dui ipsum. Nullam dictum tempus leo vitae cursus. Nunc\n        consequat ornare sagittis. Vestibulum at vehicula diam, quis consectetur\n        justo. Proin sed feugiat orci.\n      </Paragraph>\n    </Box>\n  );\n};\n","import { Box, ResponsiveContext, Text } from \"grommet\";\nimport React, { ReactNode, useContext } from \"react\";\nimport { colorTheme } from \"../../theme\";\nimport { QueryButton, RoutedButton } from \"../../components/RoutedAnchor\";\nimport { Routes } from \"../../Routes\";\n\nexport const CustomRoutedButton = ({\n  color,\n  textContent,\n  href,\n}: {\n  color: keyof typeof colorTheme;\n  textContent: ReactNode;\n  href: Routes;\n}) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  return (\n    <Box className=\"custom button\" direction=\"row\">\n      <RoutedButton\n        plain\n        label={\n          <Box\n            border={{ color, style: \"solid\", size: \"3px\" }}\n            pad={{ horizontal: \"27px\", vertical: \"7px\" }}\n          >\n            <Text size={size === \"small\" ? \"small\" : \"medium\"} color={color}>\n              {textContent}\n            </Text>\n          </Box>\n        }\n        href={href}\n      />\n    </Box>\n  );\n};\n\nexport const CustomQueryButton = ({\n  color,\n  textContent,\n  query,\n}: {\n  color: keyof typeof colorTheme;\n  textContent: ReactNode;\n  query: {\n    key: \"modal\";\n    value: \"about\" | \"privacy\" | \"credits\";\n    operation: \"open\" | \"close\";\n  };\n}) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  return (\n    <QueryButton\n      query={query}\n      plain\n      label={\n        <Box className=\"custom button\" direction=\"row\">\n          <Box\n            border={{ color, style: \"solid\", size: \"3px\" }}\n            pad={{ horizontal: \"27px\", vertical: \"7px\" }}\n          >\n            <Text size={size === \"small\" ? \"small\" : \"medium\"} color={color}>\n              {textContent}\n            </Text>\n          </Box>\n        </Box>\n      }\n    />\n  );\n};\n","import { Box, Heading, ResponsiveContext } from \"grommet\";\nimport React, { PropsWithChildren, useContext } from \"react\";\n\nexport const PageFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style = {\n    outlineOffset: `-4px`,\n    outline: `4px ${frameColor} solid`,\n  };\n\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  return (\n    <Box className=\"frame\" style={style} flex={false}>\n      <Box className=\"heading-block\" direction=\"row\">\n        <Box\n          background={frameColor}\n          pad={{ horizontal: \"20px\", vertical: \"12px\" }}\n        >\n          <Heading\n            level={1}\n            color={textColor}\n            margin=\"0\"\n            size={isSmall ? \"small\" : \"medium\"}\n          >\n            {heading}\n          </Heading>\n        </Box>\n      </Box>\n\n      {children}\n    </Box>\n  );\n};\n","import { Box, Heading, ResponsiveContext } from \"grommet\";\nimport React, { CSSProperties, PropsWithChildren, useContext } from \"react\";\nimport { colorTheme } from \"../../theme\";\nimport { QueryButton } from \"./../../components/RoutedAnchor\";\n\nexport const Links = () => {\n  const size = useContext(ResponsiveContext);\n\n  switch (size) {\n    case \"small\":\n      return <LinksSmall />;\n    case \"medium\":\n      return <LinksFloating position=\"below\" />;\n    default:\n      return <LinksFloating position=\"bottom-right\" />;\n  }\n};\n\nfunction LinksSmall() {\n  return (\n    <Box className=\"links\" gap=\"24px\">\n      <QueryButton\n        query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n        plain\n        label={\n          <LinkFrame\n            textColor={colorTheme.white}\n            frameColor={colorTheme.blue}\n            heading=\"About\"\n          >\n            <Box height={\"32px\"}></Box>\n          </LinkFrame>\n        }\n      />\n      <QueryButton\n        query={{ key: \"modal\", value: \"privacy\", operation: \"open\" }}\n        plain\n        label={\n          <LinkFrame\n            textColor={colorTheme.white}\n            frameColor={colorTheme.red}\n            heading=\"Privacy\"\n          >\n            <Box height={\"32px\"}></Box>\n          </LinkFrame>\n        }\n      />\n      <QueryButton\n        query={{ key: \"modal\", value: \"credits\", operation: \"open\" }}\n        plain\n        label={\n          <LinkFrame\n            textColor={colorTheme.white}\n            frameColor={colorTheme.green}\n            heading=\"Credits\"\n          >\n            <Box height={\"32px\"}></Box>\n          </LinkFrame>\n        }\n      />\n    </Box>\n  );\n}\n\nconst LinksFloating = ({\n  position,\n}: {\n  position: \"below\" | \"bottom-right\";\n}) => {\n  const style: CSSProperties =\n    position === \"below\"\n      ? { position: \"relative\", left: \"-454px\", top: \"0px\" }\n      : { position: \"relative\", left: \"-282px\", top: \"-100px\" };\n  return (\n    <Box className=\"links\" direction=\"row\" justify=\"end\" style={style}>\n      <div style={{ position: \"relative\" }}>\n        <div\n          style={{\n            position: \"absolute\",\n            top: \"64px\",\n          }}\n        >\n          <QueryButton\n            query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n            plain\n            fill\n            label={\n              <LinkFrame\n                textColor={colorTheme.white}\n                frameColor={colorTheme.blue}\n                heading=\"About\"\n              >\n                <Box height={\"64px\"} width={\"128px\"}></Box>\n              </LinkFrame>\n            }\n          />\n        </div>\n        <div\n          style={{\n            position: \"absolute\",\n            left: \"204px\",\n          }}\n        >\n          <QueryButton\n            query={{ key: \"modal\", value: \"privacy\", operation: \"open\" }}\n            href=\"/privacy\"\n            plain\n            fill\n            label={\n              <LinkFrame\n                textColor={colorTheme.white}\n                frameColor={colorTheme.red}\n                heading=\"Privacy\"\n              >\n                <Box height={\"96px\"} width={\"142px\"}></Box>\n              </LinkFrame>\n            }\n          />\n        </div>\n        <div\n          style={{\n            position: \"absolute\",\n            left: \"314px\",\n            top: \"84px\",\n          }}\n        >\n          <QueryButton\n            query={{ key: \"modal\", value: \"credits\", operation: \"open\" }}\n            href=\"/credits\"\n            plain\n            fill\n            label={\n              <LinkFrame\n                textColor={colorTheme.white}\n                frameColor={colorTheme.green}\n                heading=\"Credits\"\n              >\n                <Box height={\"60px\"} width={\"140px\"}></Box>\n              </LinkFrame>\n            }\n          />\n        </div>\n      </div>\n    </Box>\n  );\n};\n\nconst LinkFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  return (\n    <Box\n      className=\"link frame\"\n      style={{\n        outlineOffset: `-3px`,\n        outline: `3px ${frameColor} solid`,\n      }}\n      margin={{ bottom: \"8px\" }}\n    >\n      <LinksHeading\n        textColor={textColor}\n        frameColor={frameColor}\n        heading={heading}\n      />\n      {children}\n    </Box>\n  );\n};\n\nconst LinksHeading = ({\n  frameColor,\n  textColor,\n  heading,\n}: {\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}) => {\n  return (\n    <Box className=\"link heading\" direction=\"row\">\n      <Box\n        background={frameColor}\n        pad={{ horizontal: \"16px\", vertical: \"8px\" }}\n      >\n        <Heading level={2} color={textColor} margin=\"0\" size=\"small\">\n          {heading}\n        </Heading>\n      </Box>\n    </Box>\n  );\n};\n","import { Box, BoxProps, ResponsiveContext, Text } from \"grommet\";\nimport React, { PropsWithChildren, useContext } from \"react\";\nimport { colorTheme } from \"../../theme\";\nimport { CustomRoutedButton } from \"./CustomButton\";\nimport { PageFrame } from \"../../components/Frames\";\nimport { Links } from \"./Links\";\n\nexport const Home = () => {\n  return (\n    <HomeContainer>\n      <HomeContent />\n    </HomeContainer>\n  );\n};\n\nconst HomeContainer = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = { margin: \"32px\", gap: \"48px\" };\n      break;\n    case \"medium\":\n      props = {\n        margin: { horizontal: \"64px\", top: \"96px\", bottom: \"64px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { left: \"64px\", top: \"96px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { left: \"112px\", top: \"112px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n  }\n\n  return (\n    <Box className=\"home container\" {...props}>\n      <PageFrame\n        textColor={colorTheme.yellow}\n        frameColor={colorTheme.black}\n        heading=\"Discriminator\"\n      >\n        {children}\n      </PageFrame>\n      <Links />\n    </Box>\n  );\n};\n\nconst HomeContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"56px\" : \"48px\";\n  const marginHorizontal = isSmall ? \"32px\" : \"64px\";\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{ horizontal: marginHorizontal, top: marginTop, bottom: \"64px\" }}\n    >\n      <Text size={size === \"small\" ? \"small\" : \"medium\"}>\n        Egestas enim cursus pretium leo, egestas blandit egestas nunc magna.\n        Lectus euismod mauris faucibus massa nibh condimentum vitae nunc quis.\n        Lacus vitae amet aliquam id leo. Interdum vulputate eu et aliquet elit\n        morbi bibendum. Tellus euismod metus, id feugiat amet.\n      </Text>\n\n      <CustomRoutedButton\n        color=\"blue\"\n        textContent=\"Start\"\n        href=\"/permissions\"\n      />\n    </Box>\n  );\n};\n","import { Box, Heading, Paragraph } from \"grommet\";\nimport React from \"react\";\n\nexport const HomeCoil = () => {\n  return (\n    <Box>\n      <Heading>Home for Coil Users</Heading>\n      <Paragraph fill>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\n        pretium finibus leo nec commodo. Vestibulum vestibulum eget lectus sit\n        amet rhoncus. Phasellus pretium nulla eget pellentesque fringilla. Nunc\n        turpis dolor, viverra a lectus nec, pellentesque commodo sapien. Proin\n        iaculis, arcu vitae aliquam eleifend, dolor tellus blandit urna, sit\n        amet luctus arcu nulla id elit. Nam nec lobortis orci. Duis nisi sapien,\n        dictum a tincidunt ut, luctus rhoncus lacus. Curabitur a lacus ante.\n        Praesent venenatis a arcu vel suscipit. Interdum et malesuada fames ac\n        ante ipsum primis in faucibus. Nullam nec felis et lectus faucibus\n        venenatis. Fusce quis bibendum nisi, sed condimentum turpis. Maecenas ut\n        congue lacus. Sed enim velit, finibus vel enim eget, lacinia consequat\n        neque. Suspendisse volutpat risus nibh, non scelerisque libero facilisis\n        sed.\n      </Paragraph>\n      <Paragraph fill>\n        Cras nibh sapien, consequat sed varius vitae, sagittis sed felis.\n        Pellentesque tincidunt justo lorem, sollicitudin varius quam malesuada\n        at. Duis eget sagittis ex, placerat aliquam nisi. Integer condimentum\n        eleifend leo, in sodales lectus sagittis consectetur. Etiam euismod, est\n        fringilla eleifend accumsan, enim ex auctor odio, et bibendum metus\n        tellus sed metus. Nulla ornare massa justo, ac feugiat velit efficitur\n        in. Sed consequat ultrices massa non iaculis. Aenean luctus, nulla eu\n        convallis porta, risus nunc fringilla nisl, vel sodales neque urna vitae\n        elit. Praesent dignissim aliquam suscipit. Fusce eu turpis nec magna\n        maximus dictum. Donec dapibus at magna sed suscipit. Aliquam malesuada,\n        lorem eget ultricies pellentesque, sapien sem ullamcorper ligula, non\n        ornare velit nulla ut eros.\n      </Paragraph>\n      <Paragraph fill>\n        Nulla in eros tincidunt, bibendum leo eu, lobortis justo. Donec et\n        tristique arcu. Duis nec semper turpis. In at lacinia nulla, et\n        imperdiet lectus. Donec sodales aliquet fringilla. Ut et mauris eros.\n        Fusce eget lacinia enim. Fusce posuere nec lacus at ullamcorper. Cras\n        imperdiet maximus consectetur.\n      </Paragraph>\n      <Paragraph fill>\n        Suspendisse in sapien varius, accumsan arcu sit amet, egestas quam. Ut\n        dapibus velit odio, a ultricies urna interdum sed. Maecenas in dapibus\n        sem, at euismod purus. Quisque semper nulla efficitur, sagittis sapien\n        quis, tincidunt felis. Fusce vel augue sed mauris maximus consectetur.\n        Fusce pellentesque in sem a dapibus. Vivamus pretium cursus tellus quis\n        commodo. In ultricies nisi quis viverra condimentum. Etiam id finibus\n        lacus, in tempus nunc. Sed sed nisl sem. Suspendisse ullamcorper id odio\n        eu volutpat.\n      </Paragraph>\n      <Paragraph fill>\n        Donec placerat neque a rhoncus molestie. Nunc a faucibus orci. Praesent\n        elementum ligula ut nulla iaculis, nec luctus elit faucibus. Nam\n        aliquam, mauris non imperdiet fringilla, augue purus tristique sapien,\n        sed facilisis justo massa hendrerit lacus. Phasellus interdum tristique\n        lacinia. Pellentesque vestibulum tincidunt fringilla. Quisque convallis\n        arcu purus, eget euismod nulla maximus ut. Proin vel purus ut risus\n        varius dictum. In feugiat consequat nunc at hendrerit. Vivamus in\n        placerat leo. Morbi diam ante, porttitor non mollis eu, eleifend eu\n        diam. Integer non dui ipsum. Nullam dictum tempus leo vitae cursus. Nunc\n        consequat ornare sagittis. Vestibulum at vehicula diam, quis consectetur\n        justo. Proin sed feugiat orci.\n      </Paragraph>\n    </Box>\n  );\n};\n","import { Box, BoxProps, ResponsiveContext, Text } from \"grommet\";\nimport React, { PropsWithChildren, useContext, useState } from \"react\";\nimport { colorTheme } from \"../../theme\";\nimport { CameraIndicator } from \"./../../components/CameraIndicator\";\nimport { CustomRoutedButton } from \"./CustomButton\";\nimport { PageFrame } from \"./../../components/Frames\";\nimport { Links } from \"./Links\";\n\nexport const Permission = () => {\n  const [showBorder, setShowBorder] = useState(false);\n  return (\n    <Box fill>\n      <CameraIndicator showBorder={showBorder} />\n      <Box\n        overflow=\"auto\"\n        onScroll={(event) =>\n          setShowBorder((event.target as HTMLElement).scrollTop !== 0)\n        }\n        height=\"100%\"\n      >\n        <PermissionContainer>\n          <PermissionContent />\n        </PermissionContainer>\n      </Box>\n    </Box>\n  );\n};\n\nconst PermissionContainer = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = {\n        margin: { horizontal: \"32px\", top: \"16px\", bottom: \"32px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"medium\":\n      props = {\n        margin: { horizontal: \"64px\", top: \"16px\", bottom: \"64px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { left: \"64px\", top: \"20px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { left: \"112px\", top: \"36px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n  }\n\n  return (\n    <Box className=\"permission container\" {...props}>\n      <PageFrame\n        textColor={colorTheme.yellow}\n        frameColor={colorTheme.black}\n        heading=\"Discriminator\"\n      >\n        {children}\n      </PageFrame>\n      <Links />\n    </Box>\n  );\n};\n\nconst PermissionContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"56px\" : \"48px\";\n  const marginHorizontal = isSmall ? \"32px\" : \"64px\";\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{ horizontal: marginHorizontal, top: marginTop, bottom: \"64px\" }}\n    >\n      <Text size={size === \"small\" ? \"small\" : \"medium\"}>\n        To get out the best out of this experience, we recommend to enable your\n        webcam. We do not store any of your information (see our privacy\n        policy). If you choose to not enable your webcam you will see xyz.\n      </Text>\n\n      <CustomRoutedButton\n        color={\"red\"}\n        textContent={\n          <span>\n            Continue{\" \"}\n            <span style={{ textDecoration: \"underline\" }}>without</span> webcam\n          </span>\n        }\n        href=\"/cover\"\n      />\n      <CustomRoutedButton\n        color={\"green\"}\n        textContent={\n          <span>\n            Continue <span style={{ textDecoration: \"underline\" }}>with</span>{\" \"}\n            webcam\n          </span>\n        }\n        href=\"/cover\"\n      />\n    </Box>\n  );\n};\n","import React, { ReactElement } from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport { PageContainer } from \"./components/PageContainer\";\nimport { Chapter } from \"./pages/chapters/Chapter\";\nimport { Cover } from \"./pages/covers/Cover\";\nimport { EndPage } from \"./pages/plain/EndPage\";\nimport { Error } from \"./pages/plain/Error\";\nimport { Home } from \"./pages/plain/Home\";\nimport { HomeCoil } from \"./pages/plain/HomeCoil\";\nimport { Permission } from \"./pages/plain/Permission\";\nimport { PlainPageRoutes } from \"./Routes\";\n\nconst routeToComponent: { url: PlainPageRoutes; component: ReactElement }[] = [\n  { url: \"/\", component: <Home /> },\n  { url: \"/cover\", component: <Cover /> },\n  { url: \"/chapter\", component: <Chapter /> },\n  { url: \"/home\", component: <Home /> },\n  { url: \"/permissions\", component: <Permission /> },\n  { url: \"/coil\", component: <HomeCoil /> },\n  { url: \"/end\", component: <EndPage /> },\n  { url: \"/error\", component: <Error /> },\n];\n\nfunction App() {\n  return (\n    <HashRouter basename={\"/\"}>\n      <PageContainer>\n        <Switch>\n          {routeToComponent.map(({ url, component }) => (\n            <Route exact path={url} key={url}>\n              {component}\n            </Route>\n          ))}\n          <Route>Missing Route</Route>\n        </Switch>\n      </PageContainer>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nimport * as WebFont from \"webfontloader\";\n\nWebFont.load({\n  custom: { families: [\"Roboto\"] },\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}