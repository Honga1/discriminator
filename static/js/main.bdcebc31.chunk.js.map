{"version":3,"sources":["components/InteractiveStack.tsx","hooks/useQuery.tsx","components/RoutedAnchor.tsx","store/store.ts","theme.ts","pages/modals/About.tsx","pages/modals/Credits.tsx","pages/modals/Privacy.tsx","pages/modals/ModalSelector.tsx","components/PageContainer.tsx","components/CameraIndicator.tsx","components/FullWidthStack.tsx","pages/chapters/useIsActive.tsx","components/Timeline.tsx","pages/plain/Links.tsx","720p.mp4","pages/chapters/ChapterX.tsx","pages/chapters/Chapter.tsx","components/NextButton.tsx","pages/covers/Cover1.tsx","pages/covers/Cover.tsx","pages/plain/EndPage.tsx","pages/plain/Error.tsx","pages/plain/CustomButton.tsx","components/Frames.tsx","pages/plain/Home.tsx","pages/plain/HomeCoil.tsx","pages/plain/Permission.tsx","App.tsx","index.tsx"],"names":["StyledStackLayer","styled","div","props","guiding","fillContainer","interactive","InteractiveStack","anchor","children","fill","guidingChild","rest","prunedChildren","Children","toArray","filter","c","guidingIndex","child","index","length","toChildIndex","styledChildren","map","buildStyledChildren","StyledStack","useQuery","location","useLocation","search","useMemo","URLSearchParams","RoutedButton","to","href","Button","as","QueryButton","query","history","useHistory","onClick","event","operation","delete","key","set","value","push","toString","initialState","webcamStream","undefined","nextVideoToPlay","chapter","store","create","get","setWithLog","partial","replace","console","log","table","setWebcamStream","setNextVideoToPlay","useStore","createStoreHook","colorTheme","black","white","offWhite","lightGrey","darkGrey","red","redLight","grayLight","charcoal","blue","blueLight","green","greenLight","yellow","yellowOpaque","yellowAlternative","customTheme","tip","content","background","color","global","colors","font","family","borderSize","medium","small","breakpoints","large","xlarge","heading","responsiveBreakpoint","level","size","height","weight","paragraph","maxWidth","text","xsmall","button","border","radius","width","padding","horizontal","vertical","layer","overlay","opacity","About","isSmall","useContext","ResponsiveContext","textSize","lineHeight","Text","style","Credits","Privacy","ModalSelector","close","useCallback","onClose","frameColor","textColor","Modal","backgroundColor","state","Layer","full","responsive","animate","position","onEsc","animation","Box","ModalContainer","margin","top","bottom","gap","Frame","ScrollableFrame","ScrollableFrameLarge","overflow","className","outlineOffset","outline","useState","showBorder","setShowBorder","ScrollableBox","CustomScrollbarBox","flex","onScroll","target","scrollTop","right","pad","ScrollingHeadingBlock","bottomBorderStyle","borderBottom","direction","justify","CloseButtonSmall","plain","label","viewBox","xmlns","x","y","transform","CloseButtonNotSmall","ModalContent","left","max","align","PageContainer","Grommet","theme","CameraIndicator","margins","AnimatePosition","isLeft","AnimateMargin","CameraIndicatorBox","borderColor","isOn","userSelect","ChapterCameraIndicator","FadeOutBox","isShown","WebcamNotification","setIsShown","useEffect","timeout","setTimeout","clearTimeout","zIndex","CameraIcon","CameraIconOn","fillRule","clipRule","d","cx","cy","r","CameraIconOff","x1","y1","x2","y2","stroke","strokeWidth","styleMap","center","FullWidthStack","interactiveChild","interactiveIndex","useIsActive","isActive","setIsActive","onActivity","window","addEventListener","removeEventListener","Timeline","showScrubber","getClickCoordinates","type","startsWith","isTouchEvent","changedTouches","clientX","clientY","ClickableBox","LeftInsetOutline","ChapterIndicator","chapterNumber","ref","useRef","thisIsTheCurrentChapter","current","nativeEvent","rect","getBoundingClientRect","relativeX","Math","min","getState","setProgress","pointerEvents","ChapterIndicators","Grid","columns","count","PlayPauseButton","Icon","intention","getIsPlaying","pause","play","icon","RewindButton","seekTimeDelta","clipPath","id","NextChapterButton","ChapterSelectDropdown","isOpen","setIsOpen","DropButton","onOpen","open","dropProps","dropContent","FadeColorText","ControlButtonRow","alignSelf","StoreScrubber","isDragging","setIsDragging","progress","oldState","newState","wasPlaying","onScrubberDragStart","onScrubberDragEnd","onScrubberDrag","onDrag","onDragStart","onDragEnd","Scrubber","buttonRef","containerRef","container","element","relativePosition","containerDimensions","dragInitial","dragCurrent","startPosition","setTransform","clippedX","onDragStartInner","preventDefault","onDragInner","onDragEndInner","passive","useDraggableElement","round","Links","LinksSmall","isOnDark","LinksFloating","OnHoverBox","LinkFrame","LinksHeading","Heading","ChapterX","rewind","currentTime","paused","ended","readyState","getProgress","duration","delta","clippedTarget","updateStore","setState","video","useChapter","boxSizing","src","videoSrc","Chapter","ChapterContainer","ChapterContainerSmallMedium","isSmallOrMedium","areas","name","start","end","rows","gridArea","ChapterContainerLargeXLarge","ChapterContent","FadingOutline","outlineColor","ChapterFrameStack","StackLayerGuiding","StackLayerNotGuiding","ChapterFrame","OpacityFade","ChapterHeadingBlock","AnimatedBackground","styledWidth","AnimateWidthAndHover","NextButton","Cover1","canvasRef","contextRef","canvas","maybeContext","getContext","paint","pointerX","pointerY","context","requestAnimationFrame","fillStyle","sin","Date","now","beginPath","ellipse","PI","onMouseMove","screenX","screenY","clip","clippedY","relativeY","getRelativeClickPosition","onTouchMove","getRelativeTouchPosition","onWindowResize","innerWidth","innerHeight","Cover","CoverContainer","CoverContent","marginBottom","minHeight","FrameBox","CoverFrame","CoverHeadingBlock","EndPage","Paragraph","Error","fillColor","CustomRoutedButton","textContent","PageFrame","PageFrameWithCameraIndicator","Home","HomeContainer","HomeContent","marginTop","marginHorizontal","HomeCoil","Permission","PermissionContainer","PermissionContent","DeclineText","textDecoration","AcceptText","routeToComponent","url","component","App","basename","includes","exact","path","WebFont","custom","families","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bdcebc31.chunk.js","sourcesContent":["import React, { Children, PropsWithChildren } from \"react\";\n\nimport { StyledStack } from \"grommet/components/Stack/StyledStack\";\nimport { StackProps } from \"grommet\";\nimport styled from \"styled-components\";\n\nconst StyledStackLayer = styled.div<{\n  guiding?: boolean;\n  fillContainer?: boolean | \"horizontal\" | \"vertical\";\n  interactive: boolean;\n}>`\n  position: ${(props) => (props.guiding ? \"relative\" : \"absolute\")};\n  ${(props) => props.guiding && \"display: block;\"}\n  ${(props) =>\n    !props.guiding &&\n    `\n  top: 0;\n  left: 0;\n  right: 0;\n`}\n  ${(props) =>\n    props.fillContainer &&\n    `\n    width: 100%;\n    height: 100%;\n  `}\n  ${(props) => !props.interactive && `pointer-events: none;`}\n`;\n\nconst buildStyledChildren = ({\n  anchor,\n  fill,\n  guidingIndex,\n}: {\n  anchor: StackProps[\"anchor\"];\n  fill: StackProps[\"fill\"];\n  guidingIndex: number;\n}) => (child: any, index: string | number | null | undefined) => {\n  const isGuidingIndex = index === guidingIndex;\n  const props = isGuidingIndex ? { guiding: true, fillContainer: fill } : {};\n\n  return (\n    <StyledStackLayer key={index} interactive={true} {...props}>\n      {child}\n    </StyledStackLayer>\n  );\n};\n\nexport const InteractiveStack = ({\n  anchor,\n  children,\n  fill,\n  guidingChild,\n  ...rest\n}: PropsWithChildren<Omit<StackProps, \"interactiveChild\">>) => {\n  const prunedChildren = Children.toArray(children).filter((c) => c);\n  const toChildIndex = (child: number | \"first\" | \"last\" | undefined) => {\n    let index = child;\n    if (index === \"first\" || !index) index = 0;\n    else if (index === \"last\") index = prunedChildren.length - 1;\n    return index;\n  };\n\n  const guidingIndex = toChildIndex(guidingChild);\n\n  const styledChildren = prunedChildren.map((child, index) => {\n    return buildStyledChildren({\n      anchor,\n      fill,\n      guidingIndex,\n    })(child, index);\n  });\n\n  return (\n    <StyledStack fillContainer={fill} {...rest}>\n      {styledChildren}\n    </StyledStack>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n  const location = useLocation().search;\n  return useMemo(() => new URLSearchParams(location), [location]);\n}\n","import { Anchor, AnchorProps, Button, ButtonProps } from \"grommet\";\nimport React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Routes } from \"../Routes\";\nimport { useQuery } from \"../hooks/useQuery\";\n\nexport const RoutedAnchor = (props: AnchorProps & { href: Routes }) => {\n  return (\n    <Link to={props.href}>\n      <Anchor {...props} as={\"div\"} />\n    </Link>\n  );\n};\n\nexport const RoutedButton = (\n  props: ButtonProps & { href: Routes } & Pick<\n      React.DetailedHTMLProps<\n        React.ButtonHTMLAttributes<HTMLButtonElement>,\n        HTMLButtonElement\n      >,\n      \"onClick\"\n    >\n) => {\n  return (\n    <Link to={props.href}>\n      <Button {...props} as={\"div\"} />\n    </Link>\n  );\n};\n\nexport const QueryButton = (\n  props: ButtonProps & {\n    query: {\n      key: \"modal\";\n      value: \"about\" | \"privacy\" | \"credits\";\n      operation: \"open\" | \"close\";\n    };\n  } & Pick<\n      React.DetailedHTMLProps<\n        React.ButtonHTMLAttributes<HTMLButtonElement>,\n        HTMLButtonElement\n      >,\n      \"onClick\"\n    >\n) => {\n  const query = useQuery();\n  const history = useHistory();\n\n  return (\n    <Button\n      {...props}\n      as={\"div\"}\n      onClick={(event) => {\n        props.onClick?.(event);\n        if (props.query.operation === \"close\") {\n          query.delete(props.query.key);\n        } else {\n          query.set(props.query.key, props.query.value);\n        }\n        history.push({\n          ...history.location,\n          search: query.toString(),\n        });\n      }}\n    />\n  );\n};\n","import createStoreHook from \"zustand\";\nimport create, { SetState } from \"zustand/vanilla\";\ntype State = {\n  webcamStream: MediaStream | undefined | \"DISCONNECTED\" | \"NOT_USED\";\n  nextVideoToPlay: HTMLVideoElement | undefined;\n  setWebcamStream(\n    webcamStream: MediaStream | \"DISCONNECTED\" | \"NOT_USED\" | undefined\n  ): void;\n  setNextVideoToPlay(nextVideoToPlay: HTMLVideoElement | undefined): void;\n  chapter:\n    | {\n        play: () => void;\n        pause: () => void;\n        rewind: () => void;\n        setProgress: (progress: number) => void;\n        getIsPlaying: () => boolean;\n        getProgress: () => number;\n        seekTimeDelta: (delta: number) => void;\n        chapterNumber: number;\n        intention: \"PLAY\" | \"PAUSE\";\n        progress: number;\n      }\n    | undefined;\n};\n\nconst initialState: NonFunctionProperties<State> = {\n  webcamStream: undefined,\n  nextVideoToPlay: undefined,\n  chapter: undefined,\n};\nexport const store = create<State>((set, get) => {\n  const setWithLog: SetState<State> = (partial, replace) => {\n    console.log(\"Changed state with partial:\");\n    console.table(partial);\n    set(partial, replace);\n  };\n  return {\n    ...initialState,\n    setWebcamStream(webcamStream: MediaStream | \"NOT_USED\") {\n      setWithLog({ webcamStream });\n    },\n    setNextVideoToPlay(nextVideoToPlay: HTMLVideoElement | undefined) {\n      setWithLog({ nextVideoToPlay });\n    },\n  };\n});\n\nexport const useStore = createStoreHook(store);\n\n// Type helpers\ntype CallbackFunctionVariadic = (...args: never[]) => void;\ntype NonFunctionPropertyNames<T> = {\n  [K in keyof T]: T[K] extends CallbackFunctionVariadic ? never : K;\n}[keyof T];\ntype NonFunctionProperties<T> = Pick<T, NonFunctionPropertyNames<T>>;\n","import { ThemeType } from \"grommet\";\n\nexport const colorTheme = {\n  black: \"#202122\",\n  white: \"#FFFFFF\",\n  offWhite: \"#F8F9FA\",\n  lightGrey: \"#A2A9B1\",\n  darkGrey: \"#202122\",\n  red: \"#E01010\",\n  redLight: \"#FF5959\",\n  grayLight: \"#A2A9B1\",\n  charcoal: \"#2C2A21\",\n  blue: \"#312DFF\",\n  blueLight: \"#757AFF\",\n  green: \"#168500\",\n  greenLight: \"#20BF00\",\n  yellow: \"#FFD519\",\n  yellowOpaque: \"rgba(255, 210, 55, 0)\",\n  yellowAlternative: \"#E8C100\",\n} as const;\n\nexport const customTheme: ThemeType = {\n  tip: {\n    content: {\n      background: {\n        color: \"white\",\n      },\n    },\n  },\n  global: {\n    colors: {\n      ...colorTheme,\n    },\n    font: {\n      family: \"Roboto, sans-serif\",\n    },\n    borderSize: {\n      medium: \"3px\",\n      small: \"1px\",\n    },\n\n    breakpoints: {\n      small: {\n        value: 767,\n      },\n      medium: {\n        value: 1199,\n      },\n      large: {\n        value: 1439,\n      },\n      xlarge: {},\n    },\n  },\n  heading: {\n    responsiveBreakpoint: undefined,\n    level: {\n      \"1\": {\n        small: {\n          size: \"32px\",\n          height: \"48px\",\n        },\n        medium: {\n          size: \"48px\",\n          height: \"56.25px\",\n        },\n      },\n      \"2\": {\n        small: {\n          size: \"24px\",\n          height: \"32px\",\n        },\n      },\n    },\n    weight: 400,\n  },\n  paragraph: {\n    small: {\n      size: \"24px\",\n      height: \"32px\",\n      maxWidth: undefined,\n    },\n    medium: {\n      size: \"32px\",\n      height: \"48px\",\n      maxWidth: undefined,\n    },\n  },\n  text: {\n    xsmall: {\n      size: \"18px\",\n      height: \"24px\",\n      maxWidth: undefined,\n    },\n    small: {\n      size: \"24px\",\n      height: \"32px\",\n      maxWidth: undefined,\n    },\n    medium: {\n      size: \"32px\",\n      height: \"48px\",\n      maxWidth: undefined,\n    },\n    \"2xl?\": {},\n    \"3xl?\": {},\n    \"4xl?\": {},\n    \"5xl?\": {},\n    \"6xl?\": {},\n  },\n  button: {\n    border: {\n      radius: \"0\",\n      width: \"3px\",\n    },\n    padding: {\n      horizontal: \"30px\",\n      vertical: \"10px\",\n    },\n    size: {\n      small: {\n        border: {\n          radius: \"0\",\n        },\n      },\n    },\n  },\n  layer: {\n    overlay: {\n      background: {\n        opacity: 0,\n      },\n    },\n  },\n};\n","import { ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext } from \"react\";\n\nexport const About = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const textSize = isSmall ? \"20px\" : \"24px\";\n  const lineHeight = isSmall ? \"30px\" : \"36px\";\n\n  return (\n    <>\n      <Text size={textSize} style={{ lineHeight: lineHeight }}>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euism\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n      </Text>\n    </>\n  );\n};\n","import { ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext } from \"react\";\n\nexport const Credits = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n\n  const textSize = isSmall ? \"20px\" : \"24px\";\n  const lineHeight = isSmall ? \"30px\" : \"36px\";\n  return (\n    <>\n      <Text size={textSize} style={{ lineHeight: lineHeight }}>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euism\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n      </Text>\n    </>\n  );\n};\n","import { ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext } from \"react\";\n\nexport const Privacy = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const textSize = isSmall ? \"20px\" : \"24px\";\n  const lineHeight = isSmall ? \"30px\" : \"36px\";\n  return (\n    <>\n      <Text size={textSize} style={{ lineHeight: lineHeight }}>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euism\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n        <br />\n        <br />\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Eget euismod\n        neque, sed justo, nibh pulvinar fringilla euismod scelerisque. Eu et\n        scelerisque maecenas magna dolor id arcu massa orci. Nunc commodo neque,\n        quis eu eget imperdiet purus duis. Venenatis, amet sapien sollicitudin\n        auctor sed gravida aliquet bibendum.\n      </Text>\n    </>\n  );\n};\n","import { Box, BoxProps, Layer, ResponsiveContext, Text } from \"grommet\";\nimport {\n  CSSProperties,\n  PropsWithChildren,\n  useCallback,\n  useContext,\n  useState,\n} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { InteractiveStack } from \"../../components/InteractiveStack\";\nimport { QueryButton } from \"../../components/RoutedAnchor\";\nimport { useQuery } from \"../../hooks/useQuery\";\nimport { useStore } from \"../../store/store\";\nimport { colorTheme } from \"../../theme\";\nimport { About } from \"./About\";\nimport { Credits } from \"./Credits\";\nimport { Privacy } from \"./Privacy\";\n\nexport const ModalSelector = () => {\n  const query = useQuery();\n  const history = useHistory();\n\n  const close = useCallback(() => {\n    query.delete(\"modal\");\n    history.push({\n      ...history.location,\n      search: query.toString(),\n    });\n  }, [history, query]);\n\n  switch (query.get(\"modal\")) {\n    case \"about\":\n      return (\n        <Modal\n          onClose={close}\n          frameColor={colorTheme.blue}\n          textColor={colorTheme.white}\n          heading=\"About\"\n        >\n          <About />\n        </Modal>\n      );\n    case \"privacy\":\n      return (\n        <Modal\n          onClose={close}\n          frameColor={colorTheme.red}\n          textColor={colorTheme.white}\n          heading=\"Privacy\"\n        >\n          <Privacy />\n        </Modal>\n      );\n    case \"credits\":\n      return (\n        <Modal\n          onClose={close}\n          frameColor={colorTheme.green}\n          textColor={colorTheme.white}\n          heading=\"Credits\"\n        >\n          <Credits />\n        </Modal>\n      );\n    default:\n      return null;\n  }\n};\n\nconst Modal = ({\n  onClose,\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  onClose: () => void;\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const backgroundColor = useStore((state) =>\n    state.chapter !== undefined ? \"black\" : \"yellowAlternative\"\n  );\n  return (\n    <>\n      <Layer\n        full\n        responsive={false}\n        animate\n        position={\"bottom\"}\n        onEsc={onClose}\n        animation={\"fadeIn\"}\n      >\n        <Box fill background={backgroundColor}></Box>\n      </Layer>\n      <Layer\n        full\n        responsive={false}\n        animate\n        position={\"bottom\"}\n        onEsc={onClose}\n        animation={\"slide\"}\n        style={{\n          backgroundColor: \"rgba(0,0,0,0)\",\n        }}\n      >\n        <ModalContainer\n          frameColor={frameColor}\n          textColor={textColor}\n          heading={heading}\n        >\n          <ModalContent>{children}</ModalContent>\n        </ModalContainer>\n      </Layer>\n    </>\n  );\n};\n\nconst ModalContainer = ({\n  children,\n  textColor,\n  frameColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = {\n        margin: { horizontal: \"16px\", top: \"16px\", bottom: \"-4px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"medium\":\n      props = {\n        margin: { horizontal: \"48px\", top: \"48px\", bottom: \"-4px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { horizontal: \"48px\", top: \"48px\", bottom: \"-4px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { horizontal: \"48px\", top: \"48px\", bottom: \"-4px\" },\n      };\n      break;\n  }\n\n  const Frame =\n    size === \"small\" || size === \"medium\"\n      ? ScrollableFrame\n      : ScrollableFrameLarge;\n  return (\n    <Box fill overflow=\"hidden\">\n      <Box className=\"modal container\" {...props} background=\"yellow\">\n        <Frame textColor={textColor} frameColor={frameColor} heading={heading}>\n          {children}\n        </Frame>\n      </Box>\n    </Box>\n  );\n};\n\nconst ScrollableFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style: CSSProperties = {\n    outlineOffset: `-3px`,\n    outline: `3px ${frameColor} solid`,\n  };\n\n  const [showBorder, setShowBorder] = useState(false);\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n  const textSize = isSmall ? \"24px\" : \"48px\";\n\n  const ScrollableBox = isSmall ? Box : CustomScrollbarBox;\n\n  return (\n    <Box className=\"scrollable-frame\" style={style} flex={false} fill>\n      <ScrollingHeadingBlock frameColor={frameColor} showBorder={showBorder}>\n        <Text size={textSize} color={textColor} style={{ lineHeight: \"100%\" }}>\n          {heading}\n        </Text>\n      </ScrollingHeadingBlock>\n\n      <Box fill>\n        <ScrollableBox\n          flex={false}\n          overflow={{ horizontal: \"hidden\", vertical: \"auto\" }}\n          onScroll={(event) =>\n            setShowBorder((event.target as HTMLElement).scrollTop !== 0)\n          }\n          height=\"100%\"\n          margin={{ right: isSmall ? \"0\" : \"12px\" }}\n        >\n          {children}\n        </ScrollableBox>\n      </Box>\n    </Box>\n  );\n};\n\nconst ScrollableFrameLarge = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style: CSSProperties = {\n    outlineOffset: `-3px`,\n    outline: `3px ${frameColor} solid`,\n  };\n\n  return (\n    <Box className=\"scrollable-frame\" style={style} flex={false} fill>\n      <InteractiveStack fill>\n        <Box fill>\n          <CustomScrollbarBox\n            flex={false}\n            overflow={{ horizontal: \"hidden\", vertical: \"auto\" }}\n            height=\"100%\"\n            pad={{ top: \"76px\" }}\n            margin={{ right: \"12px\", top: \"12px\" }}\n          >\n            {children}\n          </CustomScrollbarBox>\n        </Box>\n        <Box margin={{ right: \"32px\" }}>\n          <ScrollingHeadingBlock frameColor={frameColor} showBorder={false}>\n            <Text\n              size={\"48px\"}\n              color={textColor}\n              style={{ lineHeight: \"100%\" }}\n            >\n              {heading}\n            </Text>\n          </ScrollingHeadingBlock>\n        </Box>\n      </InteractiveStack>\n    </Box>\n  );\n};\n\nconst CustomScrollbarBox = styled(Box)`\n  &::-webkit-scrollbar {\n    width: 20px;\n  }\n\n  &::-webkit-scrollbar-track {\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ${colorTheme.yellowAlternative};\n    outline-offset: -2px;\n    outline: 2px solid ${colorTheme.black};\n  }\n`;\n\nconst ScrollingHeadingBlock = ({\n  frameColor,\n  children,\n  showBorder,\n}: PropsWithChildren<{\n  frameColor: string;\n  showBorder: boolean;\n}>) => {\n  const size = useContext(ResponsiveContext);\n\n  let bottomBorderStyle = {};\n  if (size === \"small\" || size === \"medium\") {\n    bottomBorderStyle = showBorder\n      ? { borderBottom: `3px solid ${colorTheme.yellowAlternative}` }\n      : { borderBottom: `3px solid ${colorTheme.yellow}` };\n  }\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n\n  return (\n    <Box\n      flex={false}\n      className=\"heading-block\"\n      direction=\"row\"\n      style={bottomBorderStyle}\n      justify={\"between\"}\n    >\n      <Box\n        background={frameColor}\n        pad={{ horizontal: isSmall ? \"16px\" : \"20px\", vertical: \"12px\" }}\n      >\n        {children}\n      </Box>\n      {isSmall ? <CloseButtonSmall /> : <CloseButtonNotSmall />}\n    </Box>\n  );\n};\n\nconst CloseButtonSmall = () => {\n  return (\n    <Box pad={{ right: \"11px\", top: \"10px\" }}>\n      <QueryButton\n        query={{ key: \"modal\", value: \"credits\", operation: \"close\" }}\n        href=\"/credits\"\n        plain\n        fill\n        label={\n          <svg\n            width=\"32\"\n            height=\"32\"\n            viewBox=\"0 0 32 32\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <rect\n              x=\"6.82837\"\n              y=\"4\"\n              width=\"29.1079\"\n              height=\"4\"\n              transform=\"rotate(45 6.82837 4)\"\n              fill=\"#202122\"\n            />\n            <rect\n              x=\"27.4109\"\n              y=\"6.82849\"\n              width=\"29.1079\"\n              height=\"4\"\n              transform=\"rotate(135 27.4109 6.82849)\"\n              fill=\"#202122\"\n            />\n          </svg>\n        }\n      />\n    </Box>\n  );\n};\n\nconst CloseButtonNotSmall = () => {\n  return (\n    <Box pad={{ right: \"6px\", top: \"4px\" }}>\n      <QueryButton\n        query={{ key: \"modal\", value: \"credits\", operation: \"close\" }}\n        href=\"/credits\"\n        plain\n        fill\n        label={\n          <svg\n            width=\"64\"\n            height=\"64\"\n            viewBox=\"0 0 64 64\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <rect\n              x=\"13.6567\"\n              y=\"8\"\n              width=\"58.2158\"\n              height=\"8\"\n              transform=\"rotate(45 13.6567 8)\"\n              fill=\"#202122\"\n            />\n            <rect\n              x=\"54.8218\"\n              y=\"13.6567\"\n              width=\"58.2158\"\n              height=\"8\"\n              transform=\"rotate(135 54.8218 13.6567)\"\n              fill=\"#202122\"\n            />\n          </svg>\n        }\n      />\n    </Box>\n  );\n};\n\nconst ModalContent = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = {\n        margin: { left: \"18px\", right: \"18px\", top: \"56px\" },\n        pad: { bottom: \"68px\" },\n      };\n      break;\n    case \"medium\":\n      props = {\n        margin: { left: \"60px\", right: \"28px\", top: \"48px\" },\n        width: { max: \"768px\" },\n        pad: { bottom: \"132px\" },\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { left: \"168px\", right: \"136px\", top: \"48px\" },\n        width: { max: \"768px\" },\n        pad: { bottom: \"132px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { left: \"288px\", right: \"256px\", top: \"48px\" },\n        width: { max: \"768px\" },\n        pad: { bottom: \"132px\" },\n      };\n      break;\n  }\n  return (\n    <Box align=\"center\">\n      <Box gap={\"40px\"} {...props} flex={false}>\n        {children}\n      </Box>\n    </Box>\n  );\n};\n","import { Grommet } from \"grommet\";\nimport React, { PropsWithChildren } from \"react\";\nimport { ModalSelector } from \"../pages/modals/ModalSelector\";\nimport { customTheme } from \"../theme\";\n\nexport const PageContainer = ({\n  children,\n  backgroundColor,\n}: PropsWithChildren<{ backgroundColor: \"yellow\" | \"black\" }>) => {\n  return (\n    <Grommet theme={customTheme} full background={backgroundColor}>\n      {children}\n      <ModalSelector />\n    </Grommet>\n  );\n};\n","import { Box, ResponsiveContext, Text } from \"grommet\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { colorTheme } from \"./../theme\";\n\nexport const CameraIndicator = ({\n  showBorder,\n  backgroundColor = \"yellow\",\n}: {\n  showBorder: boolean;\n  backgroundColor?: \"black\" | \"yellow\";\n}) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const margins =\n    size === \"small\" || size === \"medium\"\n      ? { right: \"16px\", top: \"16px\", bottom: \"12px\" }\n      : { right: \"13px\", top: \"12px\", bottom: \"12px\" };\n  const bottomBorderStyle = showBorder\n    ? { borderBottom: `3px solid ${colorTheme.yellowAlternative}` }\n    : {};\n  return (\n    <Box\n      fill=\"horizontal\"\n      background={backgroundColor}\n      flex={false}\n      style={bottomBorderStyle}\n    >\n      <Box direction=\"row\" justify=\"end\" margin={margins}>\n        <CameraIndicatorBox />\n      </Box>\n    </Box>\n  );\n};\n\nconst AnimatePosition = styled(Box)<{ isLeft: boolean }>`\n  position: absolute;\n  left: ${(props) => (props.isLeft ? \"0\" : \"100%\")};\n  right: ${(props) => (props.isLeft ? \"100%\" : \"0\")};\n  transform: translateX(${(props) => (!props.isLeft ? \"-100%\" : \"0%\")});\n  top: 0;\n  transition: all 0.2s;\n`;\n\nconst AnimateMargin = styled(Box)<{ isLeft: boolean }>`\n  margin-left: ${(props) => (props.isLeft ? \"0\" : \"48px\")};\n  margin-right: ${(props) => (props.isLeft ? \"48px\" : \"0\")};\n  transition: all 0.2s;\n`;\n\nexport const CameraIndicatorBox = ({\n  borderColor = \"yellow\",\n}: {\n  borderColor?: \"yellow\" | \"black\";\n}) => {\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n  const isOn = true;\n  const onText = isSmall ? \"on\" : \"Webcam on\";\n  const offText = isSmall ? \"off\" : \"Webcam off\";\n  const text = isOn ? onText : offText;\n  return (\n    <Box\n      direction=\"row\"\n      border={{ color: borderColor, size: \"3px\" }}\n      height=\"48px\"\n      style={{ position: \"relative\" }}\n      background=\"charcoal\"\n      className=\"CameraIndicatorBox\"\n    >\n      <AnimatePosition isLeft={!isOn} width=\"42px\">\n        <CameraIcon isOn={isOn} />\n      </AnimatePosition>\n      <Box pad={{ horizontal: \"20px\", vertical: \"8px\" }}>\n        <AnimateMargin isLeft={isOn}>\n          <Text size=\"xsmall\" color=\"grayLight\" style={{ userSelect: \"none\" }}>\n            {text}\n          </Text>\n        </AnimateMargin>\n      </Box>\n    </Box>\n  );\n};\n\nexport const ChapterCameraIndicator = () => {\n  return (\n    <Box fill=\"horizontal\" flex={false}>\n      <Box justify=\"end\" gap={\"16px\"}>\n        <CameraIndicatorBox />\n        <WebcamNotification />\n      </Box>\n    </Box>\n  );\n};\n\nconst FadeOutBox = styled(Box)<{ isShown: boolean }>`\n  opacity: ${(props) => (props.isShown ? \"1\" : \"0\")};\n  transition: opacity 0.6s;\n`;\n\nconst WebcamNotification = () => {\n  const [isShown, setIsShown] = useState(true);\n  useEffect(() => {\n    const timeout =\n      isShown &&\n      setTimeout(() => {\n        setIsShown(false);\n      }, 3000);\n    return () => {\n      timeout && clearTimeout(timeout);\n    };\n  }, [isShown]);\n\n  return (\n    <FadeOutBox\n      isShown={isShown}\n      flex={false}\n      style={{\n        position: \"absolute\",\n        top: \"calc(16px + 100%)\",\n        zIndex: 1,\n      }}\n      background={\"black\"}\n      pad=\"10px\"\n      border={{ color: \"red\", size: \"3px\" }}\n    >\n      <Text size=\"xsmall\" color=\"offWhite\">\n        To make this sequence interactive, turn on your webcam\n      </Text>\n    </FadeOutBox>\n  );\n};\n\nconst CameraIcon = ({ isOn = false }: { isOn?: boolean }) => {\n  if (isOn) {\n    return <CameraIconOn />;\n  } else {\n    return <CameraIconOff />;\n  }\n};\n\nconst CameraIconOn = () => {\n  return (\n    <svg\n      width=\"42\"\n      height=\"42\"\n      viewBox=\"0 0 42 42\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect width=\"42\" height=\"42\" fill=\"#20BF00\" />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11 12.7C9.89543 12.7 9 13.5954 9 14.7V29.9C9 31.0046 9.89543 31.9 11 31.9H31C32.1046 31.9 33 31.0046 33 29.9V14.7C33 13.5954 32.1046 12.7 31 12.7H11ZM21 28C24.3137 28 27 25.3137 27 22C27 18.6863 24.3137 16 21 16C17.6863 16 15 18.6863 15 22C15 25.3137 17.6863 28 21 28Z\"\n        fill=\"#202122\"\n      />\n      <path\n        d=\"M15 13C15 10.7909 16.7909 9 19 9H23C25.2091 9 27 10.7909 27 13H15Z\"\n        fill=\"#202122\"\n      />\n      <circle cx=\"21\" cy=\"22\" r=\"4\" fill=\"#202122\" />\n    </svg>\n  );\n};\n\nconst CameraIconOff = () => {\n  return (\n    <svg\n      width=\"42\"\n      height=\"42\"\n      viewBox=\"0 0 42 42\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect width=\"42\" height=\"42\" fill=\"#FF5959\" />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11 12.7C9.89543 12.7 9 13.5954 9 14.7V29.9C9 31.0045 9.89543 31.9 11 31.9H31C32.1046 31.9 33 31.0045 33 29.9V14.7C33 13.5954 32.1046 12.7 31 12.7H11ZM21 28C24.3137 28 27 25.3137 27 22C27 18.6862 24.3137 16 21 16C17.6863 16 15 18.6862 15 22C15 25.3137 17.6863 28 21 28Z\"\n        fill=\"#202122\"\n      />\n      <path\n        d=\"M15 13C15 10.7909 16.7909 9 19 9H23C25.2091 9 27 10.7909 27 13H15Z\"\n        fill=\"#202122\"\n      />\n      <circle cx=\"21\" cy=\"22\" r=\"4\" fill=\"#202122\" />\n      <line\n        x1=\"8.58579\"\n        y1=\"34.0416\"\n        x2=\"34.0416\"\n        y2=\"8.58575\"\n        stroke=\"#202122\"\n        strokeWidth=\"4\"\n      />\n    </svg>\n  );\n};\n","import React, {\n  Children,\n  PropsWithChildren,\n  ReactNode,\n  ReactText,\n} from \"react\";\n\nimport { StyledStack } from \"grommet/components/Stack/StyledStack\";\nimport { StackProps } from \"grommet\";\nimport styled from \"styled-components\";\n\nconst styleMap = {\n  fill: `\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n  `,\n  center: `\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  `,\n  left: `\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n  `,\n  right: `\n    top: 50%;\n    right: 0;\n    transform: translateY(-50%);\n  `,\n  top: `\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  `,\n  bottom: `\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  `,\n  \"top-fill\": `\n    top: 0;\n    left: 0;\n    width: 100%;\n  `,\n  \"top-left\": `\n    top: 0;\n    left: 0;\n  `,\n  \"bottom-left\": `\n    bottom: 0;\n    left: 0;\n  `,\n  \"top-right\": `\n    top: 0;\n    right: 0;\n  `,\n  \"bottom-right\": `\n    bottom: 0;\n    right: 0;\n  `,\n} as const;\n\nconst StyledStackLayer = styled.div<{\n  guiding?: boolean;\n  fillContainer?: boolean | \"horizontal\" | \"vertical\";\n  interactive: boolean;\n  anchor?: keyof typeof styleMap;\n}>`\n  position: ${(props) => (props.guiding ? \"relative\" : \"absolute\")};\n  ${(props) => props.guiding && \"display: block;\"}\n  ${(props) => !props.guiding && `${styleMap[props.anchor || \"fill\"]};`}\n  ${(props) =>\n    props.fillContainer &&\n    `\n    width: 100%;\n    height: 100%;\n  `}\n  ${(props) => !props.interactive && `pointer-events: none;`}\n`;\n\nconst buildStyledChildren = ({\n  anchor,\n  fill,\n  guidingIndex,\n  interactiveChild,\n  interactiveIndex,\n}: {\n  anchor: keyof typeof styleMap;\n  fill: StackProps[\"fill\"];\n  guidingIndex: ReactText;\n  interactiveChild: StackProps[\"interactiveChild\"];\n  interactiveIndex: string | number | undefined;\n}) => (child: ReactNode, index: number) => {\n  const interactive =\n    interactiveChild === undefined || interactiveIndex === index;\n  const isGuidingIndex = index === guidingIndex;\n  const props = isGuidingIndex\n    ? { guiding: true, fillContainer: fill }\n    : { anchor };\n\n  return (\n    <StyledStackLayer key={index} interactive={interactive} {...props}>\n      {child}\n    </StyledStackLayer>\n  );\n};\n\nexport const FullWidthStack = ({\n  anchor,\n  children,\n  fill,\n  guidingChild,\n  interactiveChild,\n  ...rest\n}: PropsWithChildren<\n  Omit<StackProps, \"anchor\"> & { anchor: keyof typeof styleMap }\n>) => {\n  const prunedChildren = Children.toArray(children).filter((c) => c);\n  const toChildIndex = (child: string | number | undefined) => {\n    let index = child;\n    if (index === \"first\" || !index) index = 0;\n    else if (index === \"last\") index = prunedChildren.length - 1;\n    return index;\n  };\n\n  const guidingIndex = toChildIndex(guidingChild);\n  const interactiveIndex = interactiveChild && toChildIndex(interactiveChild);\n\n  const styledChildren = prunedChildren.map(\n    buildStyledChildren({\n      anchor,\n      fill,\n      guidingIndex,\n      interactiveChild,\n      interactiveIndex,\n    })\n  );\n\n  return (\n    <StyledStack fillContainer={fill} {...rest}>\n      {styledChildren}\n    </StyledStack>\n  );\n};\n","import { Timeout } from \"grommet\";\nimport { useEffect, useState } from \"react\";\n\nexport function useIsActive() {\n  const [isActive, setIsActive] = useState(true);\n  useEffect(() => {\n    let timeout: Timeout | undefined;\n    const onActivity = () => {\n      setIsActive(true);\n      if (timeout) clearTimeout(timeout);\n\n      timeout = (setTimeout(() => {\n        setIsActive(false);\n      }, 4000) as unknown) as number;\n    };\n    window.addEventListener(\"mousemove\", onActivity);\n\n    return () => {\n      timeout && clearTimeout(timeout);\n      window.removeEventListener(\"mousemove\", onActivity);\n    };\n  }, []);\n\n  return isActive;\n}\n","import {\n  Box,\n  BoxProps,\n  Button,\n  DropButton,\n  Grid,\n  ResponsiveContext,\n  Text,\n} from \"grommet\";\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport { useIsActive } from \"../pages/chapters/useIsActive\";\nimport { store, useStore } from \"../store/store\";\nimport { colorTheme } from \"../theme\";\nimport { QueryButton } from \"./RoutedAnchor\";\nexport const Timeline = ({\n  showScrubber = true,\n  ...props\n}: BoxProps & { showScrubber?: boolean }) => {\n  return (\n    <Box gap=\"8px\" {...props}>\n      <ChapterIndicators />\n      <ControlButtonRow />\n    </Box>\n  );\n};\n\nfunction isTouchEvent(event: TouchEvent | MouseEvent): event is TouchEvent {\n  return event.type.startsWith(\"touch\");\n}\n\nfunction getClickCoordinates(\n  event: TouchEvent | MouseEvent\n): { x: number; y: number } {\n  if (isTouchEvent(event)) {\n    const x = event.changedTouches[0].clientX;\n    const y = event.changedTouches[0].clientY;\n    return { x, y };\n  } else {\n    const x = event.clientX;\n    const y = event.clientY;\n    return { x, y };\n  }\n}\n\nconst ClickableBox = styled(Box)`\n  & {\n    position: relative;\n  }\n  &:after {\n    content: \"\";\n    position: absolute;\n    top: -10px;\n    bottom: -10px;\n    left: -10px;\n    right: -10px;\n    z-index: -1;\n  }\n`;\n\nconst LeftInsetOutline = styled.div`\n  & {\n    position: relative;\n  }\n  &:before {\n    position: absolute;\n    content: \"\";\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-left: 2px solid ${colorTheme.yellow};\n  }\n`;\n\nconst ChapterIndicator = ({ chapter }: { chapter: number }) => {\n  const chapterNumber = useStore((state) => state.chapter?.chapterNumber);\n  const ref = useRef<HTMLDivElement>(null);\n  const onClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    const clickWasOnIndicator = event.target === ref.current;\n    if (!clickWasOnIndicator) return;\n    const thisIsTheCurrentChapter = chapterNumber === chapter;\n    if (!thisIsTheCurrentChapter) return;\n    const { x } = getClickCoordinates(event.nativeEvent);\n    const rect = (event.target as HTMLDivElement).getBoundingClientRect();\n    const relativeX = Math.min(Math.max((x - rect.x) / rect.width, 0), 1);\n\n    store.getState().chapter?.setProgress(relativeX);\n  };\n  const thisIsTheCurrentChapter = chapterNumber === chapter;\n  const isActive = useIsActive();\n  return (\n    <ClickableBox ref={ref as any} onClick={onClick}>\n      {thisIsTheCurrentChapter && <StoreScrubber />}\n      <Box\n        background={{ color: \"yellowAlternative\", opacity: 0.8 }}\n        height=\"8px\"\n        style={{ pointerEvents: \"none\" }}\n      >\n        {thisIsTheCurrentChapter && isActive && (\n          <LeftInsetOutline\n            style={{\n              position: \"absolute\",\n              left: 0,\n              bottom: 0,\n              height: \"102px\",\n            }}\n          >\n            <Box\n              background=\"black\"\n              pad=\"10px\"\n              border={{ color: \"yellow\", size: \"2px\" }}\n            >\n              <Text size=\"small\" color=\"offWhite\">\n                Chapter 1\n              </Text>\n            </Box>\n          </LeftInsetOutline>\n        )}\n      </Box>\n    </ClickableBox>\n  );\n};\n\nconst ChapterIndicators = () => {\n  return (\n    <Grid\n      fill\n      responsive={false}\n      columns={{ count: 4, size: \"auto\" }}\n      gap={\"4px\"}\n    >\n      <ChapterIndicator chapter={1} />\n      <ChapterIndicator chapter={2} />\n      <ChapterIndicator chapter={3} />\n      <ChapterIndicator chapter={4} />\n    </Grid>\n  );\n};\n\nconst PlayPauseButton = () => {\n  const offWhite = colorTheme.offWhite;\n  const Icon = useStore((state) =>\n    state.chapter?.intention === undefined ||\n    state.chapter?.intention === \"PAUSE\" ? (\n      <svg\n        width=\"32\"\n        height=\"32\"\n        viewBox=\"0 0 32 32\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path d=\"M8 6L26 16L8 26V6Z\" fill={offWhite} />\n      </svg>\n    ) : (\n      <svg\n        width=\"32\"\n        height=\"32\"\n        viewBox=\"0 0 32 32\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect x=\"7\" y=\"6\" width=\"6\" height=\"20\" fill={offWhite} />\n        <rect x=\"19\" y=\"6\" width=\"6\" height=\"20\" fill={offWhite} />\n      </svg>\n    )\n  );\n\n  return (\n    <Button\n      plain\n      onClick={() =>\n        store.getState().chapter?.getIsPlaying()\n          ? store.getState().chapter?.pause()\n          : store.getState().chapter?.play()\n      }\n      icon={Icon}\n      color=\"offWhite\"\n    ></Button>\n  );\n};\n\nconst RewindButton = () => {\n  const offWhite = colorTheme.offWhite;\n\n  return (\n    <Button\n      plain\n      onClick={() => store.getState().chapter?.seekTimeDelta(-10)}\n      icon={\n        <svg\n          width=\"32\"\n          height=\"32\"\n          viewBox=\"0 0 32 32\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <g clipPath=\"url(#clip0)\">\n            <path\n              d=\"M16 6C21.5228 6 26 10.4772 26 16C26 21.5228 21.5228 26 16 26C10.4772 26 6 21.5228 6 16C6 13.239 7.11898 10.7393 8.92817 8.92969\"\n              stroke={offWhite}\n              strokeWidth=\"3\"\n            />\n            <path\n              d=\"M10.006 5.32348L17.5519 1.86969L15.9737 11.0902L10.006 5.32348Z\"\n              fill={offWhite}\n            />\n            <path\n              d=\"M14.1289 19H13V14.6484L11.6523 15.0664V14.1484L14.0078 13.3047H14.1289V19ZM19.8086 16.6484C19.8086 17.4349 19.6458 18.0365 19.3203 18.4531C18.9948 18.8698 18.5182 19.0781 17.8906 19.0781C17.2708 19.0781 16.7969 18.8737 16.4688 18.4648C16.1406 18.056 15.9727 17.4701 15.9648 16.707V15.6602C15.9648 14.8659 16.1289 14.263 16.457 13.8516C16.7878 13.4401 17.263 13.2344 17.8828 13.2344C18.5026 13.2344 18.9766 13.4388 19.3047 13.8477C19.6328 14.2539 19.8008 14.8385 19.8086 15.6016V16.6484ZM18.6797 15.5C18.6797 15.0286 18.6146 14.6862 18.4844 14.4727C18.3568 14.2565 18.1562 14.1484 17.8828 14.1484C17.6172 14.1484 17.4206 14.2513 17.293 14.457C17.168 14.6602 17.1016 14.9792 17.0938 15.4141V16.7969C17.0938 17.2604 17.1562 17.6055 17.2812 17.832C17.4089 18.056 17.612 18.168 17.8906 18.168C18.1667 18.168 18.3659 18.0599 18.4883 17.8438C18.6107 17.6276 18.6745 17.2969 18.6797 16.8516V15.5Z\"\n              fill={offWhite}\n            />\n          </g>\n          <defs>\n            <clipPath id=\"clip0\">\n              <rect width=\"32\" height=\"32\" fill={offWhite} />\n            </clipPath>\n          </defs>\n        </svg>\n      }\n      color=\"offWhite\"\n    ></Button>\n  );\n};\n\nconst NextChapterButton = () => {\n  const offWhite = colorTheme.offWhite;\n\n  return (\n    <Button\n      plain\n      onClick={() => console.log(\"next chapter\")}\n      icon={\n        <svg\n          width=\"32\"\n          height=\"32\"\n          viewBox=\"0 0 32 32\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M4 6L20 16L4 26V6Z\" fill={offWhite} />\n          <rect\n            width=\"5\"\n            height=\"20\"\n            transform=\"matrix(-1 0 0 1 27 6)\"\n            fill={offWhite}\n          />\n        </svg>\n      }\n      color=\"offWhite\"\n    ></Button>\n  );\n};\n\nconst ChapterSelectDropdown = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const onOpen = () => {\n    setIsOpen(true);\n  };\n  const onClose = () => {\n    setIsOpen(false);\n  };\n\n  return (\n    <DropButton\n      plain\n      onOpen={onOpen}\n      onClose={onClose}\n      open={isOpen}\n      dropProps={{ align: { top: \"bottom\" } }}\n      label={\n        <Box direction=\"row\">\n          <Text color=\"offWhite\" size=\"24px\" style={{ lineHeight: \"36px\" }}>\n            1/4\n          </Text>\n          {!isOpen ? (\n            <svg\n              width=\"32\"\n              height=\"32\"\n              viewBox=\"0 0 32 32\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M6 19.9646L8.98938 22.954L16 15.9434L23.0106 22.954L26 19.9646L16.0354 10L16 10.0354L15.9646 10L6 19.9646Z\"\n                fill={colorTheme.offWhite}\n              />\n            </svg>\n          ) : (\n            <svg\n              width=\"32\"\n              height=\"32\"\n              viewBox=\"0 0 32 32\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M26 12.9894L23.0106 10L16 17.0106L8.98938 10L6 12.9894L15.9646 22.954L16 22.9186L16.0354 22.954L26 12.9894Z\"\n                fill=\"#F8F9FA\"\n              />\n            </svg>\n          )}\n        </Box>\n      }\n      dropContent={\n        <Box\n          background=\"black\"\n          pad=\"24px\"\n          border={{ color: \"offWhite\", size: \"3px\" }}\n          gap=\"24px\"\n        >\n          <QueryButton\n            query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n            plain\n            onClick={onClose}\n            label={\n              <Text color=\"offWhite\" size=\"24px\" style={{ lineHeight: \"36px\" }}>\n                Chapter 1\n              </Text>\n            }\n          />\n          <QueryButton\n            query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n            plain\n            onClick={onClose}\n            label={\n              <Text color=\"offWhite\" size=\"24px\" style={{ lineHeight: \"36px\" }}>\n                Chapter 2\n              </Text>\n            }\n          />\n          <QueryButton\n            query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n            plain\n            onClick={onClose}\n            label={\n              <Text color=\"offWhite\" size=\"24px\" style={{ lineHeight: \"36px\" }}>\n                Chapter 3\n              </Text>\n            }\n          />\n          <QueryButton\n            query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n            plain\n            onClick={onClose}\n            label={\n              <Text color=\"offWhite\" size=\"24px\" style={{ lineHeight: \"36px\" }}>\n                Chapter 4\n              </Text>\n            }\n          />\n        </Box>\n      }\n    />\n  );\n};\n\nconst FadeColorText = styled(Text)<{ textColor: string }>`\n  color: ${(props) => props.textColor};\n  transition: color 0.4s;\n`;\n\nconst ControlButtonRow = () => {\n  const isActive = useIsActive();\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n  return (\n    <Box\n      direction=\"row\"\n      justify=\"between\"\n      flex={false}\n      pad={{ horizontal: \"16px\", top: \"0px\", bottom: \"8px\" }}\n      align=\"center\"\n    >\n      <Box direction=\"row\" gap={\"20px\"} align=\"center\">\n        <PlayPauseButton />\n        <RewindButton />\n        <NextChapterButton />\n        <ChapterSelectDropdown />\n      </Box>\n      {!isSmall && (\n        <Box direction=\"row\" gap={\"20px\"} alignSelf=\"center\">\n          <QueryButton\n            plain\n            query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n            label={\n              <FadeColorText\n                size=\"small\"\n                textColor={\n                  isActive ? colorTheme[\"blueLight\"] : colorTheme.offWhite\n                }\n              >\n                About\n              </FadeColorText>\n            }\n          />\n          <QueryButton\n            plain\n            query={{\n              key: \"modal\",\n              value: \"privacy\",\n              operation: \"open\",\n            }}\n            label={\n              <FadeColorText\n                size=\"small\"\n                textColor={\n                  isActive ? colorTheme[\"redLight\"] : colorTheme.offWhite\n                }\n              >\n                Privacy\n              </FadeColorText>\n            }\n          />\n          <QueryButton\n            plain\n            query={{\n              key: \"modal\",\n              value: \"credits\",\n              operation: \"open\",\n            }}\n            label={\n              <FadeColorText\n                size=\"small\"\n                textColor={\n                  isActive ? colorTheme[\"greenLight\"] : colorTheme.offWhite\n                }\n              >\n                Credits\n              </FadeColorText>\n            }\n          />\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nconst StoreScrubber = () => {\n  const [isDragging, setIsDragging] = useState(false);\n  const progress = useStore(\n    (state) => state.chapter?.progress || 0,\n    (oldState, newState) => {\n      const isSame = oldState === newState;\n      if (isSame) return true;\n      return isDragging;\n    }\n  );\n\n  const wasPlaying = useRef(store.getState().chapter?.getIsPlaying() ?? false);\n\n  const onScrubberDragStart = useCallback(() => {\n    setIsDragging(true);\n    wasPlaying.current = store.getState().chapter?.getIsPlaying() ?? false;\n    store.getState().chapter?.pause();\n  }, []);\n\n  const onScrubberDragEnd = useCallback((progress: number): void => {\n    setIsDragging(false);\n    store.getState().chapter?.setProgress(progress);\n    if (wasPlaying.current) store.getState().chapter?.play();\n  }, []);\n\n  const onScrubberDrag = useCallback((progress: number): void => {\n    store.getState().chapter?.setProgress(progress);\n  }, []);\n\n  return (\n    <Scrubber\n      position={progress}\n      onDrag={onScrubberDrag}\n      onDragStart={onScrubberDragStart}\n      onDragEnd={onScrubberDragEnd}\n    />\n  );\n};\n\nconst Scrubber = ({\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  position = 0,\n}: {\n  position?: number;\n  onDragStart?: () => void;\n  onDrag?: (position: number) => void;\n  onDragEnd?: (position: number) => void;\n}) => {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useDraggableElement(\n    containerRef,\n    buttonRef,\n    position,\n    onDragStart,\n    onDrag,\n    onDragEnd\n  );\n\n  return (\n    <Box\n      fill=\"horizontal\"\n      ref={containerRef}\n      style={{ pointerEvents: \"none\", transform: \"translateY(-50%)\" }}\n    >\n      <Button\n        style={{ position: \"absolute\", pointerEvents: \"auto\" }}\n        ref={buttonRef}\n        plain\n        margin={{ top: \"-7px\", left: \"-13px\" }}\n      >\n        <Box\n          style={{ pointerEvents: \"none\" }}\n          round=\"100%\"\n          background=\"yellowAlternative\"\n          width=\"26px\"\n          height=\"26px\"\n        ></Box>\n      </Button>\n    </Box>\n  );\n};\n\nfunction useDraggableElement(\n  container: React.RefObject<HTMLDivElement>,\n  element: React.RefObject<HTMLElement>,\n  relativePosition: number,\n  onDragStart: (() => void) | undefined,\n  onDrag: ((relativePosition: number) => void) | undefined,\n  onDragEnd: ((relativePosition: number) => void) | undefined\n) {\n  useEffect(() => {\n    if (!container.current || !element.current) return;\n    const containerDimensions = container.current.getBoundingClientRect();\n\n    let dragInitial = 0;\n    let dragCurrent = 0;\n    let startPosition = 0 + relativePosition * containerDimensions.width;\n    let isDragging: boolean = false;\n\n    const setTransform = (clippedX: number) => {\n      if (!element.current) return;\n      element.current.style.transform = `translateX(${clippedX}px)`;\n    };\n\n    setTransform(startPosition);\n    const onDragStartInner = (event: TouchEvent | MouseEvent) => {\n      if (event.target !== element.current) {\n        isDragging = false;\n        return;\n      }\n\n      event.preventDefault();\n      const { x } = getClickCoordinates(event);\n      dragInitial = x - startPosition;\n      isDragging = true;\n      onDragStart?.();\n    };\n\n    const onDragInner = (event: TouchEvent | MouseEvent) => {\n      if (!isDragging) return;\n      if (!element.current) return;\n      event.preventDefault();\n\n      const { x } = getClickCoordinates(event);\n\n      dragCurrent = x - dragInitial;\n\n      const clippedX = Math.min(\n        Math.max(dragCurrent, 0),\n        containerDimensions.width\n      );\n      dragCurrent = clippedX;\n      const relativeX = clippedX / containerDimensions.width;\n\n      onDrag?.(relativeX);\n      setTransform(clippedX);\n    };\n\n    const onDragEndInner = (event: TouchEvent | MouseEvent) => {\n      if (!isDragging) return;\n      event.preventDefault();\n      startPosition = dragCurrent;\n      const clippedX = Math.min(\n        Math.max(dragCurrent, 0),\n        containerDimensions.width\n      );\n      const relativeX = clippedX / containerDimensions.width;\n\n      onDragEnd?.(relativeX);\n      isDragging = false;\n    };\n\n    window.addEventListener(\"mousemove\", onDragInner, false);\n    window.addEventListener(\"mousedown\", onDragStartInner, false);\n    window.addEventListener(\"mouseup\", onDragEndInner, false);\n\n    window.addEventListener(\"touchmove\", onDragInner, { passive: false });\n    window.addEventListener(\"touchstart\", onDragStartInner, { passive: false });\n    window.addEventListener(\"touchend\", onDragEndInner, { passive: false });\n\n    return () => {\n      window.removeEventListener(\"mousemove\", onDragInner);\n      window.removeEventListener(\"mousedown\", onDragStartInner);\n      window.removeEventListener(\"mouseup\", onDragEndInner);\n\n      window.removeEventListener(\"touchmove\", onDragInner);\n      window.removeEventListener(\"touchstart\", onDragStartInner);\n      window.removeEventListener(\"touchend\", onDragEndInner);\n    };\n  }, [element, onDragEnd, relativePosition, container, onDragStart, onDrag]);\n}\n","import { Box, Heading, ResponsiveContext } from \"grommet\";\nimport React, { CSSProperties, PropsWithChildren, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { colorTheme } from \"../../theme\";\nimport { QueryButton } from \"./../../components/RoutedAnchor\";\n\nexport const Links = () => {\n  const size = useContext(ResponsiveContext);\n\n  switch (size) {\n    case \"small\":\n      return <LinksSmall />;\n    case \"medium\":\n      return <LinksFloating position=\"below\" />;\n    default:\n      return <LinksFloating position=\"bottom-right\" />;\n  }\n};\n\nexport function LinksSmall({ isOnDark = false }: { isOnDark?: boolean }) {\n  const blue = !isOnDark ? colorTheme.blue : colorTheme.blueLight;\n  const red = !isOnDark ? colorTheme.red : colorTheme.redLight;\n  const green = !isOnDark ? colorTheme.green : colorTheme.greenLight;\n  const text = !isOnDark ? colorTheme.white : colorTheme.black;\n  return (\n    <Box className=\"links\" gap=\"24px\">\n      <QueryButton\n        query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n        plain\n        label={\n          <LinkFrame textColor={text} frameColor={blue} heading=\"About\">\n            <Box height={\"32px\"}></Box>\n          </LinkFrame>\n        }\n      />\n      <QueryButton\n        query={{ key: \"modal\", value: \"privacy\", operation: \"open\" }}\n        plain\n        label={\n          <LinkFrame textColor={text} frameColor={red} heading=\"Privacy\">\n            <Box height={\"32px\"}></Box>\n          </LinkFrame>\n        }\n      />\n      <QueryButton\n        query={{ key: \"modal\", value: \"credits\", operation: \"open\" }}\n        plain\n        label={\n          <LinkFrame textColor={text} frameColor={green} heading=\"Credits\">\n            <Box height={\"32px\"}></Box>\n          </LinkFrame>\n        }\n      />\n    </Box>\n  );\n}\n\nconst LinksFloating = ({\n  position,\n}: {\n  position: \"below\" | \"bottom-right\";\n}) => {\n  const style: CSSProperties =\n    position === \"below\"\n      ? { position: \"relative\", left: \"-454px\", top: \"0px\" }\n      : { position: \"relative\", left: \"-282px\", top: \"-100px\" };\n  return (\n    <Box className=\"links\" direction=\"row\" justify=\"end\" style={style}>\n      <div style={{ position: \"relative\" }}>\n        <div\n          style={{\n            position: \"absolute\",\n            top: \"64px\",\n          }}\n        >\n          <QueryButton\n            query={{ key: \"modal\", value: \"about\", operation: \"open\" }}\n            plain\n            fill\n            label={\n              <LinkFrame\n                textColor={colorTheme.white}\n                frameColor={colorTheme.blue}\n                heading=\"About\"\n              >\n                <Box height={\"64px\"} width={\"128px\"}></Box>\n              </LinkFrame>\n            }\n          />\n        </div>\n        <div\n          style={{\n            position: \"absolute\",\n            left: \"204px\",\n          }}\n        >\n          <QueryButton\n            query={{ key: \"modal\", value: \"privacy\", operation: \"open\" }}\n            href=\"/privacy\"\n            plain\n            fill\n            label={\n              <LinkFrame\n                textColor={colorTheme.white}\n                frameColor={colorTheme.red}\n                heading=\"Privacy\"\n              >\n                <Box height={\"96px\"} width={\"142px\"}></Box>\n              </LinkFrame>\n            }\n          />\n        </div>\n        <div\n          style={{\n            position: \"absolute\",\n            left: \"314px\",\n            top: \"84px\",\n          }}\n        >\n          <QueryButton\n            query={{ key: \"modal\", value: \"credits\", operation: \"open\" }}\n            href=\"/credits\"\n            plain\n            fill\n            label={\n              <LinkFrame\n                textColor={colorTheme.white}\n                frameColor={colorTheme.green}\n                heading=\"Credits\"\n              >\n                <Box height={\"60px\"} width={\"140px\"}></Box>\n              </LinkFrame>\n            }\n          />\n        </div>\n      </div>\n    </Box>\n  );\n};\n\nconst OnHoverBox = styled(Box)`\n  &:hover {\n    transform: translateY(-4px);\n  }\n\n  transition: all 0.2s;\n`;\n\nconst LinkFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  return (\n    <OnHoverBox\n      className=\"link frame\"\n      style={{\n        outlineOffset: `-3px`,\n        outline: `3px ${frameColor} solid`,\n      }}\n      margin={{ bottom: \"8px\" }}\n    >\n      <LinksHeading\n        textColor={textColor}\n        frameColor={frameColor}\n        heading={heading}\n      />\n      {children}\n    </OnHoverBox>\n  );\n};\n\nconst LinksHeading = ({\n  frameColor,\n  textColor,\n  heading,\n}: {\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}) => {\n  return (\n    <Box className=\"link heading\" direction=\"row\">\n      <Box\n        background={frameColor}\n        pad={{ horizontal: \"16px\", vertical: \"8px\" }}\n      >\n        <Heading level={2} color={textColor} margin=\"0\" size=\"small\">\n          {heading}\n        </Heading>\n      </Box>\n    </Box>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/720p.40b0841d.mp4\";","import { useCallback, useEffect, useRef } from \"react\";\nimport { store } from \"../../store/store\";\nimport videoSrc from \"./../../720p.mp4\";\nexport const ChapterX = () => {\n  const ref = useRef<HTMLVideoElement>(null);\n  useChapter(ref);\n\n  return (\n    <video\n      ref={ref}\n      style={{\n        boxSizing: \"border-box\",\n        outline: \"none\",\n        width: \"100%\",\n        height: \"100%\",\n      }}\n      width=\"100%\"\n      height=\"100%\"\n      src={videoSrc}\n    ></video>\n  );\n};\nfunction useChapter(ref: React.RefObject<HTMLVideoElement>) {\n  const play = useCallback(() => ref.current?.play(), [ref]);\n  const pause = useCallback(() => ref.current?.pause(), [ref]);\n  const rewind = useCallback(() => {\n    if (ref.current) ref.current.currentTime = 0;\n  }, [ref]);\n  const getIsPlaying = useCallback(() => {\n    if (!ref.current) return false;\n    return !!(\n      ref.current.currentTime > 0 &&\n      !ref.current.paused &&\n      !ref.current.ended &&\n      ref.current.readyState > 2\n    );\n  }, [ref]);\n\n  const getProgress = useCallback(() => {\n    if (!ref.current) return 0;\n    return ref.current.currentTime / ref.current.duration;\n  }, [ref]);\n\n  const setProgress = useCallback(\n    (progress: number) => {\n      if (!ref.current) return;\n      ref.current.currentTime = progress * ref.current.duration;\n    },\n    [ref]\n  );\n\n  const seekTimeDelta = useCallback(\n    (delta: number) => {\n      if (!ref.current) return;\n      const target = ref.current.currentTime + delta;\n      const clippedTarget = Math.min(Math.max(0, target), ref.current.duration);\n      ref.current.currentTime = clippedTarget;\n    },\n    [ref]\n  );\n  const onClick = useCallback(() => (getIsPlaying() ? pause() : play()), [\n    getIsPlaying,\n    pause,\n    play,\n  ]);\n\n  useEffect(() => {\n    const updateStore = () => {\n      return store.setState({\n        chapter: {\n          play,\n          pause,\n          rewind,\n          getIsPlaying,\n          getProgress,\n          setProgress,\n          seekTimeDelta,\n          progress: getProgress(),\n          chapterNumber: 1,\n          intention: getIsPlaying() ? \"PLAY\" : \"PAUSE\",\n        },\n      });\n    };\n\n    const video = ref.current;\n\n    ref.current?.addEventListener(\"click\", onClick);\n    ref.current?.addEventListener(\"playing\", updateStore);\n    ref.current?.addEventListener(\"pause\", updateStore);\n    ref.current?.addEventListener(\"timeupdate\", updateStore);\n    updateStore();\n    return () => {\n      video?.removeEventListener(\"click\", onClick);\n      video?.removeEventListener(\"play\", updateStore);\n      video?.removeEventListener(\"pause\", updateStore);\n      video?.removeEventListener(\"timeupdate\", updateStore);\n      store.setState({ chapter: undefined });\n    };\n  }, [\n    getIsPlaying,\n    pause,\n    play,\n    getProgress,\n    rewind,\n    setProgress,\n    seekTimeDelta,\n    ref,\n    onClick,\n  ]);\n}\n","import { Box, Grid, ResponsiveContext, Text } from \"grommet\";\nimport React, {\n  PropsWithChildren,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport {\n  CameraIndicatorBox,\n  ChapterCameraIndicator,\n} from \"../../components/CameraIndicator\";\nimport { FullWidthStack } from \"../../components/FullWidthStack\";\nimport { Timeline } from \"../../components/Timeline\";\nimport { colorTheme } from \"../../theme\";\nimport { LinksSmall } from \"../plain/Links\";\nimport { ChapterX } from \"./ChapterX\";\nimport { useIsActive } from \"./useIsActive\";\n\nexport const Chapter = () => {\n  return (\n    <ChapterContainer>\n      <ChapterContent />\n    </ChapterContainer>\n  );\n};\n\nconst ChapterContainer = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  if (size === \"small\" || size === \"medium\") {\n    return (\n      <Box background=\"black\" overflow=\"vertical\">\n        <ChapterContainerSmallMedium>{children}</ChapterContainerSmallMedium>\n      </Box>\n    );\n  } else {\n    return (\n      <Box fill background=\"black\" overflow=\"hidden\">\n        <ChapterContainerLargeXLarge>{children}</ChapterContainerLargeXLarge>\n      </Box>\n    );\n  }\n};\n\nconst ChapterContainerSmallMedium = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext);\n  const isSmall = size === \"small\";\n  const isSmallOrMedium = isSmall || size === \"medium\";\n\n  return (\n    <>\n      <Box flex={false} className=\"chapter container\" margin=\"16px\">\n        <Grid\n          responsive={false}\n          areas={[\n            { name: \"chapter\", start: [0, 0], end: [0, 0] },\n            { name: \"notification\", start: [0, 1], end: [0, 1] },\n            {\n              name: \"timeline\",\n              start: [0, 2],\n              end: [0, 2],\n            },\n          ]}\n          fill\n          columns={[\"full\"]}\n          rows={[\"auto\", \"auto\", \"auto\"]}\n          gap=\"16px\"\n        >\n          <Box\n            gridArea=\"chapter\"\n            // height={{ min: (9 / 16) * window.innerWidth + \"px\" }}\n          >\n            <ChapterFrame textColor={colorTheme.black} heading=\"Discriminator\">\n              {children}\n            </ChapterFrame>\n          </Box>\n          <Box gridArea=\"notification\">\n            {isSmallOrMedium && <WebcamNotification />}\n          </Box>\n          <Timeline gridArea=\"timeline\" />\n        </Grid>\n      </Box>\n      <Box margin=\"16px\">{isSmall && <LinksSmall isOnDark={true} />}</Box>\n    </>\n  );\n};\n\nconst ChapterContainerLargeXLarge = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <Box className=\"cover container\" margin=\"16px\">\n      <ChapterFrame textColor={colorTheme.black} heading=\"Discriminator\">\n        <Grid\n          responsive={false}\n          areas={[\n            { name: \"cover\", start: [0, 0], end: [0, 0] },\n            {\n              name: \"timeline\",\n              start: [0, 1],\n              end: [0, 1],\n            },\n          ]}\n          fill\n          columns={[\"full\"]}\n          rows={[\"flex\", \"auto\"]}\n          gap=\"12px\"\n        >\n          <Box gridArea=\"cover\" fill>\n            {children}\n          </Box>\n          <Timeline gridArea=\"timeline\" />\n        </Grid>\n      </ChapterFrame>\n    </Box>\n  );\n};\n\nconst ChapterContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"0px\" : \"0px\";\n  const marginHorizontal = isSmall ? \"0px\" : \"0px\";\n  const marginBottom = size === \"large\" || size === \"xlarge\" ? \"0px\" : \"0px\";\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{\n        horizontal: marginHorizontal,\n        top: marginTop,\n        bottom: marginBottom,\n      }}\n      className=\"cover content\"\n    >\n      <ChapterX />\n    </Box>\n  );\n};\n\nconst FadingOutline = styled(Box)<{ outlineColor: string }>`\n  outline-color: ${(props) => props.outlineColor};\n  outline-offset: -3px;\n  outline-style: solid;\n  outline-width: 3px;\n\n  transition: outline-color 0.4s;\n`;\n\nconst ChapterFrameStack = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nconst StackLayerGuiding = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nconst StackLayerNotGuiding = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  pointer-events: none;\n`;\n\nconst FadeOutBox = styled(Box)<{ isShown: boolean }>`\n  opacity: ${(props) => (props.isShown ? \"1\" : \"0\")};\n  transition: opacity 0.6s;\n`;\n\nconst WebcamNotification = () => {\n  const [isShown, setIsShown] = useState(true);\n  useEffect(() => {\n    const timeout =\n      isShown &&\n      setTimeout(() => {\n        setIsShown(false);\n      }, 3000);\n    return () => {\n      timeout && clearTimeout(timeout);\n    };\n  }, [isShown]);\n\n  return (\n    <FadeOutBox\n      isShown={isShown}\n      flex={false}\n      pad=\"10px\"\n      border={{ color: \"red\", size: \"3px\" }}\n    >\n      <Text size=\"xsmall\" color=\"offWhite\">\n        To make this sequence interactive, turn on your webcam\n      </Text>\n    </FadeOutBox>\n  );\n};\n\nconst ChapterFrame = ({\n  children,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  textColor: string;\n  heading: string;\n}>) => {\n  const isActive = useIsActive();\n\n  return (\n    <ChapterFrameStack>\n      <StackLayerGuiding>\n        <FullWidthStack fill anchor=\"top-fill\">\n          <Box fill>{children}</Box>\n          <ChapterHeadingBlock\n            frameColor={colorTheme.yellow}\n            isActive={isActive}\n          >\n            <Text\n              size={\"24px\"}\n              color={textColor}\n              style={{ lineHeight: \"100%\", userSelect: \"none\" }}\n            >\n              {heading}\n            </Text>\n          </ChapterHeadingBlock>\n        </FullWidthStack>\n      </StackLayerGuiding>\n      <StackLayerNotGuiding>\n        <FadingOutline\n          fill\n          outlineColor={isActive ? colorTheme.yellow : colorTheme.yellowOpaque}\n          className=\"cover-frame\"\n        />\n      </StackLayerNotGuiding>\n    </ChapterFrameStack>\n  );\n};\n\nconst OpacityFade = styled(Box)<{ isShown: boolean }>`\n  opacity: ${(props) => (props.isShown ? 1 : 0)};\n  transition: all 0.4s;\n`;\n\nconst ChapterHeadingBlock = ({\n  frameColor,\n  children,\n  isActive,\n}: PropsWithChildren<{\n  isActive: boolean;\n  frameColor: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  const isSmallOrMedium = isSmall || size === \"medium\";\n\n  return (\n    <Box\n      className=\"heading-block\"\n      direction=\"row\"\n      flex={false}\n      justify=\"between\"\n      align=\"start\"\n    >\n      <Box>\n        <OpacityFade\n          pad={{ horizontal: \"16px\", vertical: \"12px\" }}\n          background={frameColor}\n          isShown={isActive}\n        >\n          {children}\n        </OpacityFade>\n      </Box>\n\n      {isSmallOrMedium && <CameraIndicatorBox />}\n      {!isSmallOrMedium && (\n        <Box justify=\"end\">\n          <ChapterCameraIndicator />\n        </Box>\n      )}\n    </Box>\n  );\n};\n","import { Box, Text } from \"grommet\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { colorTheme } from \"../theme\";\nimport { RoutedButton } from \"./RoutedAnchor\";\n\nconst AnimatedBackground = styled(Box)<{ styledWidth: number }>`\n  transition: all 1s linear;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: ${(props) => (1 - props.styledWidth) * 100}%;\n  bottom: 0;\n  z-index: -1;\n`;\n\nconst AnimateWidthAndHover = styled(Box)`\n  transition: width 1s linear, transform 0.2s;\n  &:hover {\n    transform: translateY(-3px);\n  }\n`;\n\nexport const NextButton = () => {\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    if (progress >= 5) return;\n    const timeout = setTimeout(() => setProgress(progress + 1), 1000);\n    return () => clearTimeout(timeout);\n  }, [progress]);\n\n  return (\n    <RoutedButton\n      plain\n      href=\"/home\"\n      label={\n        <AnimateWidthAndHover\n          border={{ size: \"3px\", color: colorTheme.white }}\n          style={{ zIndex: 10, position: \"relative\" }}\n          pad={{ horizontal: \"21px\", vertical: \"5px\" }}\n          width={progress < 2 ? \"80px\" : \"286px\"}\n        >\n          <AnimatedBackground\n            background=\"blue\"\n            styledWidth={progress / 5}\n          ></AnimatedBackground>\n          <Box direction=\"row\" align=\"center\" gap=\"10px\" overflow=\"hidden\">\n            <Box flex={false} width=\"32px\" height=\"32px\">\n              <svg\n                width=\"32\"\n                height=\"32\"\n                viewBox=\"0 0 32 32\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <rect x=\"7\" y=\"11\" width=\"10\" height=\"10\" fill=\"#F8F9FA\" />\n                <path d=\"M27 16L17 25L17 7L27 16Z\" fill=\"#F8F9FA\" />\n              </svg>\n            </Box>\n            <Box flex={false} height=\"24px\" overflow=\"hidden\">\n              <Text color=\"white\" size=\"24px\" style={{ lineHeight: \"100%\" }}>\n                Go to next chapter\n              </Text>\n            </Box>\n          </Box>\n        </AnimateWidthAndHover>\n      }\n    ></RoutedButton>\n  );\n};\n","import { useEffect, useRef } from \"react\";\n\nexport const Cover1 = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const contextRef = useRef<CanvasRenderingContext2D>();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const maybeContext = canvas.getContext(\"2d\");\n    if (!maybeContext) return;\n    contextRef.current = maybeContext;\n  }, []);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const paint = (pointerX: number, pointerY: number) => {\n      const context = contextRef.current;\n      if (!context) return;\n\n      requestAnimationFrame(() => {\n        for (let x = pointerX - 10; x < pointerX + 10; x++) {\n          for (let y = pointerY - 10; y < pointerY + 10; y++) {\n            context.fillStyle = `hsl(${\n              (x * Math.sin(Date.now() / 10000)) % 255\n            }, 100%, 50%)`;\n            context.beginPath();\n\n            context.ellipse(x, y, 10, 10, 0, 0, 2 * Math.PI);\n            context.fill();\n          }\n        }\n      });\n    };\n    const onMouseMove = (event: MouseEvent): void => {\n      if (!canvasRef.current) return;\n      const { relativeX, relativeY } = getRelativeClickPosition(\n        event,\n        canvasRef.current\n      );\n\n      const x = relativeX * canvasRef.current?.width;\n      const y = relativeY * canvasRef.current?.height;\n      if (x !== undefined && y !== undefined) {\n        paint(x, y);\n      }\n    };\n    window.addEventListener(\"mousemove\", onMouseMove);\n\n    const onTouchMove = (event: TouchEvent): void => {\n      if (!canvasRef.current) return;\n      const { relativeX, relativeY } = getRelativeTouchPosition(\n        event,\n        canvasRef.current\n      );\n\n      const x = relativeX * canvasRef.current.width;\n      const y = relativeY * canvasRef.current.height;\n      if (x !== undefined && y !== undefined) {\n        paint(x, y);\n      }\n    };\n    window.addEventListener(\"touchmove\", onTouchMove);\n\n    const onWindowResize = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    window.addEventListener(\"resize\", onWindowResize);\n\n    return () => {\n      window.removeEventListener(\"touchmove\", onTouchMove);\n      window.removeEventListener(\"mousemove\", onMouseMove);\n      window.removeEventListener(\"resize\", onWindowResize);\n    };\n  }, []);\n\n  return (\n    <canvas\n      style={{ width: \"100%\", height: \"100%\" }}\n      width={window.innerWidth}\n      height={window.innerHeight}\n      ref={canvasRef}\n    ></canvas>\n  );\n};\n\nfunction getRelativeTouchPosition(\n  event: TouchEvent,\n  target: HTMLCanvasElement\n): { relativeX: number; relativeY: number } {\n  const screenX = event.changedTouches[0].clientX;\n  const screenY = event.changedTouches[0].clientY;\n  const rect = target.getBoundingClientRect();\n\n  const clip = (value: number, min: number, max: number) =>\n    Math.min(max, Math.max(value, min));\n\n  const clippedX = clip(screenX - rect.left, 0, rect.width - 1);\n  const clippedY = clip(screenY - rect.top, 0, rect.height - 1);\n\n  const relativeX = clippedX / rect.width;\n  const relativeY = clippedY / rect.height;\n  return { relativeX: relativeX, relativeY: relativeY };\n}\n\nfunction getRelativeClickPosition(\n  event: MouseEvent,\n  target: HTMLCanvasElement\n): { relativeX: number; relativeY: number } {\n  const screenX = event.clientX;\n  const screenY = event.clientY;\n  const rect = target.getBoundingClientRect();\n\n  const clip = (value: number, min: number, max: number) =>\n    Math.min(max, Math.max(value, min));\n\n  const clippedX = clip(screenX - rect.left, 0, rect.width - 1);\n  const clippedY = clip(screenY - rect.top, 0, rect.height - 1);\n\n  const relativeX = clippedX / rect.width;\n  const relativeY = clippedY / rect.height;\n  return { relativeX: relativeX, relativeY: relativeY };\n}\n","import { Box, Grid, ResponsiveContext, Text } from \"grommet\";\nimport React, {\n  PropsWithChildren,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport {\n  CameraIndicatorBox,\n  ChapterCameraIndicator,\n} from \"../../components/CameraIndicator\";\nimport { FullWidthStack } from \"../../components/FullWidthStack\";\nimport { NextButton } from \"../../components/NextButton\";\nimport { Timeline } from \"../../components/Timeline\";\nimport { colorTheme } from \"../../theme\";\nimport { Cover1 } from \"./Cover1\";\n\nexport const Cover = () => {\n  return (\n    <Box fill background=\"black\" height={{ min: \"396px\" }}>\n      <CoverContainer>\n        <CoverContent />\n      </CoverContainer>\n    </Box>\n  );\n};\n\nconst CoverContainer = ({ children }: PropsWithChildren<{}>) => {\n  return (\n    <Box className=\"cover container\" margin=\"16px\">\n      <Grid\n        responsive={false}\n        areas={[\n          { name: \"cover\", start: [0, 0], end: [0, 0] },\n          {\n            name: \"timeline\",\n            start: [0, 1],\n            end: [0, 1],\n          },\n        ]}\n        fill\n        columns={[\"full\"]}\n        rows={[\"flex\", \"auto\"]}\n        gap=\"16px\"\n      >\n        <Box gridArea=\"cover\" style={{ position: \"relative\" }}>\n          <CoverFrame\n            textColor={colorTheme.black}\n            frameColor={\"yellow\"}\n            heading=\"Discriminator\"\n          >\n            {children}\n          </CoverFrame>\n          <Box style={{ position: \"absolute\", bottom: \"10%\", right: 0 }}>\n            <NextButton />\n          </Box>\n        </Box>\n        <Timeline gridArea=\"timeline\" showScrubber={false} />\n      </Grid>\n    </Box>\n  );\n};\n\nconst CoverContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"0px\" : \"0px\";\n  const marginHorizontal = isSmall ? \"0px\" : \"0px\";\n  const marginBottom = size === \"large\" || size === \"xlarge\" ? \"0\" : \"0px\";\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{\n        horizontal: marginHorizontal,\n        top: marginTop,\n        bottom: marginBottom,\n      }}\n      className=\"cover content\"\n    >\n      <Cover1 />\n    </Box>\n  );\n};\n\nconst FadeOutBox = styled(Box)<{ isShown: boolean }>`\n  opacity: ${(props) => (props.isShown ? \"1\" : \"0\")};\n  transition: opacity 0.6s;\n`;\n\nconst WebcamNotification = () => {\n  const [isShown, setIsShown] = useState(true);\n  useEffect(() => {\n    const timeout =\n      isShown &&\n      setTimeout(() => {\n        setIsShown(false);\n      }, 3000);\n    return () => {\n      timeout && clearTimeout(timeout);\n    };\n  }, [isShown]);\n\n  return (\n    <FadeOutBox\n      isShown={isShown}\n      flex={false}\n      style={{\n        position: \"absolute\",\n        minHeight: \"100%\",\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 1,\n      }}\n      background={\"black\"}\n      pad=\"10px\"\n      border={{ color: \"red\", size: \"3px\" }}\n    >\n      <Text size=\"xsmall\" color=\"offWhite\">\n        To make this sequence interactive, turn on your webcam\n      </Text>\n    </FadeOutBox>\n  );\n};\n\nconst FrameBox = styled(Box)<{\n  frameColor: keyof typeof colorTheme;\n}>`\n  & {\n    position: relative;\n  }\n  &:after {\n    outline-offset: -3px;\n    outline: 3px ${(props) => colorTheme[props.frameColor]} solid;\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n`;\n\nconst CoverFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: keyof typeof colorTheme;\n  textColor: string;\n  heading: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  const isSmallOrMedium = isSmall || size === \"medium\";\n  return (\n    <FrameBox className=\"cover-frame\" frameColor={frameColor}>\n      <FullWidthStack fill anchor=\"top-fill\">\n        <Box fill>{children}</Box>\n        <CoverHeadingBlock frameColor={frameColor}>\n          {isSmallOrMedium && <WebcamNotification />}\n\n          <Text\n            size={\"24px\"}\n            color={textColor}\n            style={{ lineHeight: \"100%\", userSelect: \"none\" }}\n          >\n            {heading}\n          </Text>\n        </CoverHeadingBlock>\n      </FullWidthStack>\n    </FrameBox>\n  );\n};\n\nconst CoverHeadingBlock = ({\n  frameColor,\n  children,\n}: PropsWithChildren<{\n  frameColor: string;\n}>) => {\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  const isSmallOrMedium = isSmall || size === \"medium\";\n\n  return (\n    <Box\n      className=\"heading-block\"\n      direction=\"row\"\n      flex={false}\n      justify=\"between\"\n      align=\"start\"\n      style={{ userSelect: \"none\", pointerEvents: \"none\" }}\n    >\n      <Box\n        background={frameColor}\n        pad={{ horizontal: \"16px\", vertical: \"12px\" }}\n      >\n        {children}\n      </Box>\n      <Box justify=\"end\">\n        {isSmallOrMedium && <CameraIndicatorBox />}\n        {!isSmallOrMedium && <ChapterCameraIndicator />}\n      </Box>\n    </Box>\n  );\n};\n","import { Box, Heading,Paragraph } from \"grommet\";\nimport React from \"react\";\n\nexport const EndPage = () => {\n  return (\n    <Box>\n      <Heading>End Page</Heading>\n      <Paragraph fill>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\n        pretium finibus leo nec commodo. Vestibulum vestibulum eget lectus sit\n        amet rhoncus. Phasellus pretium nulla eget pellentesque fringilla. Nunc\n        turpis dolor, viverra a lectus nec, pellentesque commodo sapien. Proin\n        iaculis, arcu vitae aliquam eleifend, dolor tellus blandit urna, sit\n        amet luctus arcu nulla id elit. Nam nec lobortis orci. Duis nisi sapien,\n        dictum a tincidunt ut, luctus rhoncus lacus. Curabitur a lacus ante.\n        Praesent venenatis a arcu vel suscipit. Interdum et malesuada fames ac\n        ante ipsum primis in faucibus. Nullam nec felis et lectus faucibus\n        venenatis. Fusce quis bibendum nisi, sed condimentum turpis. Maecenas ut\n        congue lacus. Sed enim velit, finibus vel enim eget, lacinia consequat\n        neque. Suspendisse volutpat risus nibh, non scelerisque libero facilisis\n        sed.\n      </Paragraph>\n      <Paragraph fill>\n        Cras nibh sapien, consequat sed varius vitae, sagittis sed felis.\n        Pellentesque tincidunt justo lorem, sollicitudin varius quam malesuada\n        at. Duis eget sagittis ex, placerat aliquam nisi. Integer condimentum\n        eleifend leo, in sodales lectus sagittis consectetur. Etiam euismod, est\n        fringilla eleifend accumsan, enim ex auctor odio, et bibendum metus\n        tellus sed metus. Nulla ornare massa justo, ac feugiat velit efficitur\n        in. Sed consequat ultrices massa non iaculis. Aenean luctus, nulla eu\n        convallis porta, risus nunc fringilla nisl, vel sodales neque urna vitae\n        elit. Praesent dignissim aliquam suscipit. Fusce eu turpis nec magna\n        maximus dictum. Donec dapibus at magna sed suscipit. Aliquam malesuada,\n        lorem eget ultricies pellentesque, sapien sem ullamcorper ligula, non\n        ornare velit nulla ut eros.\n      </Paragraph>\n      <Paragraph fill>\n        Nulla in eros tincidunt, bibendum leo eu, lobortis justo. Donec et\n        tristique arcu. Duis nec semper turpis. In at lacinia nulla, et\n        imperdiet lectus. Donec sodales aliquet fringilla. Ut et mauris eros.\n        Fusce eget lacinia enim. Fusce posuere nec lacus at ullamcorper. Cras\n        imperdiet maximus consectetur.\n      </Paragraph>\n      <Paragraph fill>\n        Suspendisse in sapien varius, accumsan arcu sit amet, egestas quam. Ut\n        dapibus velit odio, a ultricies urna interdum sed. Maecenas in dapibus\n        sem, at euismod purus. Quisque semper nulla efficitur, sagittis sapien\n        quis, tincidunt felis. Fusce vel augue sed mauris maximus consectetur.\n        Fusce pellentesque in sem a dapibus. Vivamus pretium cursus tellus quis\n        commodo. In ultricies nisi quis viverra condimentum. Etiam id finibus\n        lacus, in tempus nunc. Sed sed nisl sem. Suspendisse ullamcorper id odio\n        eu volutpat.\n      </Paragraph>\n      <Paragraph fill>\n        Donec placerat neque a rhoncus molestie. Nunc a faucibus orci. Praesent\n        elementum ligula ut nulla iaculis, nec luctus elit faucibus. Nam\n        aliquam, mauris non imperdiet fringilla, augue purus tristique sapien,\n        sed facilisis justo massa hendrerit lacus. Phasellus interdum tristique\n        lacinia. Pellentesque vestibulum tincidunt fringilla. Quisque convallis\n        arcu purus, eget euismod nulla maximus ut. Proin vel purus ut risus\n        varius dictum. In feugiat consequat nunc at hendrerit. Vivamus in\n        placerat leo. Morbi diam ante, porttitor non mollis eu, eleifend eu\n        diam. Integer non dui ipsum. Nullam dictum tempus leo vitae cursus. Nunc\n        consequat ornare sagittis. Vestibulum at vehicula diam, quis consectetur\n        justo. Proin sed feugiat orci.\n      </Paragraph>\n    </Box>\n  );\n};\n","import { Box, Heading,Paragraph } from \"grommet\";\nimport React from \"react\";\n\nexport const Error = () => {\n  return (\n    <Box>\n      <Heading>Error</Heading>\n      <Paragraph fill>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\n        pretium finibus leo nec commodo. Vestibulum vestibulum eget lectus sit\n        amet rhoncus. Phasellus pretium nulla eget pellentesque fringilla. Nunc\n        turpis dolor, viverra a lectus nec, pellentesque commodo sapien. Proin\n        iaculis, arcu vitae aliquam eleifend, dolor tellus blandit urna, sit\n        amet luctus arcu nulla id elit. Nam nec lobortis orci. Duis nisi sapien,\n        dictum a tincidunt ut, luctus rhoncus lacus. Curabitur a lacus ante.\n        Praesent venenatis a arcu vel suscipit. Interdum et malesuada fames ac\n        ante ipsum primis in faucibus. Nullam nec felis et lectus faucibus\n        venenatis. Fusce quis bibendum nisi, sed condimentum turpis. Maecenas ut\n        congue lacus. Sed enim velit, finibus vel enim eget, lacinia consequat\n        neque. Suspendisse volutpat risus nibh, non scelerisque libero facilisis\n        sed.\n      </Paragraph>\n      <Paragraph fill>\n        Cras nibh sapien, consequat sed varius vitae, sagittis sed felis.\n        Pellentesque tincidunt justo lorem, sollicitudin varius quam malesuada\n        at. Duis eget sagittis ex, placerat aliquam nisi. Integer condimentum\n        eleifend leo, in sodales lectus sagittis consectetur. Etiam euismod, est\n        fringilla eleifend accumsan, enim ex auctor odio, et bibendum metus\n        tellus sed metus. Nulla ornare massa justo, ac feugiat velit efficitur\n        in. Sed consequat ultrices massa non iaculis. Aenean luctus, nulla eu\n        convallis porta, risus nunc fringilla nisl, vel sodales neque urna vitae\n        elit. Praesent dignissim aliquam suscipit. Fusce eu turpis nec magna\n        maximus dictum. Donec dapibus at magna sed suscipit. Aliquam malesuada,\n        lorem eget ultricies pellentesque, sapien sem ullamcorper ligula, non\n        ornare velit nulla ut eros.\n      </Paragraph>\n      <Paragraph fill>\n        Nulla in eros tincidunt, bibendum leo eu, lobortis justo. Donec et\n        tristique arcu. Duis nec semper turpis. In at lacinia nulla, et\n        imperdiet lectus. Donec sodales aliquet fringilla. Ut et mauris eros.\n        Fusce eget lacinia enim. Fusce posuere nec lacus at ullamcorper. Cras\n        imperdiet maximus consectetur.\n      </Paragraph>\n      <Paragraph fill>\n        Suspendisse in sapien varius, accumsan arcu sit amet, egestas quam. Ut\n        dapibus velit odio, a ultricies urna interdum sed. Maecenas in dapibus\n        sem, at euismod purus. Quisque semper nulla efficitur, sagittis sapien\n        quis, tincidunt felis. Fusce vel augue sed mauris maximus consectetur.\n        Fusce pellentesque in sem a dapibus. Vivamus pretium cursus tellus quis\n        commodo. In ultricies nisi quis viverra condimentum. Etiam id finibus\n        lacus, in tempus nunc. Sed sed nisl sem. Suspendisse ullamcorper id odio\n        eu volutpat.\n      </Paragraph>\n      <Paragraph fill>\n        Donec placerat neque a rhoncus molestie. Nunc a faucibus orci. Praesent\n        elementum ligula ut nulla iaculis, nec luctus elit faucibus. Nam\n        aliquam, mauris non imperdiet fringilla, augue purus tristique sapien,\n        sed facilisis justo massa hendrerit lacus. Phasellus interdum tristique\n        lacinia. Pellentesque vestibulum tincidunt fringilla. Quisque convallis\n        arcu purus, eget euismod nulla maximus ut. Proin vel purus ut risus\n        varius dictum. In feugiat consequat nunc at hendrerit. Vivamus in\n        placerat leo. Morbi diam ante, porttitor non mollis eu, eleifend eu\n        diam. Integer non dui ipsum. Nullam dictum tempus leo vitae cursus. Nunc\n        consequat ornare sagittis. Vestibulum at vehicula diam, quis consectetur\n        justo. Proin sed feugiat orci.\n      </Paragraph>\n    </Box>\n  );\n};\n","import { Box, Text } from \"grommet\";\nimport React, { ReactNode } from \"react\";\nimport styled from \"styled-components\";\nimport { RoutedButton } from \"../../components/RoutedAnchor\";\nimport { Routes } from \"../../Routes\";\nimport { colorTheme } from \"../../theme\";\n\nconst OnHoverBox = styled(Box)<{ fillColor: string }>`\n  &:hover {\n    background-color: ${(props) => props.fillColor};\n\n    & > span {\n      color: ${colorTheme.offWhite};\n    }\n  }\n\n  & > span {\n    color: ${(props) => props.fillColor};\n  }\n\n  transition: all 0.2s;\n`;\n\nexport const CustomRoutedButton = ({\n  color,\n  textContent,\n  href,\n  size = \"small\",\n}: {\n  color: keyof typeof colorTheme;\n  textContent: ReactNode;\n  href: Routes;\n  size?: \"large\" | \"small\";\n}) => {\n  const pad =\n    size === \"small\"\n      ? { horizontal: \"24px\", vertical: \"9px\" }\n      : { horizontal: \"30px\", vertical: \"13px\" };\n\n  return (\n    <Box className=\"custom button\" direction=\"row\">\n      <RoutedButton\n        plain\n        label={\n          <OnHoverBox\n            border={{ color, style: \"solid\", size: \"3px\" }}\n            pad={pad}\n            fillColor={colorTheme[color]}\n          >\n            <Text size=\"24px\" style={{ lineHeight: \"100%\" }} color={color}>\n              {textContent}\n            </Text>\n          </OnHoverBox>\n        }\n        href={href}\n      />\n    </Box>\n  );\n};\n","import { Box, ResponsiveContext, Text } from \"grommet\";\nimport React, { PropsWithChildren, useContext } from \"react\";\nimport { CameraIndicatorBox } from \"./CameraIndicator\";\nimport { FullWidthStack } from \"./FullWidthStack\";\n\nexport const PageFrame = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style = {\n    outlineOffset: `-3px`,\n    outline: `3px ${frameColor} solid`,\n  };\n\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n\n  const textSize = isSmall ? \"24px\" : \"48px\";\n\n  return (\n    <Box className=\"frame\" style={style} flex={false}>\n      <Box className=\"heading-block\" direction=\"row\">\n        <Box\n          background={frameColor}\n          pad={{ horizontal: isSmall ? \"16px\" : \"20px\", vertical: \"12px\" }}\n        >\n          <Text\n            size={textSize}\n            color={textColor}\n            style={{ lineHeight: \"100%\" }}\n          >\n            {heading}\n          </Text>\n        </Box>\n      </Box>\n\n      {children}\n    </Box>\n  );\n};\n\nexport const PageFrameWithCameraIndicator = ({\n  children,\n  frameColor,\n  textColor,\n  heading,\n}: PropsWithChildren<{\n  frameColor: string;\n  textColor: string;\n  heading: string;\n}>) => {\n  const style = {\n    outlineOffset: `-3px`,\n    outline: `3px ${frameColor} solid`,\n  };\n\n  const size = useContext(ResponsiveContext) as \"small\" | string;\n  const isSmall = size === \"small\";\n  const textSize = isSmall ? \"24px\" : \"48px\";\n\n  return (\n    <Box\n      className=\"page frame with camera indicator\"\n      style={style}\n      flex={false}\n    >\n      <FullWidthStack fill anchor=\"top-fill\">\n        <Box fill>{children}</Box>\n\n        <Box\n          className=\"heading-block\"\n          direction=\"row\"\n          flex={false}\n          justify=\"between\"\n          align=\"start\"\n          style={{ userSelect: \"none\", pointerEvents: \"none\" }}\n        >\n          <Box\n            background={frameColor}\n            pad={{ horizontal: isSmall ? \"16px\" : \"20px\", vertical: \"12px\" }}\n          >\n            <Text\n              size={textSize}\n              color={textColor}\n              style={{ lineHeight: \"100%\" }}\n            >\n              {heading}\n            </Text>\n          </Box>\n          <CameraIndicatorBox borderColor=\"black\" />\n        </Box>\n      </FullWidthStack>\n    </Box>\n  );\n};\n","import { Box, BoxProps, ResponsiveContext, Text } from \"grommet\";\nimport React, { PropsWithChildren, useContext } from \"react\";\nimport { colorTheme } from \"../../theme\";\nimport { CustomRoutedButton } from \"./CustomButton\";\nimport { PageFrame } from \"../../components/Frames\";\nimport { Links } from \"./Links\";\n\nexport const Home = () => {\n  return (\n    <HomeContainer>\n      <HomeContent />\n    </HomeContainer>\n  );\n};\n\nconst HomeContainer = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = { margin: \"16px\", gap: \"48px\" };\n      break;\n    case \"medium\":\n      props = {\n        margin: { horizontal: \"64px\", top: \"96px\", bottom: \"64px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { left: \"64px\", top: \"96px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { left: \"112px\", top: \"112px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n  }\n\n  return (\n    <Box className=\"home container\" {...props}>\n      <PageFrame\n        textColor={colorTheme.yellow}\n        frameColor={colorTheme.black}\n        heading=\"Discriminator\"\n      >\n        {children}\n      </PageFrame>\n      <Links />\n    </Box>\n  );\n};\n\nconst HomeContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"56px\" : \"48px\";\n  const marginHorizontal = isSmall ? \"32px\" : \"64px\";\n\n  const textSize = isSmall ? \"20px\" : \"24px\";\n  const lineHeight = isSmall ? \"30px\" : \"36px\";\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{ horizontal: marginHorizontal, top: marginTop, bottom: \"64px\" }}\n    >\n      <Text size={textSize} style={{ lineHeight: lineHeight }}>\n        Egestas enim cursus pretium leo, egestas blandit egestas nunc magna.\n        Lectus euismod mauris faucibus massa nibh condimentum vitae nunc quis.\n        Lacus vitae amet aliquam id leo. Interdum vulputate eu et aliquet elit\n        morbi bibendum. Tellus euismod metus, id feugiat amet.\n      </Text>\n\n      <CustomRoutedButton\n        color=\"blue\"\n        textContent=\"Start\"\n        href=\"/permissions\"\n        size={isSmall ? \"small\" : \"large\"}\n      />\n    </Box>\n  );\n};\n","import { Box, Heading, Paragraph } from \"grommet\";\nimport React from \"react\";\n\nexport const HomeCoil = () => {\n  return (\n    <Box>\n      <Heading>Home for Coil Users</Heading>\n      <Paragraph fill>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\n        pretium finibus leo nec commodo. Vestibulum vestibulum eget lectus sit\n        amet rhoncus. Phasellus pretium nulla eget pellentesque fringilla. Nunc\n        turpis dolor, viverra a lectus nec, pellentesque commodo sapien. Proin\n        iaculis, arcu vitae aliquam eleifend, dolor tellus blandit urna, sit\n        amet luctus arcu nulla id elit. Nam nec lobortis orci. Duis nisi sapien,\n        dictum a tincidunt ut, luctus rhoncus lacus. Curabitur a lacus ante.\n        Praesent venenatis a arcu vel suscipit. Interdum et malesuada fames ac\n        ante ipsum primis in faucibus. Nullam nec felis et lectus faucibus\n        venenatis. Fusce quis bibendum nisi, sed condimentum turpis. Maecenas ut\n        congue lacus. Sed enim velit, finibus vel enim eget, lacinia consequat\n        neque. Suspendisse volutpat risus nibh, non scelerisque libero facilisis\n        sed.\n      </Paragraph>\n      <Paragraph fill>\n        Cras nibh sapien, consequat sed varius vitae, sagittis sed felis.\n        Pellentesque tincidunt justo lorem, sollicitudin varius quam malesuada\n        at. Duis eget sagittis ex, placerat aliquam nisi. Integer condimentum\n        eleifend leo, in sodales lectus sagittis consectetur. Etiam euismod, est\n        fringilla eleifend accumsan, enim ex auctor odio, et bibendum metus\n        tellus sed metus. Nulla ornare massa justo, ac feugiat velit efficitur\n        in. Sed consequat ultrices massa non iaculis. Aenean luctus, nulla eu\n        convallis porta, risus nunc fringilla nisl, vel sodales neque urna vitae\n        elit. Praesent dignissim aliquam suscipit. Fusce eu turpis nec magna\n        maximus dictum. Donec dapibus at magna sed suscipit. Aliquam malesuada,\n        lorem eget ultricies pellentesque, sapien sem ullamcorper ligula, non\n        ornare velit nulla ut eros.\n      </Paragraph>\n      <Paragraph fill>\n        Nulla in eros tincidunt, bibendum leo eu, lobortis justo. Donec et\n        tristique arcu. Duis nec semper turpis. In at lacinia nulla, et\n        imperdiet lectus. Donec sodales aliquet fringilla. Ut et mauris eros.\n        Fusce eget lacinia enim. Fusce posuere nec lacus at ullamcorper. Cras\n        imperdiet maximus consectetur.\n      </Paragraph>\n      <Paragraph fill>\n        Suspendisse in sapien varius, accumsan arcu sit amet, egestas quam. Ut\n        dapibus velit odio, a ultricies urna interdum sed. Maecenas in dapibus\n        sem, at euismod purus. Quisque semper nulla efficitur, sagittis sapien\n        quis, tincidunt felis. Fusce vel augue sed mauris maximus consectetur.\n        Fusce pellentesque in sem a dapibus. Vivamus pretium cursus tellus quis\n        commodo. In ultricies nisi quis viverra condimentum. Etiam id finibus\n        lacus, in tempus nunc. Sed sed nisl sem. Suspendisse ullamcorper id odio\n        eu volutpat.\n      </Paragraph>\n      <Paragraph fill>\n        Donec placerat neque a rhoncus molestie. Nunc a faucibus orci. Praesent\n        elementum ligula ut nulla iaculis, nec luctus elit faucibus. Nam\n        aliquam, mauris non imperdiet fringilla, augue purus tristique sapien,\n        sed facilisis justo massa hendrerit lacus. Phasellus interdum tristique\n        lacinia. Pellentesque vestibulum tincidunt fringilla. Quisque convallis\n        arcu purus, eget euismod nulla maximus ut. Proin vel purus ut risus\n        varius dictum. In feugiat consequat nunc at hendrerit. Vivamus in\n        placerat leo. Morbi diam ante, porttitor non mollis eu, eleifend eu\n        diam. Integer non dui ipsum. Nullam dictum tempus leo vitae cursus. Nunc\n        consequat ornare sagittis. Vestibulum at vehicula diam, quis consectetur\n        justo. Proin sed feugiat orci.\n      </Paragraph>\n    </Box>\n  );\n};\n","import { Box, BoxProps, ResponsiveContext, Text } from \"grommet\";\nimport React, { PropsWithChildren, useContext, useState } from \"react\";\nimport { colorTheme } from \"../../theme\";\nimport { CameraIndicator } from \"./../../components/CameraIndicator\";\nimport { CustomRoutedButton } from \"./CustomButton\";\nimport {\n  PageFrame,\n  PageFrameWithCameraIndicator,\n} from \"./../../components/Frames\";\nimport { Links } from \"./Links\";\n\nexport const Permission = () => {\n  const [showBorder, setShowBorder] = useState(false);\n  const isSmall = useContext(ResponsiveContext) === \"small\";\n  return (\n    <Box fill>\n      {!isSmall && <CameraIndicator showBorder={showBorder} />}\n      <Box\n        overflow=\"auto\"\n        onScroll={(event) =>\n          setShowBorder((event.target as HTMLElement).scrollTop !== 0)\n        }\n        height=\"100%\"\n      >\n        <PermissionContainer>\n          <PermissionContent />\n        </PermissionContainer>\n      </Box>\n    </Box>\n  );\n};\n\nconst PermissionContainer = ({ children }: PropsWithChildren<{}>) => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  let props: BoxProps;\n  switch (size) {\n    case \"small\":\n      props = {\n        margin: { horizontal: \"16px\", top: \"16px\", bottom: \"32px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"medium\":\n      props = {\n        margin: { horizontal: \"64px\", top: \"16px\", bottom: \"64px\" },\n        gap: \"48px\",\n      };\n      break;\n    case \"large\":\n      props = {\n        margin: { left: \"64px\", top: \"20px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n    case \"xlarge\":\n      props = {\n        margin: { left: \"112px\", top: \"36px\", bottom: \"20px\" },\n        width: { max: \"896px\" },\n      };\n      break;\n  }\n\n  const Frame = size === \"small\" ? PageFrameWithCameraIndicator : PageFrame;\n\n  return (\n    <Box className=\"permission container\" {...props}>\n      <Frame\n        textColor={colorTheme.yellow}\n        frameColor={colorTheme.black}\n        heading=\"Discriminator\"\n      >\n        {children}\n      </Frame>\n      <Links />\n    </Box>\n  );\n};\n\nconst PermissionContent = () => {\n  const size = useContext(ResponsiveContext) as\n    | \"small\"\n    | \"medium\"\n    | \"large\"\n    | \"xlarge\";\n\n  const isSmall = size === \"small\";\n  const marginTop = isSmall ? \"104px\" : \"48px\";\n  const marginHorizontal = isSmall ? \"32px\" : \"64px\";\n\n  const textSize = isSmall ? \"20px\" : \"24px\";\n  const lineHeight = isSmall ? \"30px\" : \"36px\";\n\n  const DeclineText = () =>\n    isSmall ? (\n      <span>\n        <span style={{ textDecoration: \"underline\" }}>Do not use</span> webcam\n      </span>\n    ) : (\n      <span>\n        Continue <span style={{ textDecoration: \"underline\" }}>without</span>{\" \"}\n        webcam\n      </span>\n    );\n  const AcceptText = () =>\n    isSmall ? (\n      <span>\n        <span style={{ textDecoration: \"underline\" }}>Use</span> webcam\n      </span>\n    ) : (\n      <span>\n        Continue <span style={{ textDecoration: \"underline\" }}>with</span>{\" \"}\n        webcam\n      </span>\n    );\n\n  return (\n    <Box\n      gap={\"40px\"}\n      margin={{ horizontal: marginHorizontal, top: marginTop, bottom: \"64px\" }}\n    >\n      <Text size={textSize} style={{ lineHeight: lineHeight }}>\n        To get out the best out of this experience, we recommend to enable your\n        webcam. We do not store any of your information (see our privacy\n        policy). If you choose to not enable your webcam you will see xyz.\n      </Text>\n\n      <CustomRoutedButton\n        color={\"red\"}\n        textContent={<DeclineText />}\n        href=\"/cover\"\n      />\n      <CustomRoutedButton\n        color={\"green\"}\n        textContent={<AcceptText />}\n        href=\"/cover\"\n      />\n    </Box>\n  );\n};\n","import React, { ReactElement } from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport { PageContainer } from \"./components/PageContainer\";\nimport { Chapter } from \"./pages/chapters/Chapter\";\nimport { Cover } from \"./pages/covers/Cover\";\nimport { EndPage } from \"./pages/plain/EndPage\";\nimport { Error } from \"./pages/plain/Error\";\nimport { Home } from \"./pages/plain/Home\";\nimport { HomeCoil } from \"./pages/plain/HomeCoil\";\nimport { Permission } from \"./pages/plain/Permission\";\nimport { PlainPageRoutes } from \"./Routes\";\n\nconst routeToComponent: { url: PlainPageRoutes; component: ReactElement }[] = [\n  { url: \"/\", component: <Home /> },\n  { url: \"/cover\", component: <Cover /> },\n  { url: \"/chapter\", component: <Chapter /> },\n  { url: \"/home\", component: <Home /> },\n  { url: \"/permissions\", component: <Permission /> },\n  { url: \"/coil\", component: <HomeCoil /> },\n  { url: \"/end\", component: <EndPage /> },\n  { url: \"/error\", component: <Error /> },\n];\n\nfunction App() {\n  return (\n    <HashRouter basename={\"/\"}>\n      <Switch>\n        {routeToComponent.map(({ url, component }) => {\n          const backgroundColor =\n            url.includes(\"chapter\") || url.includes(\"cover\")\n              ? \"black\"\n              : \"yellow\";\n          return (\n            <Route exact path={url} key={url}>\n              <PageContainer backgroundColor={backgroundColor}>\n                {component}\n              </PageContainer>\n            </Route>\n          );\n        })}\n        <Route>Missing Route</Route>\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nimport * as WebFont from \"webfontloader\";\n\nWebFont.load({\n  custom: { families: [\"Roboto\"] },\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}